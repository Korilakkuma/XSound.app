{"version":3,"file":"app.js","mappings":"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CA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OAEF,IAGImjB,GAAS,IAAAnjB,UACb,IAAM,CACJ,OACA,QACA,OACA,OACA,QACA,OACA,OACA,OACA,QACA,OACA,OACA,QACA,OACA,OACA,OACA,QACA,OACA,OACA,QACA,OACA,OACA,OACA,QACA,KACA,KACA,QACA,KACA,KACA,KACA,QACA,MACA,MACA,QACA,MACA,MACA,MACA,SACA,MACA,MACA,SACA,MACA,MACA,MACA,SACA,MACA,MACA,SACA,MACA,MACA,QAEF,IAiBF,OAdA,IAAAE,YAAU,KACR,GAAK0F,EAOL,OAHAJ,OAAO4d,iBAAiB,UAAWrD,GAAsC,GACzEva,OAAO4d,iBAAiB,WAAYrD,GAAsC,GAEnE,KACLva,OAAO6d,oBAAoB,UAAWtD,GAAsC,GAC5Eva,OAAO6d,oBAAoB,WAAYtD,GAAsC,EAAM,CACpF,GACA,CAACna,EAAWma,KAGb,iBAAKrhB,UAAU,QAAO,WACpB,eAAIA,UAAU,gBAAe,SAC1BwkB,EAAOjS,KAAK/C,IACX,MAAMoV,EAAatD,EAAS9R,GACtBqV,EAAYjE,EAAkBkE,SAASF,KAAgB9D,EAAgBgE,SAASF,GAChFG,EAAUlE,EAAgBiE,SAASF,KAAgB7D,EAAc+D,SAASF,GAC1EI,EAAeH,GAAaE,EAC5BE,EAAWD,GAAgBhE,EAAkB8D,SAASF,GAE5D,OACE,eAAgB5kB,UAAW,mBAAkBugB,EAAcqE,IAAeK,EAAW,WAAa,IAAI,UACpG,mBACExiB,KAAK,SAAQ,eACC8d,EAAcqE,IAAeI,EAAY,aAC3CxV,EAAK,aACL8R,EAAS9R,GACrB0V,YAAajE,EACbkE,aAAclE,EACdpgB,UAAWogB,EACXmE,UAAWjE,EACXkE,WAAYlE,EACZmE,YAAarE,EACbsE,YAAatE,EACbuE,WAAYrE,EACZsE,QAAStE,EACTuE,QAASzE,EACTzC,OAAQ2C,EAAiB,SAExB3R,KAlBIA,EAqBV,OAGL,eAAIxP,UAAU,gBAAe,SAC1BykB,EAA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,MAAO,EACPd,MAAO,QACPslB,MAAO,+DAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,EACPd,MAAO,QACPslB,MAAO,+DAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,EACPd,MAAO,QACPslB,MAAO,+DAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,EACPd,MAAO,QACPslB,MAAO,+DAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,EACPd,MAAO,QACPslB,MAAO,+DAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,+DAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,+DAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,+DAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPslB,MAAO,qDAET,CACEb,IAAK,GAAGnoB,kCACRwE,MAAO,GACPd,MAAO,QACPs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ChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EA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,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,G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AChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,EAAO,EAAI,EAAAyE,EAAEwhB,iBAAmB,GAChC,MACF,KAAK,GACHjmB,E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","sources":["webpack://xsound-app/webpack/runtime/chunk loaded","webpack://xsound-app/webpack/runtime/create fake namespace object","webpack://xsound-app/./src/config.ts","webpack://xsound-app/./src/components/atoms/Flexbox/Flexbox.tsx","webpack://xsound-app/./src/components/atoms/Modal/Modal.tsx","webpack://xsound-app/./src/components/atoms/VerticalBox/VerticalBox.tsx","webpack://xsound-app/./src/components/atoms/Switch/Switch.tsx","webpack://xsound-app/./src/components/atoms/Slider/Slider.tsx","webpack://xsound-app/./src/components/atoms/Spinner/Spinner.tsx","webpack://xsound-app/./src/components/helpers/ParameterController/ParameterController.tsx","webpack://xsound-app/./src/components/atoms/Canvas/Canvas.tsx","webpack://xsound-app/./src/components/atoms/SVG/SVG.tsx","webpack://xsound-app/./src/utils.ts","webpack://xsound-app/./src/components/helpers/TimeOverviewer/TimeOverviewer.tsx","webpack://xsound-app/./src/components/helpers/TimeAnalyser/TimeAnalyser.tsx","webpack://xsound-app/./src/components/helpers/SpectrumAnalyser/SpectrumAnalyser.tsx","webpack://xsound-app/./src/components/standalones/Analyser/Analyser.tsx","webpack://xsound-app/./src/components/atoms/Fieldset/Fieldset.tsx","webpack://xsound-app/./src/components/atoms/Legend/Legend.tsx","webpack://xsound-app/./src/components/atoms/Button/Button.tsx","webpack://xsound-app/./src/components/atoms/FileUploader/FileUploader.tsx","webpack://xsound-app/./src/components/atoms/ProgressBar/ProgressBar.tsx","webpack://xsound-app/./src/components/standalones/AudioFieldset/AudioFieldset.tsx","webpack://xsound-app/./src/slices/index.ts","webpack://xsound-app/./src/components/atoms/Select/Select.tsx","webpack://xsound-app/./src/components/standalones/BasicControllers/BasicControllers.tsx","webpack://xsound-app/./src/components/standalones/BoosterFieldset/BoosterFieldset.tsx","webpack://xsound-app/./src/components/standalones/ChorusFieldset/ChorusFieldset.tsx","webpack://xsound-app/./src/components/standalones/CompressorFieldset/CompressorFieldset.tsx","webpack://xsound-app/./src/components/standalones/DelayFieldset/DelayFieldset.tsx","webpack://xsound-app/./src/components/standalones/EnvelopeGeneratorFieldset/EnvelopeGeneratorFieldset.tsx","webpack://xsound-app/./src/components/standalones/FilterFieldset/FilterFieldset.tsx","webpack://xsound-app/./src/components/standalones/FlangerFieldset/FlangerFieldset.tsx","webpack://xsound-app/./src/components/standalones/Footer/Footer.tsx","webpack://xsound-app/./src/components/standalones/Header/Header.tsx","webpack://xsound-app/./src/components/helpers/SelectableModal/SelectableModal.tsx","webpack://xsound-app/./src/components/standalones/MML/MML.tsx","webpack://xsound-app/./src/components/standalones/NoiseSuppressorFieldset/NoiseSuppressorFieldset.tsx","webpack://xsound-app/./src/components/helpers/OscillatorSelector/OscillatorSelector.tsx","webpack://xsound-app/./src/components/standalones/OscillatorFieldset/OscillatorFieldset.tsx","webpack://xsound-app/./src/components/standalones/PhaserFieldset/PhaserFieldset.tsx","webpack://xsound-app/./src/components/standalones/Piano/Piano.tsx","webpack://xsound-app/./src/components/standalones/PreampFieldset/PreampFieldset.tsx","webpack://xsound-app/./src/components/standalones/RecorderFieldset/RecorderFieldset.tsx","webpack://xsound-app/./src/components/atoms/GroupSelect/GroupSelect.tsx","webpack://xsound-app/./src/components/standalones/ReverbFieldset/ReverbFieldset.tsx","webpack://xsound-app/./src/components/standalones/RingModulatorFieldset/RingModulatorFieldset.tsx","webpack://xsound-app/./src/components/standalones/TremoloFieldset/TremoloFieldset.tsx","webpack://xsound-app/./src/components/standalones/WahFieldset/WahFieldset.tsx","webpack://xsound-app/./src/store.ts","webpack://xsound-app/./src/main.tsx","webpack://xsound-app/./src/components/App.tsx","webpack://xsound-app/webpack/bootstrap","webpack://xsound-app/webpack/runtime/define property getters","webpack://xsound-app/webpack/runtime/hasOwnProperty shorthand","webpack://xsound-app/webpack/runtime/make namespace object","webpack://xsound-app/webpack/runtime/jsonp chunk loading","webpack://xsound-app/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","export const BASE_URL = '/assets';\nexport const SESSION_STORAGE_KEY = 'xsound.app-config';\nexport const NUMBER_OF_ONESHOTS = 88;\nexport const NUMBER_OF_PIANO_KEYBOARDS = 88;\nexport const NUMBER_OF_CHANNELS = 2;\nexport const NUMBER_OF_TRACKS = 4;\nexport const AJAX_TIMEOUT = 60000;\nexport const FOCUSABLE_ELEMENTS = 'a, button, input:not([type=\"checkbox\"]):not([type=\"file\"]), select, textarea, svg, [tabindex], [contentEditable]';\n","import React from 'react';\n\nexport type Props = {\n  children: React.ReactNode;\n};\n\nexport const Flexbox: React.FC<Props> = (props: Props) => {\n  return <div className='Flexbox'>{props.children}</div>;\n};\n","import React, { useCallback, useEffect, useId, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { FOCUSABLE_ELEMENTS } from '/src/config';\n\nexport type Props = {\n  isShow: boolean;\n  hasOverlay: boolean;\n  title: string;\n  asAlert: boolean;\n  children: React.ReactNode;\n  onClose?: ((event: React.MouseEvent<HTMLButtonElement | HTMLDivElement> | React.KeyboardEvent<HTMLDivElement>) => void) | undefined;\n};\n\ntype OverlayProps = {\n  className: string;\n  onClose?: ((event: React.MouseEvent<HTMLButtonElement | HTMLDivElement> | React.KeyboardEvent<HTMLDivElement>) => void) | undefined;\n};\n\nconst Overlay: React.FC<OverlayProps> = (props: OverlayProps) => {\n  const { className, onClose } = props;\n\n  const onKeyDownCallback = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (!onClose) {\n        return;\n      }\n\n      if (event.nativeEvent.key === 'Enter' || event.nativeEvent.keyCode === 13) {\n        onClose(event);\n      }\n    },\n    [onClose]\n  );\n\n  if (onClose) {\n    return <div role='button' tabIndex={0} className={className} onClick={onClose} onKeyDown={onKeyDownCallback} />;\n  }\n\n  return <div role='presentation' className={className} />;\n};\n\nconst ModalBody: React.FC<Props> = (props: Props) => {\n  const { isShow, hasOverlay, title, asAlert, children, onClose } = props;\n\n  const id = useId();\n  const labelId = useMemo(() => `label-${id}`, [id]);\n  const describeId = useMemo(() => `describe-${id}`, [id]);\n\n  useEffect(() => {\n    const root = document.getElementById('app');\n\n    if (root === null) {\n      return;\n    }\n\n    const hiddenElement = (element: Element) => {\n      return Array.from(document.querySelectorAll('[aria-hidden=\"true\"]')).some((node: Element) => node.contains(element));\n    };\n\n    if (isShow) {\n      Array.from(root.querySelectorAll(FOCUSABLE_ELEMENTS))\n        .filter((node: Element) => {\n          return !hiddenElement(node) && node.getAttribute('tabindex') !== '-1';\n        })\n        .forEach((element: Element) => {\n          element.setAttribute('tabindex', '-1');\n        });\n    } else {\n      Array.from(root.querySelectorAll(FOCUSABLE_ELEMENTS))\n        .filter((node: Element) => {\n          return !hiddenElement(node) && node.getAttribute('tabindex') === '-1';\n        })\n        .forEach((element: Element) => {\n          if (element.getAttribute('role') === 'switch') {\n            element.setAttribute('tabindex', '0');\n          } else if (element.getAttribute('type') === 'checkbox' || element.getAttribute('type') === 'file') {\n            element.setAttribute('tabindex', '-1');\n          } else {\n            element.removeAttribute('tabindex');\n          }\n        });\n    }\n  }, [isShow]);\n\n  return (\n    <div\n      role='dialog'\n      tabIndex={-1}\n      aria-modal={isShow}\n      aria-labelledby={labelId}\n      aria-describedby={describeId}\n      className={`Modal${isShow ? ' -show' : ' -hidden'}`}\n    >\n      {hasOverlay ? <Overlay className='Modal__overlay' onClose={onClose} /> : null}\n      <div className='Modal__inner'>\n        {onClose ? (\n          <button type='button' aria-label='Close modal' className='Modal__closer' onClick={onClose}>\n            X\n          </button>\n        ) : null}\n        <h2 id={labelId} className='Modal__title'>\n          {title}\n        </h2>\n        <div role={asAlert ? 'alert' : undefined} id={describeId} className='Modal__contents'>\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const Modal: React.FC<Props> = (props: Props) => {\n  const { children, ...bodyProps } = props;\n\n  return createPortal(<ModalBody {...bodyProps}>{children}</ModalBody>, document.body);\n};\n","import React from 'react';\n\nexport type Props = {\n  numberOfDivisions: number;\n  children: React.ReactNode;\n};\n\nexport const VerticalBox: React.FC<Props> = ({ numberOfDivisions, children }) => {\n  return <div style={{ width: `calc(100% / ${numberOfDivisions > 0 ? numberOfDivisions : 1})` }}>{children}</div>;\n};\n","import React, { useCallback, useId, useRef } from 'react';\n\nexport type Props = {\n  label: string;\n  checked: boolean;\n  labelAsText: boolean;\n  controls?: string | undefined;\n  tabIndex?: number | undefined;\n  onChange(event: React.ChangeEvent<HTMLInputElement>): void;\n};\n\nexport const Switch: React.FC<Props> = (props: Props) => {\n  const { label, checked, labelAsText, controls, tabIndex = 0, onChange } = props;\n\n  const checkboxRef = useRef<HTMLInputElement>(null);\n\n  const id = useId();\n\n  const onKeyDownCallback = useCallback((event: React.KeyboardEvent<HTMLInputElement>) => {\n    const nativeEvent = event.nativeEvent;\n\n    if (nativeEvent.code === 'Space' || nativeEvent.keyCode === 13) {\n      event.preventDefault();\n\n      const node = checkboxRef.current;\n\n      if (node === null) {\n        return;\n      }\n\n      node.click();\n    }\n  }, []);\n\n  return (\n    <span\n      role='switch'\n      aria-checked={checked}\n      tabIndex={tabIndex}\n      className={`Switch${checked ? ' -checked' : ''}${labelAsText ? ' -text' : ''}`}\n      onKeyDown={onKeyDownCallback}\n    >\n      {controls ? (\n        <input type='checkbox' ref={checkboxRef} id={id} checked={checked} aria-controls={controls} tabIndex={-1} onChange={onChange} />\n      ) : (\n        <input type='checkbox' ref={checkboxRef} id={id} checked={checked} tabIndex={-1} onChange={onChange} />\n      )}\n      <label htmlFor={id}>\n        {label}\n        <span role='presentation' />\n      </label>\n    </span>\n  );\n};\n","import React, { useMemo } from 'react';\n\nexport type Props = {\n  label: string;\n  value: number;\n  min: number;\n  max: number;\n  step: number;\n  tabIndex?: number | undefined;\n  onChange(event: React.ChangeEvent<HTMLInputElement>): void;\n};\n\nexport const Slider: React.FC<Props> = (props: Props) => {\n  const { label, value, min, max, step, tabIndex, onChange } = props;\n\n  const rate = useMemo(() => {\n    return ((value - min) / (max - min)) * 100;\n  }, [value, min, max]);\n\n  return (\n    <div className='Slider'>\n      <input\n        type='range'\n        aria-label={label}\n        value={value}\n        min={min}\n        max={max}\n        step={step}\n        tabIndex={tabIndex}\n        onChange={onChange}\n        style={{ backgroundImage: `linear-gradient(90deg, #d7d7d7 ${rate}%, #333 ${rate}%` }}\n      />\n    </div>\n  );\n};\n","import React from 'react';\n\nexport type Props = {\n  value: number;\n  min: number;\n  max: number;\n  step: number;\n  id?: string | undefined;\n  tabIndex?: number | undefined;\n  onChange(event: React.ChangeEvent<HTMLInputElement>): void;\n};\n\nexport const Spinner: React.FC<Props> = (props: Props) => {\n  const { value, min, max, step, id, tabIndex, onChange } = props;\n\n  return <input type='number' className='Spinner' id={id} value={value} min={min} max={max} step={step} tabIndex={tabIndex} onChange={onChange} />;\n};\n","import React, { useCallback, useEffect, useId, useState } from 'react';\n\nimport { Slider } from '/src/components/atoms/Slider';\nimport { Spinner } from '/src/components/atoms/Spinner';\n\nexport type Props = {\n  label: string;\n  autoupdate: boolean;\n  min: number;\n  max: number;\n  step: number;\n  defaultValue: number;\n  tabIndex?: number | undefined;\n  onChange(event: React.SyntheticEvent): void;\n};\n\nexport const ParameterController: React.FC<Props> = (props: Props) => {\n  const { label, autoupdate, min, max, step, defaultValue, tabIndex, onChange } = props;\n\n  const [value, setValue] = useState<number>(defaultValue);\n\n  const onChangeCallback = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      onChange(event);\n      setValue(event.currentTarget.valueAsNumber);\n    },\n    [onChange]\n  );\n\n  const id = useId();\n\n  useEffect(() => {\n    if (autoupdate) {\n      setValue(defaultValue);\n    }\n  }, [autoupdate, defaultValue]);\n\n  return (\n    <dl className='ParameterController'>\n      <dt>\n        <label htmlFor={id}>{label}</label>\n        <Spinner id={id} value={value} min={min} max={max} step={step} tabIndex={tabIndex} onChange={onChangeCallback} />\n      </dt>\n      <dd>\n        <Slider label={label} value={value} min={min} max={max} step={step} tabIndex={tabIndex} onChange={onChangeCallback} />\n      </dd>\n    </dl>\n  );\n};\n","import React, { useEffect, useRef } from 'react';\n\nexport type Props = {\n  width: number;\n  height: number;\n  hasHoverStyle: boolean;\n  setElementCallback(element: HTMLCanvasElement): void;\n};\n\nexport const Canvas: React.FC<Props> = (props: Props) => {\n  const { width, height, hasHoverStyle, setElementCallback } = props;\n\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    if (canvasRef.current === null) {\n      return;\n    }\n\n    setElementCallback(canvasRef.current);\n  }, [canvasRef, setElementCallback]);\n\n  return <canvas className={`Canvas${hasHoverStyle ? ' -hover' : ''}`} ref={canvasRef} width={width} height={height} />;\n};\n","import React, { useEffect, useRef } from 'react';\n\nexport type Props = {\n  width: number;\n  height: number;\n  hasHoverStyle: boolean;\n  setElementCallback(element: SVGSVGElement): void;\n};\n\nexport const SVG: React.FC<Props> = (props: Props) => {\n  const { width, height, hasHoverStyle, setElementCallback } = props;\n\n  const svgRef = useRef<SVGSVGElement>(null);\n\n  useEffect(() => {\n    if (svgRef.current === null) {\n      return;\n    }\n\n    setElementCallback(svgRef.current);\n  }, [svgRef, setElementCallback]);\n\n  return <svg className={`SVG${hasHoverStyle ? ' -hover' : ''}`} ref={svgRef} width={width} height={height} />;\n};\n","import type { CustomizedParameters } from '/src/types';\nimport type { ConvertedTime } from 'xsound';\n\nimport { SESSION_STORAGE_KEY } from '/src/config';\n\nfunction padZero(n: number): string {\n  return n.toString().padStart(2, '0');\n}\n\nexport function formatAudioTime(convertedTime: ConvertedTime): string {\n  const { minutes, seconds } = convertedTime;\n\n  return `${padZero(minutes)} : ${padZero(seconds)}`;\n}\n\nexport function createFilename(prefix: string, ext: string): string {\n  const date = new Date();\n\n  const y = date.getFullYear();\n  const m = padZero(date.getMonth() + 1);\n  const d = padZero(date.getDate());\n  const h = padZero(date.getHours());\n  const i = padZero(date.getMinutes());\n  const s = padZero(date.getSeconds());\n\n  return `${prefix}${y}${m}${d}${h}${i}${s}.${ext}`;\n}\n\nexport function getStorage(): CustomizedParameters {\n  const params: CustomizedParameters = JSON.parse(window.sessionStorage.getItem(SESSION_STORAGE_KEY) || '{}');\n\n  return params;\n}\n\nexport function setStorage(params: CustomizedParameters): void {\n  window.sessionStorage.setItem(SESSION_STORAGE_KEY, JSON.stringify(params));\n}\n\nexport function removeStorage(): void {\n  window.sessionStorage.removeItem(SESSION_STORAGE_KEY);\n}\n","import React, { useState, useMemo, useCallback } from 'react';\n\nimport { Canvas } from '/src/components/atoms/Canvas';\nimport { SVG } from '/src/components/atoms/SVG';\n\nimport { X } from 'xsound';\n\nimport { formatAudioTime } from '/src/utils';\n\nimport type { VisualizerType } from '/src/types';\nimport type { TimeOverviewParams, DragCallbackFunction, DragMode } from 'xsound';\n\ntype Channel = 'left' | 'right';\n\nexport type Props = {\n  loadedApp: boolean;\n  active: boolean;\n  type: VisualizerType;\n};\n\nexport const TimeOverviewer: React.FC<Props> = (props: Props) => {\n  const { loadedApp, active, type } = props;\n\n  const [dragTime, setDragTime] = useState<string>('00 : 00 - 00 : 00');\n  const [showDragTime, setShowDragTime] = useState<boolean>(false);\n  const [showTimeOverview, setShowTimeOverview] = useState<Channel>('left');\n\n  const timeoverviewStyle: TimeOverviewParams = useMemo(() => {\n    return {\n      currentTime: {\n        color: 'rgba(255, 255, 255, 0.1)'\n      },\n      styles: {\n        shape: 'rect',\n        grid: 'rgba(255, 255, 255, 0.2)',\n        gradients: [\n          { offset: 0, color: 'rgba(0, 128, 255, 1.0)' },\n          { offset: 1, color: 'rgba(0,   0, 255, 1.0)' }\n        ],\n        font: {\n          family: 'Arial',\n          size: '12px',\n          style: 'normal',\n          weight: 'normal'\n        },\n        width: 0.5,\n        right: 15\n      }\n    };\n  }, []);\n\n  const onClickChannelCallback = useCallback(() => {\n    setShowTimeOverview(showTimeOverview === 'right' ? 'left' : 'right');\n  }, [showTimeOverview]);\n\n  const dragCallback: DragCallbackFunction = useCallback(\n    (event: MouseEvent | TouchEvent, startTime: number, endTime: number, mode: DragMode, direction: boolean) => {\n      if (event.type === 'mousedown' || event.type === 'touchstart') {\n        setShowDragTime(true);\n        return;\n      }\n\n      const time = direction ? endTime : startTime;\n\n      if (event.type === 'mousemove' || event.type === 'touchmove') {\n        const convertedStartTime = X.convertTime(startTime);\n        const convertedEndTime = X.convertTime(endTime);\n\n        setDragTime(`${formatAudioTime(convertedStartTime)} - ${formatAudioTime(convertedEndTime)}`);\n\n        if (time >= 0 && time <= X('audio').param('duration')) {\n          X('audio').param({ currentTime: time });\n        }\n\n        return;\n      }\n\n      if (event.type === 'mouseup' || event.type === 'touchend') {\n        switch (mode) {\n          case 'update':\n            if (time >= 0 && time <= X('audio').param('duration')) {\n              X('audio').module('analyser').domain('timeoverview', 0).update(time);\n              X('audio').module('analyser').domain('timeoverview', 1).update(time);\n              X('audio').param({ currentTime: time });\n            }\n\n            break;\n          case 'sprite':\n            X('audio').stop().start(startTime, endTime);\n\n            break;\n          default:\n            break;\n        }\n\n        setShowDragTime(false);\n      }\n    },\n    []\n  );\n\n  const setElementForLeftChannelCallback = useCallback(\n    (element: HTMLCanvasElement | SVGSVGElement) => {\n      if (!loadedApp) {\n        return;\n      }\n\n      X('audio').module('analyser').domain('timeoverview', 0).setup(element).param(timeoverviewStyle).drag(dragCallback).activate();\n    },\n    [loadedApp, timeoverviewStyle, dragCallback]\n  );\n\n  const setElementForRightChannelCallback = useCallback(\n    (element: HTMLCanvasElement | SVGSVGElement) => {\n      if (!loadedApp) {\n        return;\n      }\n\n      X('audio').module('analyser').domain('timeoverview', 1).setup(element).param(timeoverviewStyle).drag(dragCallback).activate();\n    },\n    [loadedApp, timeoverviewStyle, dragCallback]\n  );\n\n  return (\n    <dl className='TimeOverviewer'>\n      <dt>\n        <label>\n          <button\n            type='button'\n            className={`TimeOverviewer__channelSelector -${showTimeOverview}`}\n            aria-label='Select Channel'\n            tabIndex={active ? 0 : -1}\n            onClick={onClickChannelCallback}\n          />\n          <span>Time Overview</span>\n          <span>{showTimeOverview}</span>\n          <span>channel</span>\n        </label>\n        {showDragTime ? <span className='Analyser__dragTime'>{dragTime}</span> : null}\n      </dt>\n      <dd hidden={showTimeOverview === 'right'}>\n        {type === 'bitmap' && <Canvas width={1200} height={120} hasHoverStyle={true} setElementCallback={setElementForRightChannelCallback} />}\n        {type === 'vector' && <SVG width={1200} height={120} hasHoverStyle={true} setElementCallback={setElementForRightChannelCallback} />}\n      </dd>\n      <dd hidden={showTimeOverview === 'left'}>\n        {type === 'bitmap' && <Canvas width={1200} height={120} hasHoverStyle={true} setElementCallback={setElementForLeftChannelCallback} />}\n        {type === 'vector' && <SVG width={1200} height={120} hasHoverStyle={true} setElementCallback={setElementForLeftChannelCallback} />}\n      </dd>\n    </dl>\n  );\n};\n","import React, { useMemo, useCallback } from 'react';\n\nimport { Canvas } from '/src/components/atoms/Canvas';\nimport { SVG } from '/src/components/atoms/SVG';\n\nimport { X } from 'xsound';\n\nimport type { VisualizerType } from '/src/types';\nimport type { TimeParams } from 'xsound';\n\nexport type Props = {\n  loadedApp: boolean;\n  type: VisualizerType;\n};\n\nexport const TimeAnalyser: React.FC<Props> = (props: Props) => {\n  const { loadedApp, type } = props;\n\n  const timeParams: TimeParams = useMemo(() => {\n    return {\n      interval: -1,\n      type: 'uint',\n      styles: {\n        shape: 'line',\n        grid: 'rgba(255, 255, 255, 0.2)',\n        font: {\n          family: 'Arial',\n          size: '12px',\n          style: 'normal',\n          weight: 'normal'\n        },\n        width: 1.5,\n        right: 15\n      }\n    };\n  }, []);\n\n  const setElementCallback = useCallback(\n    (element: HTMLCanvasElement | SVGSVGElement) => {\n      if (!loadedApp) {\n        return;\n      }\n\n      X('mixer').module('analyser').domain('time').setup(element).param(timeParams);\n      X('oneshot').module('analyser').domain('time').setup(element).param(timeParams);\n      X('audio').module('analyser').domain('time').setup(element).param(timeParams);\n      X('stream').module('analyser').domain('time').setup(element).param(timeParams);\n      X('noise').module('analyser').domain('time').setup(element).param(timeParams);\n    },\n    [loadedApp, timeParams]\n  );\n\n  return (\n    <dl className='TimeAnalyser'>\n      <dt>Time Domain</dt>\n      <dd>\n        {type === 'bitmap' && <Canvas width={420} height={120} hasHoverStyle={false} setElementCallback={setElementCallback} />}\n        {type === 'vector' && <SVG width={420} height={120} hasHoverStyle={false} setElementCallback={setElementCallback} />}\n      </dd>\n    </dl>\n  );\n};\n","import React, { useMemo, useCallback } from 'react';\n\nimport { Canvas } from '/src/components/atoms/Canvas';\nimport { SVG } from '/src/components/atoms/SVG';\n\nimport { X } from 'xsound';\n\nimport type { VisualizerType } from '/src/types';\nimport type { FFTParams } from 'xsound';\n\nexport type Props = {\n  loadedApp: boolean;\n  type: VisualizerType;\n};\n\nexport const SpectrumAnalyser: React.FC<Props> = (props: Props) => {\n  const { loadedApp, type } = props;\n\n  const fftParams: FFTParams = useMemo(() => {\n    return {\n      interval: -1,\n      type: 'float',\n      scale: 'logarithmic',\n      styles: {\n        shape: 'line',\n        grid: 'rgba(255, 255, 255, 0.2)',\n        font: {\n          family: 'Arial',\n          size: '12px',\n          style: 'normal',\n          weight: 'normal'\n        },\n        width: 1,\n        right: 15,\n        left: 40\n      }\n    };\n  }, []);\n\n  const setElementCallback = useCallback(\n    (element: HTMLCanvasElement | SVGSVGElement) => {\n      if (!loadedApp) {\n        return;\n      }\n\n      X('mixer').module('analyser').domain('fft').setup(element).param(fftParams);\n      X('oneshot').module('analyser').domain('fft').setup(element).param(fftParams);\n      X('audio').module('analyser').domain('fft').setup(element).param(fftParams);\n      X('stream').module('analyser').domain('fft').setup(element).param(fftParams);\n      X('noise').module('analyser').domain('fft').setup(element).param(fftParams);\n    },\n    [loadedApp, fftParams]\n  );\n\n  return (\n    <dl className='SpectrumAnalyser'>\n      <dt>Frequency Domain</dt>\n      <dd>\n        {type === 'bitmap' && <Canvas width={420} height={120} hasHoverStyle={false} setElementCallback={setElementCallback} />}\n        {type === 'vector' && <SVG width={420} height={120} hasHoverStyle={false} setElementCallback={setElementCallback} />}\n      </dd>\n    </dl>\n  );\n};\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { X } from 'xsound';\n\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\nimport { TimeOverviewer } from '/src/components/helpers/TimeOverviewer';\nimport { TimeAnalyser } from '/src/components/helpers/TimeAnalyser';\nimport { SpectrumAnalyser } from '/src/components/helpers/SpectrumAnalyser';\nimport { getStorage } from '/src/utils';\n\nimport type { RootState } from '/src/store';\nimport type { CustomizedParameters, VisualizerType } from '/src/types';\nimport type { AnalyserParams } from 'xsound';\n\nexport type Props = {\n  loadedApp: boolean;\n};\n\nexport const Analyser: React.FC<Props> = (props: Props) => {\n  const { loadedApp } = props;\n\n  const [loaded, setLoaded] = useState<boolean>(false);\n  const [analyser, setAnalyser] = useState<boolean>(false);\n\n  const active = useSelector((state: RootState) => state.analyserState);\n\n  const storage: CustomizedParameters = useMemo(() => {\n    return getStorage();\n  }, []);\n\n  const type: VisualizerType = useMemo(() => {\n    return storage.analyser?.visualizer || 'vector';\n  }, [storage]);\n\n  const onChangeModeCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('audio').module('analyser').domain('timeoverview', 0).param({ mode: 'sprite' });\n      X('audio').module('analyser').domain('timeoverview', 1).param({ mode: 'sprite' });\n      X('audio').param({ loop: true });\n    } else {\n      const currentTime = X('audio').param('currentTime');\n      const duration = X('audio').param('duration');\n\n      X('audio').module('analyser').domain('timeoverview', 0).param({ mode: 'update' });\n      X('audio').module('analyser').domain('timeoverview', 1).param({ mode: 'update' });\n      X('audio').param({ loop: false });\n      X('audio').stop().start(currentTime, duration);\n    }\n\n    setAnalyser(checked);\n  }, []);\n\n  const onChangeIntervalCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const value = event.currentTarget.valueAsNumber;\n\n    X('mixer')\n      .module('analyser')\n      .domain('time')\n      .param({ interval: value > 0 ? value : -1 });\n    X('mixer')\n      .module('analyser')\n      .domain('fft')\n      .param({ interval: value > 0 ? value : -1 });\n    X('oneshot')\n      .module('analyser')\n      .domain('time')\n      .param({ interval: value > 0 ? value : -1 });\n    X('oneshot')\n      .module('analyser')\n      .domain('fft')\n      .param({ interval: value > 0 ? value : -1 });\n    X('audio')\n      .module('analyser')\n      .domain('time')\n      .param({ interval: value > 0 ? value : -1 });\n    X('audio')\n      .module('analyser')\n      .domain('fft')\n      .param({ interval: value > 0 ? value : -1 });\n    X('stream')\n      .module('analyser')\n      .domain('time')\n      .param({ interval: value > 0 ? value : -1 });\n    X('stream')\n      .module('analyser')\n      .domain('fft')\n      .param({ interval: value > 0 ? value : -1 });\n    X('noise')\n      .module('analyser')\n      .domain('time')\n      .param({ interval: value > 0 ? value : -1 });\n    X('noise')\n      .module('analyser')\n      .domain('fft')\n      .param({ interval: value > 0 ? value : -1 });\n  }, []);\n\n  const onChangeSmoothingCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const smoothingTimeConstant = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('analyser').param({ smoothingTimeConstant });\n    X('oneshot').module('analyser').param({ smoothingTimeConstant });\n    X('audio').module('analyser').param({ smoothingTimeConstant });\n    X('stream').module('analyser').param({ smoothingTimeConstant });\n    X('noise').module('analyser').param({ smoothingTimeConstant });\n  }, []);\n\n  useEffect(() => {\n    if (!loadedApp) {\n      return;\n    }\n\n    if (loaded) {\n      const analyserParams: AnalyserParams = {\n        fftSize: 2048,\n        minDecibels: -60,\n        maxDecibels: 0,\n        smoothingTimeConstant: 0.8\n      };\n\n      X('mixer').module('analyser').param(analyserParams);\n      X('oneshot').module('analyser').param(analyserParams);\n      X('audio').module('analyser').param(analyserParams);\n      X('stream').module('analyser').param(analyserParams);\n      X('noise').module('analyser').param(analyserParams);\n\n      X('mixer').module('analyser').domain('time').activate();\n      X('mixer').module('analyser').domain('fft').activate();\n      X('oneshot').module('analyser').domain('time').activate();\n      X('oneshot').module('analyser').domain('fft').activate();\n      X('audio').module('analyser').domain('time').activate();\n      X('audio').module('analyser').domain('fft').activate();\n      X('stream').module('analyser').domain('time').activate();\n      X('stream').module('analyser').domain('fft').activate();\n      X('noise').module('analyser').domain('time').activate();\n      X('noise').module('analyser').domain('fft').activate();\n\n      return;\n    }\n\n    setLoaded(true);\n  }, [loadedApp, loaded, active]);\n\n  return (\n    <div id='analyser-fieldset' aria-hidden={!active} className={`Analyser${active ? ' -active' : ''}`}>\n      <div className='Analyser__viewer'>\n        <TimeOverviewer loadedApp={loadedApp} active={active} type={type} />\n        <TimeAnalyser loadedApp={loadedApp} type={type} />\n        <SpectrumAnalyser loadedApp={loadedApp} type={type} />\n      </div>\n      <div className='Analyser__controllers'>\n        <Switch label='Audio Sprite' checked={analyser} labelAsText={true} tabIndex={active ? 0 : -1} onChange={onChangeModeCallback} />\n        <ParameterController\n          label='Interval'\n          autoupdate={false}\n          defaultValue={0}\n          min={0}\n          max={1000}\n          step={10}\n          tabIndex={active ? 0 : -1}\n          onChange={onChangeIntervalCallback}\n        />\n        <ParameterController\n          label='Smoothing'\n          autoupdate={false}\n          defaultValue={0.8}\n          min={0}\n          max={1}\n          step={0.05}\n          tabIndex={active ? 0 : -1}\n          onChange={onChangeSmoothingCallback}\n        />\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport type Props = {\n  children: React.ReactNode;\n};\n\nexport const Fieldset: React.FC<Props> = (props: Props) => {\n  return <fieldset className='Fieldset'>{props.children}</fieldset>;\n};\n","import React from 'react';\n\nexport type Props = {\n  children: React.ReactNode;\n};\n\nexport const Legend: React.FC<Props> = (props: Props) => {\n  // Use `div` instead of `legend` because cannot click if Safari\n  return <div className='Legend'>{props.children}</div>;\n};\n","import React from 'react';\n\nexport type Props = {\n  active: boolean;\n  label: string;\n  width: number;\n  height: number;\n  image: string;\n  size: string;\n  onClick(event: React.MouseEvent<HTMLButtonElement>): void;\n};\n\nexport const Button: React.FC<Props> = (props: Props) => {\n  const { active, label, width, height, image, size, onClick } = props;\n\n  return (\n    <button\n      type='button'\n      aria-label={label}\n      style={{\n        width: `${width}px`,\n        height: `${height}px`,\n        backgroundImage: `url(\"${image}\")`,\n        backgroundSize: size\n      }}\n      className={`Button${active ? ' -active' : ''}`}\n      onClick={onClick}\n    />\n  );\n};\n","import React, { useCallback, useId, useRef } from 'react';\n\nexport type Props = {\n  accept: string;\n  disabled: boolean;\n  placeholder: string;\n  filename: string;\n  drag?: boolean | undefined;\n  drop?: boolean | undefined;\n  tabIndex?: number | undefined;\n  onChange(event: React.ChangeEvent<HTMLInputElement>): void;\n};\n\nexport const FileUploader: React.FC<Props> = (props: Props) => {\n  const { accept, disabled, placeholder, filename, drag = false, drop = false, tabIndex, onChange } = props;\n\n  const fileUploaderRef = useRef<HTMLInputElement>(null);\n\n  const id = useId();\n\n  const onClickCallback = useCallback(() => {\n    const node = fileUploaderRef.current;\n\n    if (node === null) {\n      return;\n    }\n\n    node.value = '';\n    node.click();\n  }, []);\n\n  return (\n    <label className={`FileUploader${drag ? ' -drag' : ''}${drop ? ' -drop' : ''}`}>\n      <button type='button' aria-controls={id} disabled={disabled} tabIndex={tabIndex} onClick={onClickCallback}>\n        {filename ? filename : placeholder}\n      </button>\n      <input type='file' ref={fileUploaderRef} id={id} accept={accept} disabled={disabled} tabIndex={-1} onChange={onChange} />\n    </label>\n  );\n};\n","import React, { useId, useMemo } from 'react';\n\nexport type Props = {\n  label?: string | undefined;\n  rate?: number | undefined;\n};\n\nexport const ProgressBar: React.FC<Props> = (props: Props) => {\n  const { rate, label } = props;\n\n  const manual = typeof rate === 'number';\n  const style = typeof rate === 'number' ? { width: `${rate <= 100 ? rate : 100}%` } : {};\n\n  const id = useId();\n\n  const value = useMemo(() => {\n    if (!rate) {\n      return 0;\n    }\n\n    return rate > 100 ? 100 : rate;\n  }, [rate]);\n\n  return (\n    <div className='ProgressBar'>\n      {label ? (\n        <p id={id} className='ProgressBar__label'>\n          {label}\n        </p>\n      ) : null}\n      <div className='ProgressBar__wrapper'>\n        <div role='presentation' className='ProgressBar__mask' />\n        {manual ? (\n          <progress value={value} max={100} className='ProgressBar__bar'>\n            {value}%\n          </progress>\n        ) : (\n          <div role='progressbar' aria-valuemin={0} aria-valuemax={100} style={style} className='ProgressBar__bar -auto' />\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { formatAudioTime, getStorage } from '/src/utils';\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Button } from '/src/components/atoms/Button';\nimport { FileUploader } from '/src/components/atoms/FileUploader';\nimport { Modal } from '/src/components/atoms/Modal';\nimport { ProgressBar } from '/src/components/atoms/ProgressBar';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nimport type { FileEvent, FileReaderErrorText } from 'xsound';\n\nexport type Props = {\n  loadedApp: boolean;\n};\n\nexport const AudioFieldset: React.FC<Props> = (props: Props) => {\n  const [loaded, setLoaded] = useState<boolean>(false);\n  const [filename, setFilename] = useState<string>('');\n  const [paused, setPaused] = useState<boolean>(true);\n  const [currentTime, setCurrentTime] = useState<number>(0);\n  const [duration, setDuration] = useState<number>(0);\n  const [drag, setDrag] = useState<boolean>(false);\n  const [showProgress, setShowProgress] = useState<boolean>(false);\n  const [loadedByte, setLoadedByte] = useState<number>(0);\n  const [rate, setRate] = useState<number>(0);\n  const [errorMessage, setErrorMessage] = useState<string>('');\n  const [isShowModalForFileUploadError, setIsShowModalForFileUploadError] = useState<boolean>(false);\n  const [isShowModalForDecodingError, setIsShowModalForDecodingError] = useState<boolean>(false);\n  const [isShowModalForProgress, setIsShowModalForProgress] = useState<boolean>(false);\n  const [isShowModalForDecoding, setIsShowModalForDecoding] = useState<boolean>(false);\n\n  const storage = useMemo(() => {\n    return getStorage();\n  }, []);\n\n  const usePlaybackRate = useMemo(() => {\n    return storage.audio?.playbackRate === true;\n  }, [storage]);\n\n  const startDecodeCallback = useCallback(() => {\n    setShowProgress(true);\n    setLoadedByte(0);\n    setRate(0);\n    setIsShowModalForProgress(false);\n    setIsShowModalForDecoding(true);\n  }, []);\n\n  const onChangeFileCallback = useCallback(\n    (event: React.BaseSyntheticEvent<FileEvent>) => {\n      const file = X.file({\n        event: event.nativeEvent,\n        type: 'arraybuffer',\n        successCallback: (_: ProgressEvent, arraybuffer: ArrayBuffer) => {\n          event.nativeEvent.target.value = '';\n\n          startDecodeCallback();\n          X('audio').ready(arraybuffer);\n        },\n        errorCallback: (_: ProgressEvent, textStatus: FileReaderErrorText) => {\n          setErrorMessage(textStatus);\n          setIsShowModalForFileUploadError(true);\n        },\n        progressCallback: (e: ProgressEvent) => {\n          const { lengthComputable, loaded, total } = e;\n\n          setShowProgress(lengthComputable);\n          setLoadedByte(loaded);\n          setRate(lengthComputable && total > 0 ? Math.trunc((loaded / total) * 100) : 0);\n          setIsShowModalForProgress(true);\n        }\n      });\n\n      if (file === null) {\n        setErrorMessage('Please upload file');\n        setIsShowModalForFileUploadError(true);\n      } else if (typeof file !== 'string') {\n        setFilename(file.name);\n      }\n    },\n    [startDecodeCallback]\n  );\n\n  const onDragEnterCallback = useCallback((event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    setDrag(true);\n  }, []);\n\n  const onDragOverCallback = useCallback((event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    setDrag(true);\n  }, []);\n\n  const onDragLeaveCallback = useCallback((event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    setDrag(false);\n  }, []);\n\n  const onDropCallback = useCallback(\n    (event: React.DragEvent<HTMLDivElement>) => {\n      const file = X.drop({\n        event: event.nativeEvent,\n        type: 'arraybuffer',\n        successCallback: (_: ProgressEvent, arraybuffer: ArrayBuffer) => {\n          startDecodeCallback();\n          X('audio').ready(arraybuffer);\n        },\n        errorCallback: (_: ProgressEvent, textStatus: FileReaderErrorText) => {\n          setErrorMessage(textStatus);\n          setIsShowModalForFileUploadError(true);\n        },\n        progressCallback: (e: ProgressEvent) => {\n          const { lengthComputable, loaded, total } = e;\n\n          setShowProgress(lengthComputable);\n          setLoadedByte(loaded);\n          setRate(lengthComputable && total > 0 ? Math.trunc((loaded / total) * 100) : 0);\n          setIsShowModalForProgress(true);\n        }\n      });\n\n      if (file === null) {\n        setErrorMessage('Please drop file');\n        setIsShowModalForFileUploadError(true);\n      } else if (typeof file !== 'string') {\n        setFilename(file.name);\n      }\n\n      setDrag(false);\n    },\n    [startDecodeCallback]\n  );\n\n  const onClickCallback = useCallback(() => {\n    if (!X('audio').has()) {\n      return;\n    }\n\n    if (X('audio').paused()) {\n      X('audio').start(X('audio').param('currentTime'));\n      X('audio').module('recorder').start();\n      setPaused(false);\n    } else {\n      X('audio').stop();\n      setPaused(true);\n    }\n  }, []);\n\n  const onChangeCurrentTimeCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    X('audio').param({ currentTime: event.currentTarget.valueAsNumber });\n\n    setCurrentTime(X('audio').param('currentTime'));\n  }, []);\n\n  const onChangePitchCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    X('audio').module('pitchshifter').param({ pitch: event.currentTarget.valueAsNumber });\n    X('stream').module('pitchshifter').param({ pitch: event.currentTarget.valueAsNumber });\n  }, []);\n\n  const onChangePlaybackRate = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    X('audio').param({ playbackRate: event.currentTarget.valueAsNumber });\n  }, []);\n\n  const onChangeDepthCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    X('audio').module('vocalcanceler').param({ depth: event.currentTarget.valueAsNumber });\n  }, []);\n\n  const onCloseModalCallback = useCallback(() => {\n    setIsShowModalForFileUploadError(false);\n    setIsShowModalForDecodingError(false);\n  }, []);\n\n  const decodeCallback = useCallback((buffer: AudioBuffer) => {\n    setDuration(buffer.duration);\n    setIsShowModalForDecoding(false);\n  }, []);\n\n  const updateCallback = useCallback((source: AudioBufferSourceNode, currentTime: number) => {\n    setCurrentTime(currentTime);\n  }, []);\n\n  const endedCallback = useCallback(() => {\n    setPaused(true);\n    setCurrentTime(0);\n\n    X('audio').module('analyser').domain('timeoverview', 0).update(0);\n    X('audio').module('analyser').domain('timeoverview', 1).update(0);\n  }, []);\n\n  const errorCallback = useCallback((error: Error) => {\n    setErrorMessage(error.message);\n    setIsShowModalForDecodingError(true);\n  }, []);\n\n  const convertedCurrenTime = useMemo(() => X.convertTime(currentTime), [currentTime]);\n  const convertedDuration = useMemo(() => X.convertTime(duration), [duration]);\n\n  const currentTimeText = useMemo(() => `${formatAudioTime(convertedCurrenTime)}`, [convertedCurrenTime]);\n  const durationText = useMemo(() => `${formatAudioTime(convertedDuration)}`, [convertedDuration]);\n\n  useEffect(() => {\n    if (!props.loadedApp || loaded) {\n      return;\n    }\n\n    X('audio').setup({\n      decodeCallback,\n      updateCallback,\n      endedCallback,\n      errorCallback\n    });\n\n    setLoaded(true);\n  }, [props.loadedApp, loaded, decodeCallback, updateCallback, endedCallback, errorCallback]);\n\n  return (\n    <div\n      className={`AudioFieldset${drag ? ' -drag' : ''}`}\n      onDragEnter={onDragEnterCallback}\n      onDragOver={onDragOverCallback}\n      onDragLeave={onDragLeaveCallback}\n      onDrop={onDropCallback}\n    >\n      <Fieldset>\n        <Legend>Audio</Legend>\n        <div className='AudioFieldset__selectAudio'>\n          <FileUploader\n            accept='audo/wav, audio/ogg, audio/mpeg, audio/*'\n            disabled={false}\n            placeholder='Audio File (wav, ogg, mp3 ... etc)'\n            filename={filename}\n            drag={drag}\n            onChange={onChangeFileCallback}\n          />\n          <Button\n            active={!paused}\n            label={paused ? 'Start Audio' : 'Stop Audio'}\n            width={70}\n            height={33}\n            image='/assets/images/button-audio.png'\n            size='70px 99px'\n            onClick={onClickCallback}\n          />\n        </div>\n        <ParameterController\n          label={`${currentTimeText} / ${durationText}`}\n          autoupdate={true}\n          defaultValue={Math.trunc(currentTime)}\n          min={0}\n          max={duration > 0 ? duration : 0}\n          step={1}\n          onChange={onChangeCurrentTimeCallback}\n        />\n        {usePlaybackRate ? (\n          <ParameterController label='Playback Rate' autoupdate={false} defaultValue={1} min={0.05} max={2} step={0.025} onChange={onChangePlaybackRate} />\n        ) : (\n          <ParameterController label='Pitch Shifter' autoupdate={false} defaultValue={1} min={0.05} max={4} step={0.025} onChange={onChangePitchCallback} />\n        )}\n        <ParameterController label='Vocal Canceler' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeDepthCallback} />\n      </Fieldset>\n      <Modal isShow={isShowModalForFileUploadError} title='Error' hasOverlay={true} asAlert={true} onClose={onCloseModalCallback}>\n        {errorMessage}\n      </Modal>\n      <Modal isShow={isShowModalForDecodingError} title='Error' hasOverlay={true} asAlert={true} onClose={onCloseModalCallback}>\n        {errorMessage}\n      </Modal>\n      <Modal isShow={isShowModalForProgress} title='Progress ...' hasOverlay={true} asAlert={false}>\n        {showProgress ? <ProgressBar label={`${loadedByte} bytes (${rate} %)`} rate={rate} /> : null}\n      </Modal>\n      <Modal isShow={isShowModalForDecoding} title='Decoding ...' hasOverlay={true} asAlert={false}>\n        {showProgress ? <ProgressBar /> : null}\n      </Modal>\n    </div>\n  );\n};\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport type { SoundSource } from '/src/types';\nimport type { PayloadAction } from '@reduxjs/toolkit';\n\nexport type State = {\n  activeMIDIKeyboardIndexes: number[];\n  analyserState: boolean;\n  currentSoundSource: SoundSource;\n  downBassKeyboardIndexes: number[];\n  downMelodyKeyboardIndexes: number[];\n  mmlState: boolean;\n  oscillatorStates: [boolean, boolean];\n  upBassKeyboardIndexes: number[];\n  upMelodyKeyboardIndexes: number[];\n};\n\nexport const initialState: State = {\n  activeMIDIKeyboardIndexes: [],\n  analyserState: false,\n  currentSoundSource: 'oscillator',\n  downBassKeyboardIndexes: [],\n  downMelodyKeyboardIndexes: [],\n  mmlState: false,\n  oscillatorStates: [true, false],\n  upBassKeyboardIndexes: [],\n  upMelodyKeyboardIndexes: []\n};\n\nconst slice = createSlice({\n  name: 'slice',\n  initialState,\n  reducers: {\n    activateMIDIKeyboards: (state: State, action: PayloadAction<number[]>) => {\n      state.activeMIDIKeyboardIndexes = action.payload;\n    },\n    changeAnalyserState: (state: State, action: PayloadAction<boolean>) => {\n      state.analyserState = action.payload;\n    },\n    changeCurrentSoundSource: (state: State, action: PayloadAction<SoundSource>) => {\n      state.currentSoundSource = action.payload;\n    },\n    changeMMLState: (state: State, action: PayloadAction<boolean>) => {\n      state.mmlState = action.payload;\n    },\n    changeOscillatorStates: (state: State, action: PayloadAction<[boolean, boolean]>) => {\n      state.oscillatorStates = action.payload;\n    },\n    downBassKeyboards: (state: State, action: PayloadAction<number[]>) => {\n      state.downBassKeyboardIndexes = action.payload;\n    },\n    downMelodyKeyboards: (state: State, action: PayloadAction<number[]>) => {\n      state.downMelodyKeyboardIndexes = action.payload;\n    },\n    upBassKeyboards: (state: State, action: PayloadAction<number[]>) => {\n      state.upBassKeyboardIndexes = action.payload;\n    },\n    upMelodyKeyboards: (state: State, action: PayloadAction<number[]>) => {\n      state.upMelodyKeyboardIndexes = action.payload;\n    }\n  }\n});\n\nexport const {\n  activateMIDIKeyboards,\n  changeAnalyserState,\n  changeCurrentSoundSource,\n  changeMMLState,\n  changeOscillatorStates,\n  downBassKeyboards,\n  downMelodyKeyboards,\n  upBassKeyboards,\n  upMelodyKeyboards\n} = slice.actions;\n\nexport const reducer = slice.reducer;\n","import React, { useId } from 'react';\n\nexport type Props = {\n  label: string;\n  values: string[];\n  texts: string[];\n  disabled: boolean;\n  defaultValue?: string | undefined;\n  tabIndex?: number | undefined;\n  onChange(event: React.ChangeEvent<HTMLSelectElement>): void;\n};\n\nexport const Select: React.FC<Props> = (props: Props) => {\n  const { label, values, texts, disabled, defaultValue, tabIndex, onChange } = props;\n\n  const id = useId();\n\n  return (\n    <div className='Select'>\n      <label htmlFor={id}>{label}</label>\n      <select id={id} disabled={disabled} defaultValue={defaultValue} tabIndex={tabIndex} onChange={onChange}>\n        {values.map((value: string, index: number) => {\n          return (\n            <option key={value} value={value}>\n              {texts[index]}\n            </option>\n          );\n        })}\n      </select>\n    </div>\n  );\n};\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { X } from 'xsound';\n\nimport { NUMBER_OF_ONESHOTS } from '/src/config';\nimport { activateMIDIKeyboards, changeAnalyserState, changeCurrentSoundSource, changeMMLState } from '/src/slices';\nimport { Modal } from '/src/components/atoms/Modal';\nimport { Select } from '/src/components/atoms/Select';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nimport type { SoundSource } from '/src/types';\n\nexport type Props = {\n  currentSoundSource: SoundSource;\n};\n\nconst MIN_NOTE_NUMBER = 21;\nconst MAX_NOTE_NUMBER = 108;\nconst MAX_VELOCITY = 127;\n\nexport const BasicControllers: React.FC<Props> = ({ currentSoundSource }) => {\n  const [analyserState, setAnalyserState] = useState<boolean>(false);\n  const [mmlState, setMMLState] = useState<boolean>(false);\n  const [errorMessage, setErrorMessage] = useState<string>('');\n  const [isShowModalForMIDIError, setIsShowModalForMIDIError] = useState<boolean>(false);\n\n  const dispatch = useDispatch();\n\n  const indexes: number[] = useMemo(() => [], []);\n\n  const midiSource = useMemo(() => {\n    switch (currentSoundSource) {\n      case 'oscillator':\n        return 'oscillator';\n      case 'piano':\n        return 'oneshot';\n      case 'guitar':\n        return 'oneshot';\n      case 'electric-guitar':\n        return 'oneshot';\n      case 'orgel':\n        return 'oneshot';\n      default:\n        return 'noise';\n    }\n  }, [currentSoundSource]);\n\n  const offset = useMemo(() => {\n    switch (currentSoundSource) {\n      case 'oscillator':\n        return 0;\n      case 'piano':\n        return 0;\n      case 'guitar':\n        return NUMBER_OF_ONESHOTS;\n      case 'electric-guitar':\n        return NUMBER_OF_ONESHOTS + NUMBER_OF_ONESHOTS;\n      case 'orgel':\n        return NUMBER_OF_ONESHOTS + NUMBER_OF_ONESHOTS + NUMBER_OF_ONESHOTS;\n      default:\n        return 0;\n    }\n  }, [currentSoundSource]);\n\n  const noteOn = useCallback(\n    (noteNumber: number, velocity: number) => {\n      if (noteNumber < MIN_NOTE_NUMBER || noteNumber > MAX_NOTE_NUMBER) {\n        return;\n      }\n\n      if (velocity < 0 || velocity > MAX_VELOCITY) {\n        return;\n      }\n\n      const targetIndex = noteNumber - MIN_NOTE_NUMBER;\n      const volume = velocity / MAX_VELOCITY;\n\n      /** @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Non_configurable_array_element */\n      const newIndexes = [...indexes];\n\n      newIndexes.push(targetIndex);\n\n      if (midiSource === 'noise') {\n        X('noise').start();\n\n        X('noise').module('recorder').start();\n      } else if (midiSource === 'oscillator') {\n        for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n          if (i !== 0) {\n            X('oscillator').get(i).activate();\n            window.clonedXSound('oscillator').get(i).activate();\n          }\n\n          X('oscillator').get(i).param({ volume });\n          window.clonedXSound('oscillator').get(i).param({ volume });\n        }\n\n        X('oscillator').ready(0, 0).start(X.toFrequencies(newIndexes));\n        window.clonedXSound('oscillator').ready(0, 0).start(X.toFrequencies(newIndexes));\n\n        X('mixer').start([X('oscillator'), window.clonedXSound('oscillator')], [volume, volume]);\n\n        X('mixer').module('recorder').start();\n      } else {\n        X('oneshot')\n          .reset(targetIndex, 'volume', volume)\n          .ready(0, 0)\n          .start(newIndexes.map((index: number) => index + offset));\n\n        X('oneshot').module('recorder').start();\n      }\n\n      dispatch(activateMIDIKeyboards(newIndexes));\n    },\n    [dispatch, midiSource, indexes, offset]\n  );\n\n  const noteOff = useCallback(\n    (noteNumber: number, velocity: number) => {\n      if (noteNumber < MIN_NOTE_NUMBER || noteNumber > MAX_NOTE_NUMBER) {\n        return;\n      }\n\n      if (velocity < 0 || velocity > MAX_VELOCITY) {\n        return;\n      }\n\n      const targetIndex = noteNumber - MIN_NOTE_NUMBER;\n\n      const index = indexes.indexOf(targetIndex);\n\n      /** @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Non_configurable_array_element */\n      const newIndexes = [...indexes];\n\n      if (index !== -1) {\n        newIndexes.splice(index, 1);\n      }\n\n      if (midiSource === 'noise') {\n        X('noise').stop();\n\n        X('noise').module('recorder').start();\n      } else if (midiSource === 'oscillator') {\n        X('oscillator').stop();\n        window.clonedXSound('oscillator').stop();\n\n        for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n          if (i !== 0) {\n            X('oscillator').get(i).deactivate();\n            window.clonedXSound('oscillator').get(i).deactivate();\n          }\n        }\n      } else {\n        X('oneshot')\n          .stop(newIndexes.map((index: number) => index + offset))\n          .reset(targetIndex, 'volume', 1);\n      }\n\n      dispatch(activateMIDIKeyboards(newIndexes));\n    },\n    [dispatch, midiSource, indexes, offset]\n  );\n\n  const successCallback = useCallback(\n    (midiAccess: MIDIAccess, inputs: MIDIInput[], outputs: MIDIOutput[]) => {\n      if (inputs[0]) {\n        // @ts-ignore\n        inputs[0].onmidimessage = (event: MIDIMessageEvent) => {\n          switch (event.data[0] & 0xf0) {\n            case 0x90:\n              noteOn(event.data[1], event.data[2]);\n              break;\n            case 0x80:\n              noteOff(event.data[1], event.data[2]);\n              break;\n            default:\n              break;\n          }\n        };\n      }\n\n      if (outputs.length > 0) {\n        // TODO: do something ...\n      }\n    },\n    [noteOn, noteOff]\n  );\n\n  const onChangeMasterVolumeCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const mastervolume = event.currentTarget.valueAsNumber;\n\n    X('mixer').param({ mastervolume });\n    X('oneshot').param({ mastervolume });\n    X('audio').param({ mastervolume });\n    X('stream').param({ mastervolume });\n    X('noise').param({ mastervolume });\n  }, []);\n\n  const onChangeGlideCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const time = event.currentTarget.valueAsNumber;\n\n    X('oscillator').module('glide').param({ time });\n    window.clonedXSound('oscillator').module('glide').param({ time });\n  }, []);\n\n  const onChangeTransposeCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    X('oneshot').param({ transpose: event.currentTarget.valueAsNumber });\n  }, []);\n\n  const onChangeSoundSourceCallback = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      X('mixer').module('analyser').stop('time').domain('time').clear();\n      X('mixer').module('analyser').stop('fft').domain('fft').clear();\n      X('oneshot').module('analyser').stop('time').domain('time').clear();\n      X('oneshot').module('analyser').stop('fft').domain('fft').clear();\n      X('audio').module('analyser').stop('time').domain('time').clear();\n      X('audio').module('analyser').stop('fft').domain('fft').clear();\n      X('stream').module('analyser').stop('time').domain('time').clear();\n      X('stream').module('analyser').stop('fft').domain('fft').clear();\n\n      const source = event.currentTarget.value;\n\n      switch (source) {\n        case 'oscillator':\n        case 'piano':\n        case 'guitar':\n        case 'electric-guitar':\n        case 'orgel':\n        case 'whitenoise':\n        case 'pinknoise':\n        case 'browniannoise':\n        case 'stream':\n        case 'midi':\n          break;\n        default:\n          return;\n      }\n\n      if (!source.endsWith('noise')) {\n        X('noise').module('analyser').stop('time').domain('time').clear();\n        X('noise').module('analyser').stop('fft').domain('fft').clear();\n      }\n\n      dispatch(changeCurrentSoundSource(source));\n\n      X('stream').clear();\n\n      switch (source) {\n        case 'stream':\n          X('stream')\n            .ready()\n            .then(() => {\n              X('stream').start();\n            })\n            .catch((error: Error) => {\n              // eslint-disable-next-line no-console\n              console.error(error);\n            });\n\n          break;\n        case 'midi':\n          X('midi').setup({\n            options: {\n              sysex: true\n            },\n            successCallback: (midiAccess: MIDIAccess, inputs: MIDIInput[], outputs: MIDIOutput[]) => {\n              successCallback(midiAccess, inputs, outputs);\n            },\n            errorCallback: () => {\n              setErrorMessage('Cannot use Web MIDI API.');\n              setIsShowModalForMIDIError(true);\n            }\n          });\n\n          break;\n        default:\n          break;\n      }\n    },\n    [dispatch, successCallback]\n  );\n\n  const onChangeAnalyserStateCallback = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      dispatch(changeAnalyserState(event.currentTarget.checked));\n      setAnalyserState(!analyserState);\n    },\n    [dispatch, analyserState]\n  );\n\n  const onChangeMMLStateCallback = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      dispatch(changeMMLState(event.currentTarget.checked));\n      setMMLState(!mmlState);\n    },\n    [dispatch, mmlState]\n  );\n\n  const onCloseModalCallback = useCallback(() => {\n    setErrorMessage('');\n    setIsShowModalForMIDIError(false);\n  }, []);\n\n  return (\n    <div className='BasicControllers'>\n      <ParameterController label='Master Volume' autoupdate={false} defaultValue={1} min={0} max={1} step={0.05} onChange={onChangeMasterVolumeCallback} />\n      <ParameterController label='Glide' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeGlideCallback} />\n      <ParameterController label='Transpose' autoupdate={false} defaultValue={0} min={-6} max={6} step={1} onChange={onChangeTransposeCallback} />\n      <Select\n        label='Select Sound Source'\n        values={['oscillator', 'piano', 'guitar', 'electric-guitar', 'orgel', 'whitenoise', 'pinknoise', 'browniannoise', 'stream', 'midi']}\n        texts={['oscillator', 'piano', 'A. guitar', 'E. guitar', 'orgel (music box)', 'white noise', 'pink noise', 'brownian noise', 'microphone', 'MIDI']}\n        disabled={false}\n        onChange={onChangeSoundSourceCallback}\n      />\n      <Switch label='Analyser' checked={analyserState} labelAsText={true} controls='analyser-fieldset' onChange={onChangeAnalyserStateCallback} />\n      <Switch label='MML' checked={mmlState} labelAsText={true} controls='mml-fieldset' onChange={onChangeMMLStateCallback} />\n      <Modal isShow={isShowModalForMIDIError} title='Error' hasOverlay={true} asAlert={true} onClose={onCloseModalCallback}>\n        {errorMessage}\n      </Modal>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Select } from '/src/components/atoms/Select';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\ntype BoosterType = 'overdrive' | 'fuzz';\n\nexport const BoosterFieldset: React.FC = () => {\n  const [booster, setBooster] = useState<boolean>(false);\n  const [boosterType, setBoosterType] = useState<BoosterType>('overdrive');\n\n  const onChangeStateCallback = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const checked = event.currentTarget.checked;\n\n      if (checked) {\n        switch (boosterType) {\n          case 'overdrive':\n            X('mixer').module('overdrive').activate();\n            X('oneshot').module('overdrive').activate();\n            X('audio').module('overdrive').activate();\n            X('stream').module('overdrive').activate();\n            X('noise').module('overdrive').activate();\n\n            X('mixer').module('fuzz').deactivate();\n            X('oneshot').module('fuzz').deactivate();\n            X('audio').module('fuzz').deactivate();\n            X('stream').module('fuzz').deactivate();\n            X('noise').module('fuzz').deactivate();\n\n            break;\n          case 'fuzz':\n            X('mixer').module('fuzz').activate();\n            X('oneshot').module('fuzz').activate();\n            X('audio').module('fuzz').activate();\n            X('stream').module('fuzz').activate();\n            X('noise').module('fuzz').activate();\n\n            X('mixer').module('overdrive').deactivate();\n            X('oneshot').module('overdrive').deactivate();\n            X('audio').module('overdrive').deactivate();\n            X('stream').module('overdrive').deactivate();\n            X('noise').module('overdrive').deactivate();\n            break;\n          default:\n            break;\n        }\n      } else {\n        X('mixer').module('overdrive').deactivate();\n        X('oneshot').module('overdrive').deactivate();\n        X('audio').module('overdrive').deactivate();\n        X('stream').module('overdrive').deactivate();\n        X('noise').module('overdrive').deactivate();\n\n        X('mixer').module('fuzz').deactivate();\n        X('oneshot').module('fuzz').deactivate();\n        X('audio').module('fuzz').deactivate();\n        X('stream').module('fuzz').deactivate();\n        X('noise').module('fuzz').deactivate();\n      }\n\n      setBooster(checked);\n    },\n    [boosterType]\n  );\n\n  const onChangeTypeCallback = useCallback((event: React.ChangeEvent<HTMLSelectElement>) => {\n    const type = event.currentTarget.value;\n\n    switch (type) {\n      case 'overdrive':\n      case 'fuzz':\n        setBoosterType(type);\n        break;\n      default:\n        break;\n    }\n  }, []);\n\n  const onChangeDriveCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const drive = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('overdrive').param({ drive });\n    X('oneshot').module('overdrive').param({ drive });\n    X('audio').module('overdrive').param({ drive });\n    X('stream').module('overdrive').param({ drive });\n    X('noise').module('overdrive').param({ drive });\n\n    X('mixer').module('fuzz').param({ drive });\n    X('oneshot').module('fuzz').param({ drive });\n    X('audio').module('fuzz').param({ drive });\n    X('stream').module('fuzz').param({ drive });\n    X('noise').module('fuzz').param({ drive });\n  }, []);\n\n  const onChangeLevelCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const level = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('overdrive').param({ level });\n    X('oneshot').module('overdrive').param({ level });\n    X('audio').module('overdrive').param({ level });\n    X('stream').module('overdrive').param({ level });\n    X('noise').module('overdrive').param({ level });\n\n    X('mixer').module('fuzz').param({ level });\n    X('oneshot').module('fuzz').param({ level });\n    X('audio').module('fuzz').param({ level });\n    X('stream').module('fuzz').param({ level });\n    X('noise').module('fuzz').param({ level });\n  }, []);\n\n  return (\n    <div className='BoosterFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='OD/DS' checked={booster} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <Select label='Select OD/DS' values={['overdrive', 'fuzz']} texts={['overdrive', 'fuzz']} disabled={false} onChange={onChangeTypeCallback} />\n        <ParameterController label='Drive' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeDriveCallback} />\n        <ParameterController label='Level' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeLevelCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const ChorusFieldset: React.FC = () => {\n  const [chorus, setChorus] = useState<boolean>(false);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('chorus').activate();\n      X('oneshot').module('chorus').activate();\n      X('audio').module('chorus').activate();\n      X('stream').module('chorus').activate();\n      X('noise').module('chorus').activate();\n    } else {\n      X('mixer').module('chorus').deactivate();\n      X('oneshot').module('chorus').deactivate();\n      X('audio').module('chorus').deactivate();\n      X('stream').module('chorus').deactivate();\n      X('noise').module('chorus').deactivate();\n    }\n\n    setChorus(checked);\n  }, []);\n\n  const onChangeTimeCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const time = event.currentTarget.valueAsNumber / 1000;\n\n    X('mixer').module('chorus').param({ time });\n    X('oneshot').module('chorus').param({ time });\n    X('audio').module('chorus').param({ time });\n    X('stream').module('chorus').param({ time });\n    X('noise').module('chorus').param({ time });\n  }, []);\n\n  const onChangeDepthCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const depth = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('chorus').param({ depth });\n    X('oneshot').module('chorus').param({ depth });\n    X('audio').module('chorus').param({ depth });\n    X('stream').module('chorus').param({ depth });\n    X('noise').module('chorus').param({ depth });\n  }, []);\n\n  const onChangeRateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const rate = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('chorus').param({ rate });\n    X('oneshot').module('chorus').param({ rate });\n    X('audio').module('chorus').param({ rate });\n    X('stream').module('chorus').param({ rate });\n    X('noise').module('chorus').param({ rate });\n  }, []);\n\n  const onChangeMixCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const mix = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('chorus').param({ mix });\n    X('oneshot').module('chorus').param({ mix });\n    X('audio').module('chorus').param({ mix });\n    X('stream').module('chorus').param({ mix });\n    X('noise').module('chorus').param({ mix });\n  }, []);\n\n  const onChangeToneCallabck = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const tone = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('chorus').param({ tone });\n    X('oneshot').module('chorus').param({ tone });\n    X('audio').module('chorus').param({ tone });\n    X('stream').module('chorus').param({ tone });\n    X('noise').module('chorus').param({ tone });\n  }, []);\n\n  return (\n    <div className='ChorusFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Chorus' checked={chorus} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <ParameterController label='Time' autoupdate={false} defaultValue={0} min={0} max={50} step={1} onChange={onChangeTimeCallback} />\n        <ParameterController label='Depth' autoupdate={false} defaultValue={0} min={0} max={1} step={0.01} onChange={onChangeDepthCallback} />\n        <ParameterController label='Rate' autoupdate={false} defaultValue={0} min={0} max={1} step={0.01} onChange={onChangeRateCallback} />\n        <ParameterController label='Mix' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeMixCallback} />\n        <ParameterController label='Tone' autoupdate={false} defaultValue={4000} min={20} max={8000} step={1} onChange={onChangeToneCallabck} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const CompressorFieldset: React.FC = () => {\n  const [compressor, setCompressor] = useState<boolean>(true);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('compressor').activate();\n      X('oneshot').module('compressor').activate();\n      X('audio').module('compressor').activate();\n      X('stream').module('compressor').activate();\n      X('noise').module('compressor').activate();\n    } else {\n      X('mixer').module('compressor').deactivate();\n      X('oneshot').module('compressor').deactivate();\n      X('audio').module('compressor').deactivate();\n      X('stream').module('compressor').deactivate();\n      X('noise').module('compressor').deactivate();\n    }\n\n    setCompressor(checked);\n  }, []);\n\n  const onChangeThresholdCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const threshold = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('compressor').param({ threshold });\n    X('oneshot').module('compressor').param({ threshold });\n    X('audio').module('compressor').param({ threshold });\n    X('stream').module('compressor').param({ threshold });\n    X('noise').module('compressor').param({ threshold });\n  }, []);\n\n  const onChangeKneeCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const knee = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('compressor').param({ knee });\n    X('oneshot').module('compressor').param({ knee });\n    X('audio').module('compressor').param({ knee });\n    X('stream').module('compressor').param({ knee });\n    X('noise').module('compressor').param({ knee });\n  }, []);\n\n  const onChangeRatioCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const ratio = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('compressor').param({ ratio });\n    X('oneshot').module('compressor').param({ ratio });\n    X('audio').module('compressor').param({ ratio });\n    X('stream').module('compressor').param({ ratio });\n    X('noise').module('compressor').param({ ratio });\n  }, []);\n\n  const onChangeAttackCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const attack = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('compressor').param({ attack });\n    X('oneshot').module('compressor').param({ attack });\n    X('audio').module('compressor').param({ attack });\n    X('stream').module('compressor').param({ attack });\n    X('noise').module('compressor').param({ attack });\n  }, []);\n\n  const onChangeReleaseCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const release = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('compressor').param({ release });\n    X('oneshot').module('compressor').param({ release });\n    X('audio').module('compressor').param({ release });\n    X('stream').module('compressor').param({ release });\n    X('noise').module('compressor').param({ release });\n  }, []);\n\n  return (\n    <div className='CompressorFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Compressor' checked={compressor} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <ParameterController label='Threshold' autoupdate={false} defaultValue={-24} min={-100} max={0} step={1} onChange={onChangeThresholdCallback} />\n        <ParameterController label='Knee' autoupdate={false} defaultValue={30} min={0} max={40} step={1} onChange={onChangeKneeCallback} />\n        <ParameterController label='Ratio' autoupdate={false} defaultValue={12} min={1} max={20} step={1} onChange={onChangeRatioCallback} />\n        <ParameterController label='Attack' autoupdate={false} defaultValue={0.003} min={0} max={1} step={0.001} onChange={onChangeAttackCallback} />\n        <ParameterController label='Release' autoupdate={false} defaultValue={0.25} min={0.01} max={1} step={0.01} onChange={onChangeReleaseCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const DelayFieldset: React.FC = () => {\n  const [delay, setDelay] = useState<boolean>(false);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('delay').activate();\n      X('oneshot').module('delay').activate();\n      X('audio').module('delay').activate();\n      X('stream').module('delay').activate();\n      X('noise').module('delay').activate();\n    } else {\n      X('mixer').module('delay').deactivate();\n      X('oneshot').module('delay').deactivate();\n      X('audio').module('delay').deactivate();\n      X('stream').module('delay').deactivate();\n      X('noise').module('delay').deactivate();\n    }\n\n    setDelay(checked);\n  }, []);\n\n  const onChangeTimeCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const time = event.currentTarget.valueAsNumber / 1000;\n\n    X('mixer').module('delay').param({ time });\n    X('oneshot').module('delay').param({ time });\n    X('audio').module('delay').param({ time });\n    X('stream').module('delay').param({ time });\n    X('noise').module('delay').param({ time });\n  }, []);\n\n  const onChangeDryCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const dry = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('delay').param({ dry });\n    X('oneshot').module('delay').param({ dry });\n    X('audio').module('delay').param({ dry });\n    X('stream').module('delay').param({ dry });\n    X('noise').module('delay').param({ dry });\n  }, []);\n\n  const onChangeWetCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const wet = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('delay').param({ wet });\n    X('oneshot').module('delay').param({ wet });\n    X('audio').module('delay').param({ wet });\n    X('stream').module('delay').param({ wet });\n    X('noise').module('delay').param({ wet });\n  }, []);\n\n  const onChangeToneCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const tone = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('delay').param({ tone });\n    X('oneshot').module('delay').param({ tone });\n    X('audio').module('delay').param({ tone });\n    X('stream').module('delay').param({ tone });\n    X('noise').module('delay').param({ tone });\n  }, []);\n\n  const onChangeFeedbackCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const feedback = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('delay').param({ feedback });\n    X('oneshot').module('delay').param({ feedback });\n    X('audio').module('delay').param({ feedback });\n    X('stream').module('delay').param({ feedback });\n    X('noise').module('delay').param({ feedback });\n  }, []);\n\n  return (\n    <div className='DelayFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Delay' checked={delay} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <ParameterController label='Time' autoupdate={false} defaultValue={0} min={0} max={1000} step={1} onChange={onChangeTimeCallback} />\n        <ParameterController label='Dry' autoupdate={false} defaultValue={1} min={0} max={1} step={0.05} onChange={onChangeDryCallback} />\n        <ParameterController label='Wet' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeWetCallback} />\n        <ParameterController label='Tone' autoupdate={false} defaultValue={4000} min={20} max={8000} step={1} onChange={onChangeToneCallback} />\n        <ParameterController label='Feedback' autoupdate={false} defaultValue={0} min={0} max={0.95} step={0.05} onChange={onChangeFeedbackCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const EnvelopeGeneratorFieldset: React.FC = () => {\n  const onChangeAttackCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const attack = event.currentTarget.valueAsNumber;\n\n    X('oscillator').module('envelopegenerator').param({ attack });\n    window.clonedXSound('oscillator').module('envelopegenerator').param({ attack });\n    X('oneshot').module('envelopegenerator').param({ attack });\n    X('noise').module('envelopegenerator').param({ attack });\n  }, []);\n\n  const onChangeDecayCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const decay = event.currentTarget.valueAsNumber;\n\n    X('oscillator').module('envelopegenerator').param({ decay });\n    window.clonedXSound('oscillator').module('envelopegenerator').param({ decay });\n    X('oneshot').module('envelopegenerator').param({ decay });\n    X('noise').module('envelopegenerator').param({ decay });\n  }, []);\n\n  const onChangeSustainCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const sustain = event.currentTarget.valueAsNumber;\n\n    X('oscillator').module('envelopegenerator').param({ sustain });\n    window.clonedXSound('oscillator').module('envelopegenerator').param({ sustain });\n    X('oneshot').module('envelopegenerator').param({ sustain });\n    X('noise').module('envelopegenerator').param({ sustain });\n  }, []);\n\n  const onChangeReleaseCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const release = event.currentTarget.valueAsNumber;\n\n    X('oscillator').module('envelopegenerator').param({ release });\n    window.clonedXSound('oscillator').module('envelopegenerator').param({ release });\n    X('oneshot').module('envelopegenerator').param({ release });\n    X('noise').module('envelopegenerator').param({ release });\n  }, []);\n\n  return (\n    <div className='EnvelopeGeneratorFieldset'>\n      <Fieldset>\n        <Legend>Envelope Generator</Legend>\n        <ParameterController label='Attack' autoupdate={false} defaultValue={0.01} min={0} max={1} step={0.01} onChange={onChangeAttackCallback} />\n        <ParameterController label='Decay' autoupdate={false} defaultValue={0.3} min={0} max={1} step={0.01} onChange={onChangeDecayCallback} />\n        <ParameterController label='Sustain' autoupdate={false} defaultValue={0.5} min={0} max={1} step={0.01} onChange={onChangeSustainCallback} />\n        <ParameterController label='Release' autoupdate={false} defaultValue={1} min={0} max={1} step={0.01} onChange={onChangeReleaseCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Select } from '/src/components/atoms/Select';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const FilterFieldset: React.FC = () => {\n  const [filter, setFilter] = useState<boolean>(false);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('filter').activate();\n      X('oneshot').module('filter').activate();\n      X('audio').module('filter').activate();\n      X('stream').module('filter').activate();\n      X('noise').module('filter').activate();\n    } else {\n      X('mixer').module('filter').deactivate();\n      X('oneshot').module('filter').deactivate();\n      X('audio').module('filter').deactivate();\n      X('stream').module('filter').deactivate();\n      X('noise').module('filter').deactivate();\n    }\n\n    setFilter(checked);\n  }, []);\n\n  const onChangeTypeCallback = useCallback((event: React.ChangeEvent<HTMLSelectElement>) => {\n    const type = event.currentTarget.value;\n\n    switch (type) {\n      case 'lowpass':\n      case 'highpass':\n      case 'bandpass':\n      case 'lowshelf':\n      case 'highshelf':\n      case 'peaking':\n      case 'notch':\n      case 'allpass':\n        X('mixer').module('filter').param({ type });\n        X('oneshot').module('filter').param({ type });\n        X('audio').module('filter').param({ type });\n        X('stream').module('filter').param({ type });\n        X('noise').module('filter').param({ type });\n        break;\n      default:\n        break;\n    }\n  }, []);\n\n  const onChangeFrequencyCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const frequency = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('filter').param({ frequency });\n    X('oneshot').module('filter').param({ frequency });\n    X('audio').module('filter').param({ frequency });\n    X('stream').module('filter').param({ frequency });\n    X('noise').module('filter').param({ frequency });\n  }, []);\n\n  const onChangeQualityCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const Q = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('filter').param({ Q });\n    X('oneshot').module('filter').param({ Q });\n    X('audio').module('filter').param({ Q });\n    X('stream').module('filter').param({ Q });\n    X('noise').module('filter').param({ Q });\n  }, []);\n\n  const onChangeGainCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const gain = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('filter').param({ gain });\n    X('oneshot').module('filter').param({ gain });\n    X('audio').module('filter').param({ gain });\n    X('stream').module('filter').param({ gain });\n    X('noise').module('filter').param({ gain });\n  }, []);\n\n  const onChangeAttackCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const attack = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('filter').param({ attack });\n    X('oneshot').module('filter').param({ attack });\n    X('audio').module('filter').param({ attack });\n    X('stream').module('filter').param({ attack });\n    X('noise').module('filter').param({ attack });\n  }, []);\n\n  const onChangeDecayCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const decay = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('filter').param({ decay });\n    X('oneshot').module('filter').param({ decay });\n    X('audio').module('filter').param({ decay });\n    X('stream').module('filter').param({ decay });\n    X('noise').module('filter').param({ decay });\n  }, []);\n\n  const onChangeSustainCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const sustain = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('filter').param({ sustain });\n    X('oneshot').module('filter').param({ sustain });\n    X('audio').module('filter').param({ sustain });\n    X('stream').module('filter').param({ sustain });\n    X('noise').module('filter').param({ sustain });\n  }, []);\n\n  const onChangeReleaseCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const release = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('filter').param({ release });\n    X('oneshot').module('filter').param({ release });\n    X('audio').module('filter').param({ release });\n    X('stream').module('filter').param({ release });\n    X('noise').module('filter').param({ release });\n  }, []);\n\n  return (\n    <div className='FilterFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Filter' checked={filter} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <Select\n          label='Select Filter'\n          values={['lowpass', 'highpass', 'bandpass', 'lowshelf', 'highshelf', 'peaking', 'notch', 'allpass']}\n          texts={['lowpass', 'highpass', 'bandpass', 'lowshelf', 'highshelf', 'peaking', 'notch', 'allpass']}\n          disabled={false}\n          onChange={onChangeTypeCallback}\n        />\n        <ParameterController label='Frequency' autoupdate={false} defaultValue={8000} min={20} max={22050} step={1} onChange={onChangeFrequencyCallback} />\n        <ParameterController label='Quality' autoupdate={false} defaultValue={1} min={1} max={20} step={1} onChange={onChangeQualityCallback} />\n        <ParameterController label='Gain' autoupdate={false} defaultValue={0} min={-18} max={18} step={1} onChange={onChangeGainCallback} />\n        <ParameterController label='Attack' autoupdate={false} defaultValue={0.01} min={0} max={1} step={0.01} onChange={onChangeAttackCallback} />\n        <ParameterController label='Decay' autoupdate={false} defaultValue={0.3} min={0} max={1} step={0.01} onChange={onChangeDecayCallback} />\n        <ParameterController label='Sustain' autoupdate={false} defaultValue={0.5} min={0} max={1} step={0.01} onChange={onChangeSustainCallback} />\n        <ParameterController label='Release' autoupdate={false} defaultValue={1} min={0} max={1} step={0.01} onChange={onChangeReleaseCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const FlangerFieldset: React.FC = () => {\n  const [flanger, setFlanger] = useState<boolean>(false);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('flanger').activate();\n      X('oneshot').module('flanger').activate();\n      X('audio').module('flanger').activate();\n      X('stream').module('flanger').activate();\n      X('noise').module('flanger').activate();\n    } else {\n      X('mixer').module('flanger').deactivate();\n      X('oneshot').module('flanger').deactivate();\n      X('audio').module('flanger').deactivate();\n      X('stream').module('flanger').deactivate();\n      X('noise').module('flanger').deactivate();\n    }\n\n    setFlanger(checked);\n  }, []);\n\n  const onChangeTimeCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const time = event.currentTarget.valueAsNumber / 1000;\n\n    X('mixer').module('flanger').param({ time });\n    X('oneshot').module('flanger').param({ time });\n    X('audio').module('flanger').param({ time });\n    X('stream').module('flanger').param({ time });\n    X('noise').module('flanger').param({ time });\n  }, []);\n\n  const onChangeDepthCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const depth = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('flanger').param({ depth });\n    X('oneshot').module('flanger').param({ depth });\n    X('audio').module('flanger').param({ depth });\n    X('stream').module('flanger').param({ depth });\n    X('noise').module('flanger').param({ depth });\n  }, []);\n\n  const onChangeRateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const rate = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('flanger').param({ rate });\n    X('oneshot').module('flanger').param({ rate });\n    X('audio').module('flanger').param({ rate });\n    X('stream').module('flanger').param({ rate });\n    X('noise').module('flanger').param({ rate });\n  }, []);\n\n  const onChangeMixCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const mix = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('flanger').param({ mix });\n    X('oneshot').module('flanger').param({ mix });\n    X('audio').module('flanger').param({ mix });\n    X('stream').module('flanger').param({ mix });\n    X('noise').module('flanger').param({ mix });\n  }, []);\n\n  const onChangeToneCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const tone = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('flanger').param({ tone });\n    X('oneshot').module('flanger').param({ tone });\n    X('audio').module('flanger').param({ tone });\n    X('stream').module('flanger').param({ tone });\n    X('noise').module('flanger').param({ tone });\n  }, []);\n\n  const onChangeFeedbackCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const feedback = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('flanger').param({ feedback });\n    X('oneshot').module('flanger').param({ feedback });\n    X('audio').module('flanger').param({ feedback });\n    X('stream').module('flanger').param({ feedback });\n    X('noise').module('flanger').param({ feedback });\n  }, []);\n\n  return (\n    <div className='FlangerFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Flanger' checked={flanger} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <ParameterController label='Time' autoupdate={false} defaultValue={0} min={0} max={10} step={0.05} onChange={onChangeTimeCallback} />\n        <ParameterController label='Depth' autoupdate={false} defaultValue={0} min={0} max={1} step={0.01} onChange={onChangeDepthCallback} />\n        <ParameterController label='Rate' autoupdate={false} defaultValue={0} min={0} max={10} step={0.05} onChange={onChangeRateCallback} />\n        <ParameterController label='Mix' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeMixCallback} />\n        <ParameterController label='Tone' autoupdate={false} defaultValue={4000} min={20} max={8000} step={1} onChange={onChangeToneCallback} />\n        <ParameterController label='Feedback' autoupdate={false} defaultValue={0} min={0} max={0.95} step={0.05} onChange={onChangeFeedbackCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useMemo } from 'react';\n\nexport const Footer: React.FC = () => {\n  const year = useMemo(() => {\n    const date = new Date();\n\n    return date.getFullYear();\n  }, []);\n\n  return (\n    <footer className='Footer'>\n      <p>Copyright (c) 2012 - {year}</p>\n      <p>\n        <a href='https://github.com/Korilakkuma' target='_blank' rel='noopener noreferrer'>\n          Tomohiro IKEDA\n        </a>\n      </p>\n      <p>\n        <a href='https://maoudamashii.jokersounds.com/' target='_blank' rel='noopener noreferrer' lang='ja'>\n          音楽素材/魔王魂\n        </a>\n      </p>\n    </footer>\n  );\n};\n","import React, { useCallback, useEffect, useState, useId, useMemo, useRef } from 'react';\n\nimport { FOCUSABLE_ELEMENTS } from '/src/config';\nimport { ProgressBar } from '/src/components/atoms/ProgressBar/ProgressBar';\n\nexport type Props = {\n  loadedApp: boolean;\n  progress: boolean;\n  rate: number;\n  onClickSetupCallback: (event: React.MouseEvent<HTMLButtonElement>) => void;\n};\n\nexport const Header: React.FC<Props> = ({ loadedApp, progress, rate, onClickSetupCallback }) => {\n  const headerRef = useRef<HTMLElement>(null);\n\n  const [animationEnded, setAnimationEnded] = useState<boolean>(false);\n\n  const loaded = useMemo(() => {\n    return loadedApp && rate >= 100;\n  }, [loadedApp, rate]);\n\n  const onAnimationEndCallback = useCallback(() => {\n    setAnimationEnded(true);\n  }, []);\n\n  useEffect(() => {\n    const root = document.getElementById('app');\n\n    if (root === null) {\n      return;\n    }\n\n    const hiddenElement = (element: Element) => {\n      return Array.from(document.querySelectorAll('[aria-hidden=\"true\"]')).some((node: Element) => node.contains(element));\n    };\n\n    if (loaded) {\n      Array.from(root.querySelectorAll(FOCUSABLE_ELEMENTS))\n        .filter((node: Element) => {\n          return headerRef.current !== null && !headerRef.current.contains(node) && !hiddenElement(node) && node.getAttribute('tabindex') === '-1';\n        })\n        .forEach((element: Element) => {\n          if (element.getAttribute('role') === 'switch') {\n            element.setAttribute('tabindex', '0');\n          } else if (element.getAttribute('type') === 'checkbox' || element.getAttribute('type') === 'file') {\n            element.setAttribute('tabindex', '-1');\n          } else {\n            element.removeAttribute('tabindex');\n          }\n        });\n    } else if (animationEnded) {\n      Array.from(root.querySelectorAll(FOCUSABLE_ELEMENTS))\n        .filter((node: Element) => {\n          return headerRef.current !== null && !headerRef.current.contains(node) && !hiddenElement(node) && node.getAttribute('tabindex') !== '-1';\n        })\n        .forEach((element: Element) => {\n          element.setAttribute('tabindex', '-1');\n        });\n    }\n  }, [animationEnded, loaded]);\n\n  const id = useId();\n  const labelId = useMemo(() => `header-label-${id}`, [id]);\n  const describeId = useMemo(() => `header-describe-${id}`, [id]);\n\n  return (\n    <header ref={headerRef} hidden={loaded} className={`Header${progress ? ' -progress' : ' -fadeIn'}`} onAnimationEnd={onAnimationEndCallback}>\n      <div hidden={progress}>\n        <div className='Header__forkMeOnGitHub'>\n          <a href='https://github.com/Korilakkuma/XSound.app' target='_blank' rel='noopener noreferrer'>\n            Fork me on GitHub\n          </a>\n        </div>\n        <div>\n          <h1 id={labelId} className='Header__logo'>\n            <img src='/assets/images/logo-v09.png' alt='XSound.app' width='200' height='100' />\n            <img src='/assets/images/logo-v09.png' alt='' width='200' height='100' />\n            <img src='/assets/images/logo-v09.png' alt='' width='200' height='100' />\n            <img src='/assets/images/logo-v09.png' alt='' width='200' height='100' />\n            <img src='/assets/images/logo-v09.png' alt='' width='200' height='100' />\n            <img src='/assets/images/logo-v09.png' alt='' width='200' height='100' />\n          </h1>\n          <div id={describeId} className='Header__intro'>\n            <span className='Header__moveLeft'>\n              XSound.app is Web Music Application by\n              <a href='https://xsound.jp' target='_blank' rel='noopener noreferrer'>\n                XSound (Web Audio API Library)\n              </a>\n              .\n            </span>\n            <span className='Header__moveRight'>Synthesizer, Effects, Visualization, Multi-Track Recording, Visual Audio Sprite ...</span>\n            <span className='Header__moveLeft'>Moreover, enable to use external devices such as Audio Interfaces, MIDI.</span>\n          </div>\n          <nav className='Header__startButton'>\n            <button type='button' onClick={onClickSetupCallback}>\n              Start Application\n            </button>\n          </nav>\n        </div>\n      </div>\n      {progress ? <ProgressBar label={`Now Loading ... (${rate} %)`} rate={rate} /> : null}\n    </header>\n  );\n};\n","import React from 'react';\n\nimport { Modal } from '/src/components/atoms/Modal';\n\ntype Selection = {\n  label: string;\n  action(event: React.MouseEvent<HTMLButtonElement>): void;\n};\n\nexport type Props = {\n  isShow: boolean;\n  hasOverlay: boolean;\n  title: string;\n  first: Selection;\n  second: Selection;\n  children: React.ReactNode;\n  onClose(event: React.MouseEvent<HTMLButtonElement | HTMLDivElement> | React.KeyboardEvent<HTMLDivElement>): void;\n};\n\nexport const SelectableModal: React.FC<Props> = (props: Props) => {\n  const { isShow, hasOverlay, title, first, second, children, onClose } = props;\n\n  return (\n    <div className='SelectableModal'>\n      <Modal isShow={isShow} hasOverlay={hasOverlay} title={title} asAlert={false} onClose={onClose}>\n        <div className='SelectableModal__contents'>{children}</div>\n        <div className='SelectableModal__buttons'>\n          <button type='button' onClick={first.action}>\n            {first.label}\n          </button>\n          <button type='button' onClick={second.action}>\n            {second.label}\n          </button>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { X } from 'xsound';\n\nimport { NUMBER_OF_PIANO_KEYBOARDS } from '/src/config';\nimport { changeOscillatorStates, downBassKeyboards, downMelodyKeyboards, upBassKeyboards, upMelodyKeyboards } from '/src/slices';\nimport { createFilename } from '/src/utils';\nimport { FileUploader } from '/src/components/atoms/FileUploader';\nimport { Modal } from '/src/components/atoms/Modal';\nimport { ProgressBar } from '/src/components/atoms/ProgressBar';\nimport { Select } from '/src/components/atoms/Select';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { SelectableModal } from '/src/components/helpers/SelectableModal';\n\nimport type { RootState } from '/src/store';\nimport type { MMLDescriptor, SoundSource } from '/src/types';\nimport type { FileEvent, FileReaderErrorText, MMLSyntaxError, Sequence } from 'xsound';\n\nexport type Props = {\n  loadedApp: boolean;\n  currentSoundSource: SoundSource;\n};\n\nconst CLEAR_HIGHLIGHT_REGEXP = /<span class=\"x-highlight\">(.+?)<\\/span>/g;\n\n// HACK: Prevent from updating local state on confirm\nconst savedMMLs = ['', ''];\n\nexport const MML: React.FC<Props> = ({ loadedApp, currentSoundSource }) => {\n  const [loaded, setLoaded] = useState<boolean>(false);\n  const [paused, setPaused] = useState<boolean>(true);\n  const [highlight, setHighlight] = useState<boolean>(false);\n  const [melody, setMelody] = useState<string>('');\n  const [bass, setBass] = useState<string>('');\n  const [melodyIndex, setMelodyIndex] = useState<number>(0);\n  const [bassIndex, setBassIndex] = useState<number>(0);\n  const [dataURL, setDataURL] = useState<string>('');\n  const [filename, setFilename] = useState<string>('');\n  const [drag, setDrag] = useState<boolean>(false);\n  const [showProgress, setShowProgress] = useState<boolean>(false);\n  const [loadedByte, setLoadedByte] = useState<number>(0);\n  const [rate, setRate] = useState<number>(0);\n  const [values, setValues] = useState<string[]>(['{\"melody\":\"\",\"bass\":\"\"}']);\n  const [texts, setTexts] = useState<string[]>(['SAMPLE MML']);\n  const [errorMessage, setErrorMessage] = useState<string>('');\n  const [errorMessageForMMLMelody, setErrorMessageForMMLMelody] = useState<string>('');\n  const [errorMessageForMMLBass, setErrorMessageForMMLBass] = useState<string>('');\n  const [isShowModalForFileUploadError, setIsShowModalForFileUploadError] = useState<boolean>(false);\n  const [isShowModalForProgress, setIsShowModalForProgress] = useState<boolean>(false);\n  const [isShowModalConfirmation, setIsShowModalConfirmation] = useState<boolean>(false);\n\n  const dispatch = useDispatch();\n\n  const active = useSelector((state: RootState) => state.mmlState);\n\n  const readyMMLCallback = useCallback(\n    (currentMelody: string, currentBass: string) => {\n      const melody = currentMelody.replace(CLEAR_HIGHLIGHT_REGEXP, '$1');\n      const bass = currentBass.replace(CLEAR_HIGHLIGHT_REGEXP, '$1');\n\n      switch (currentSoundSource) {\n        case 'oscillator':\n          X('mml').ready({ source: X('oscillator'), mmls: [melody] });\n          window.clonedXSound('mml').ready({ source: window.clonedXSound('oscillator'), mmls: [bass] });\n          break;\n        case 'piano':\n          X('mml').ready({ source: X('oneshot'), mmls: [melody, bass], offset: 0 });\n          break;\n        case 'guitar':\n          X('mml').ready({ source: X('oneshot'), mmls: [melody, bass], offset: NUMBER_OF_PIANO_KEYBOARDS });\n          break;\n        case 'electric-guitar':\n          X('mml').ready({ source: X('oneshot'), mmls: [melody, bass], offset: 2 * NUMBER_OF_PIANO_KEYBOARDS });\n          break;\n        case 'orgel':\n          X('mml').ready({ source: X('oneshot'), mmls: [melody, bass], offset: 3 * NUMBER_OF_PIANO_KEYBOARDS });\n          break;\n        case 'whitenoise':\n        case 'pinknoise':\n        case 'browniannoise':\n          X('mml').ready({ source: X('noise'), mmls: [melody] });\n          window.clonedXSound('mml').ready({ source: X('noise'), mmls: [bass] });\n          break;\n        default:\n          break;\n      }\n    },\n    [currentSoundSource]\n  );\n\n  const startMelodyCallback = useCallback(\n    (sequence: Sequence) => {\n      dispatch(downMelodyKeyboards(sequence.indexes));\n      setMelody(X('mml').getMML(0) ?? '');\n\n      const bass = X('mml').getMML(1);\n\n      if (bass) {\n        setBass(bass);\n      }\n    },\n    [dispatch]\n  );\n\n  const startBassCallback = useCallback(\n    (sequence: Sequence) => {\n      dispatch(downBassKeyboards(sequence.indexes));\n      setBass(window.clonedXSound('mml').getMML(0) ?? '');\n    },\n    [dispatch]\n  );\n\n  const stopMelodyCallback = useCallback(\n    (sequence: Sequence) => {\n      dispatch(upMelodyKeyboards(sequence.indexes));\n    },\n    [dispatch]\n  );\n\n  const stopBassCallback = useCallback(\n    (sequence: Sequence) => {\n      dispatch(upBassKeyboards(sequence.indexes));\n    },\n    [dispatch]\n  );\n\n  const endedAllPartsCallback = useCallback(() => {\n    for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n      if (i !== 0) {\n        X('oscillator').get(i).deactivate();\n        window.clonedXSound('oscillator').get(i).deactivate();\n      }\n    }\n\n    dispatch(downMelodyKeyboards([]));\n    dispatch(downBassKeyboards([]));\n\n    const currentMelody = X('mml').getMML(0)?.replace(CLEAR_HIGHLIGHT_REGEXP, '$1') ?? '';\n    const currentBass = X('mml').getMML(1)\n      ? X('mml').getMML(1)?.replace(CLEAR_HIGHLIGHT_REGEXP, '$1') ?? ''\n      : window.clonedXSound('mml').getMML(0)?.replace(CLEAR_HIGHLIGHT_REGEXP, '$1') ?? '';\n\n    readyMMLCallback(currentMelody, currentBass);\n\n    setMelody(currentMelody);\n    setBass(currentBass);\n    setPaused(true);\n  }, [dispatch, readyMMLCallback]);\n\n  const errorCallbackForMelody = useCallback((error: MMLSyntaxError) => {\n    const token = error.token;\n\n    switch (token.type) {\n      case 'TEMPO':\n      case 'OCTAVE':\n      case 'NOTE':\n      case 'REST':\n      case 'TIE':\n        setErrorMessageForMMLMelody(`${token.token.toUpperCase()} is invalid`);\n        break;\n      default:\n        setErrorMessageForMMLMelody('MML is invalid');\n        break;\n    }\n  }, []);\n\n  const errorCallbackForBass = useCallback((error: MMLSyntaxError) => {\n    const token = error.token;\n\n    switch (token.type) {\n      case 'TEMPO':\n      case 'OCTAVE':\n      case 'NOTE':\n      case 'REST':\n      case 'TIE':\n        setErrorMessageForMMLBass(`${token.token.toUpperCase()} is invalid`);\n        break;\n      default:\n        setErrorMessageForMMLBass('MML is invalid');\n        break;\n    }\n  }, []);\n\n  const onBlurMelodyCallback = useCallback((event: React.FocusEvent<HTMLDivElement>) => {\n    if (event.currentTarget === null || event.currentTarget.textContent === null) {\n      return;\n    }\n\n    const currentMelody = event.currentTarget.textContent;\n\n    setMelody(currentMelody);\n    setPaused(true);\n  }, []);\n\n  const onBlurBassCallback = useCallback((event: React.FocusEvent<HTMLDivElement>) => {\n    if (event.currentTarget === null || event.currentTarget.textContent === null) {\n      return;\n    }\n\n    const currentBass = event.currentTarget.textContent;\n\n    setBass(currentBass);\n    setPaused(true);\n  }, []);\n\n  const onClickMMLControllerCallback = useCallback(() => {\n    if (paused) {\n      setErrorMessageForMMLMelody('');\n      setErrorMessageForMMLBass('');\n\n      readyMMLCallback(melody, bass);\n\n      X('mml').currentIndex(0, melodyIndex);\n      window.clonedXSound('mml').currentIndex(0, bassIndex);\n\n      // Start MML\n      if (currentSoundSource === 'oscillator') {\n        for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n          X('oscillator').get(i).activate();\n          window.clonedXSound('oscillator').get(i).activate();\n        }\n\n        X('mml').start(0, true);\n        window.clonedXSound('mml').start(0, true);\n\n        X('mixer').start([X('oscillator'), window.clonedXSound('oscillator')], [1, 1]);\n\n        X('mixer').module('recorder').start();\n\n        dispatch(changeOscillatorStates([true, true]));\n      } else if (currentSoundSource.endsWith('noise')) {\n        X('mml').start(0, true);\n        window.clonedXSound('mml').start(0, true);\n\n        X('mixer').module('recorder').start();\n      } else {\n        X('mml').start(0, true);\n        X('mml').start(1, true);\n\n        X('oneshot').module('recorder').start();\n      }\n    } else {\n      setMelodyIndex(X('mml').currentIndex(0));\n      setBassIndex(window.clonedXSound('mml').currentIndex(0));\n\n      // Stop MML\n      X('mml').stop();\n      window.clonedXSound('mml').stop();\n\n      for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n        if (i !== 0) {\n          X('oscillator').get(i).deactivate();\n        }\n\n        window.clonedXSound('oscillator').get(i).deactivate();\n      }\n    }\n\n    setPaused(!paused);\n  }, [dispatch, currentSoundSource, paused, melody, bass, melodyIndex, bassIndex, readyMMLCallback]);\n\n  const onClickRewindButtonCallback = useCallback(() => {\n    X('mml').stop();\n    window.clonedXSound('mml').stop();\n\n    dispatch(downMelodyKeyboards([]));\n    dispatch(downBassKeyboards([]));\n\n    const currentMelody = melody.replace(CLEAR_HIGHLIGHT_REGEXP, '$1');\n    const currentBass = bass.replace(CLEAR_HIGHLIGHT_REGEXP, '$1');\n\n    setMelody(currentMelody);\n    setBass(currentBass);\n    setMelodyIndex(0);\n    setBassIndex(0);\n    setPaused(true);\n  }, [dispatch, melody, bass]);\n\n  const onClickDownloadButtonCallback = useCallback(() => {\n    const currentMelody = melody.replace(CLEAR_HIGHLIGHT_REGEXP, '$1');\n    const currentBass = bass.replace(CLEAR_HIGHLIGHT_REGEXP, '$1');\n\n    const json = JSON.stringify({\n      title: '',\n      artist: '',\n      description: '',\n      melody: currentMelody,\n      bass: currentBass\n    });\n\n    setDataURL(X.toTextFile(json, true));\n  }, [melody, bass]);\n\n  const onChangeHightlightCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    setHighlight(event.currentTarget.checked);\n  }, []);\n\n  const onChangeFileCallback = useCallback(\n    (event: React.BaseSyntheticEvent<FileEvent>) => {\n      const file = X.file({\n        event: event.nativeEvent,\n        type: 'json',\n        successCallback: (_: ProgressEvent, mmls: ReturnType<typeof JSON.parse>) => {\n          event.nativeEvent.target.value = '';\n\n          if (melody || bass) {\n            savedMMLs[0] = mmls.melody;\n            savedMMLs[1] = mmls.bass;\n\n            setIsShowModalConfirmation(true);\n          } else {\n            readyMMLCallback(mmls.melody, mmls.bass);\n\n            setMelody(mmls.melody);\n            setBass(mmls.bass);\n          }\n\n          setShowProgress(false);\n          setIsShowModalForProgress(false);\n        },\n        errorCallback: (_: ProgressEvent, textStatus: FileReaderErrorText) => {\n          setShowProgress(false);\n          setErrorMessage(textStatus);\n          setIsShowModalForFileUploadError(true);\n        },\n        progressCallback: (e: ProgressEvent) => {\n          const { lengthComputable, loaded, total } = e;\n\n          setShowProgress(lengthComputable);\n          setLoadedByte(loaded);\n          setRate(lengthComputable && total > 0 ? Math.trunc((loaded / total) * 100) : 0);\n          setIsShowModalForProgress(true);\n        }\n      });\n\n      if (file === null) {\n        setErrorMessage('Please upload file');\n        setIsShowModalForFileUploadError(true);\n      } else if (typeof file !== 'string') {\n        setFilename(file.name);\n      }\n    },\n    [melody, bass, readyMMLCallback]\n  );\n\n  const onDragEnterCallback = useCallback((event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    setDrag(true);\n  }, []);\n\n  const onDragOverCallback = useCallback((event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    setDrag(true);\n  }, []);\n\n  const onDragLeaveCallback = useCallback((event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    setDrag(false);\n  }, []);\n\n  const onDropCallback = useCallback(\n    (event: React.DragEvent<HTMLDivElement>) => {\n      event.preventDefault();\n\n      const file = X.drop({\n        event: event.nativeEvent,\n        type: 'json',\n        successCallback: (_: ProgressEvent, mmls: ReturnType<typeof JSON.parse>) => {\n          if (melody || bass) {\n            savedMMLs[0] = mmls.melody;\n            savedMMLs[1] = mmls.bass;\n\n            setIsShowModalConfirmation(true);\n          } else {\n            readyMMLCallback(mmls.melody, mmls.bass);\n\n            setMelody(mmls.melody);\n            setBass(mmls.bass);\n          }\n\n          setShowProgress(false);\n          setIsShowModalForProgress(false);\n        },\n        errorCallback: (_: ProgressEvent, textStatus: FileReaderErrorText) => {\n          setShowProgress(false);\n          setErrorMessage(textStatus);\n          setIsShowModalForFileUploadError(true);\n        },\n        progressCallback: (e: ProgressEvent) => {\n          const { lengthComputable, loaded, total } = e;\n\n          setShowProgress(lengthComputable);\n          setLoadedByte(loaded);\n          setRate(lengthComputable && total > 0 ? Math.trunc((loaded / total) * 100) : 0);\n          setIsShowModalForProgress(true);\n        }\n      });\n\n      if (file === null) {\n        setErrorMessage('Please drop file');\n        setIsShowModalForFileUploadError(true);\n      } else if (typeof file !== 'string') {\n        setFilename(file.name);\n      }\n\n      setDrag(false);\n    },\n    [melody, bass, readyMMLCallback]\n  );\n\n  const onCloseModalCallback = useCallback(() => {\n    setIsShowModalForFileUploadError(false);\n  }, []);\n\n  const onClickOverwriteCallback = useCallback(() => {\n    readyMMLCallback(savedMMLs[0], savedMMLs[1]);\n\n    setMelody(savedMMLs[0]);\n    setBass(savedMMLs[1]);\n    setIsShowModalConfirmation(false);\n  }, [readyMMLCallback]);\n\n  const onClickCancelCallback = useCallback(() => {\n    setFilename('');\n    setIsShowModalConfirmation(false);\n  }, []);\n\n  const onChangeSampleMMLCallback = useCallback((event: React.ChangeEvent<HTMLSelectElement>) => {\n    const sampleMML = JSON.parse(event.currentTarget.value);\n\n    setMelody(sampleMML.melody);\n    setBass(sampleMML.bass);\n  }, []);\n\n  useEffect(() => {\n    if (!loadedApp || loaded) {\n      return;\n    }\n\n    X('mml').setup({\n      startCallback: startMelodyCallback,\n      stopCallback: stopMelodyCallback,\n      endedCallback: endedAllPartsCallback,\n      errorCallback: errorCallbackForMelody\n    });\n\n    window.clonedXSound('mml').setup({\n      startCallback: startBassCallback,\n      stopCallback: stopBassCallback,\n      endedCallback: endedAllPartsCallback,\n      errorCallback: errorCallbackForBass\n    });\n\n    const mmls = ['/assets/mmls/sample.json'];\n\n    if (process.env.NODE_ENV !== 'production') {\n      mmls.push('/assets/mmls/endless-rain.json');\n      mmls.push('/assets/mmls/forever-love.json');\n      mmls.push('/assets/mmls/tears.json');\n      mmls.push('/assets/mmls/seifuku-no-mannequin.json');\n    }\n\n    Promise.all(mmls.map((mmls) => fetch(mmls)))\n      .then((responses: Response[]) => {\n        return responses.map((response: Response) => response.json());\n      })\n      .then((promises: Promise<MMLDescriptor>[]) => {\n        promises.forEach((promise: Promise<MMLDescriptor>) => {\n          promise\n            .then((json: MMLDescriptor) => {\n              const { title, artist, melody, bass } = json;\n\n              let index = 0;\n\n              switch (title) {\n                case 'ENDLESS RAIN':\n                  index = 2;\n                  break;\n                case 'Forever Love':\n                  index = 3;\n                  break;\n                case 'Tears':\n                  index = 4;\n                  break;\n                case '制服のマネキン':\n                  index = 5;\n                  break;\n                default:\n                  index = 1;\n                  break;\n              }\n\n              values[index] = JSON.stringify({ melody, bass });\n              texts[index] = `${title} | ${artist}`;\n\n              if (values.length === mmls.length + 1 && texts.length === mmls.length + 1) {\n                setValues(values);\n                setTexts(texts);\n              }\n            })\n            .catch((error: Error) => {\n              // eslint-disable-next-line no-console\n              console.error(error);\n            });\n        });\n      })\n      .catch((error: Error) => {\n        // eslint-disable-next-line no-console\n        console.error(error);\n      })\n      .finally(() => {\n        setLoaded(true);\n      });\n  }, [\n    loadedApp,\n    loaded,\n    melody,\n    bass,\n    values,\n    texts,\n    readyMMLCallback,\n    startMelodyCallback,\n    startBassCallback,\n    stopMelodyCallback,\n    stopBassCallback,\n    endedAllPartsCallback,\n    errorCallbackForMelody,\n    errorCallbackForBass\n  ]);\n\n  return (\n    <div id='mml-fieldset' aria-hidden={!active} className={`MML${active ? ' -active' : ''}`}>\n      <div\n        className={`MML__editor${drag ? ' -drag' : ''}`}\n        onDragEnter={onDragEnterCallback}\n        onDragOver={onDragOverCallback}\n        onDragLeave={onDragLeaveCallback}\n        onDrop={onDropCallback}\n      >\n        <dl>\n          <dt>\n            Melody\n            {errorMessageForMMLMelody ? (\n              <span className='MML__error' role='alert'>\n                {errorMessageForMMLMelody}\n              </span>\n            ) : null}\n          </dt>\n          <dd\n            contentEditable={active && paused}\n            dangerouslySetInnerHTML={{ __html: melody }}\n            aria-disabled={!active || !paused}\n            className={highlight ? '-highlight' : ''}\n            onBlur={onBlurMelodyCallback}\n          />\n        </dl>\n        <dl>\n          <dt>\n            Bass\n            {errorMessageForMMLBass ? (\n              <span className='MML__error' role='alert'>\n                {errorMessageForMMLBass}\n              </span>\n            ) : null}\n          </dt>\n          <dd\n            contentEditable={active && paused}\n            dangerouslySetInnerHTML={{ __html: bass }}\n            aria-disabled={!active || !paused}\n            className={highlight ? '-highlight' : ''}\n            onBlur={onBlurBassCallback}\n          />\n        </dl>\n      </div>\n      <div className='MML__controllers'>\n        <button\n          type='button'\n          disabled={!melody && !bass}\n          aria-label={paused ? 'Start' : 'Pause'}\n          tabIndex={active ? 0 : -1}\n          className={`MML__controller${paused ? ' -paused' : ''}`}\n          onClick={onClickMMLControllerCallback}\n        />\n        <button type='button' aria-label='Rewind' tabIndex={active ? 0 : -1} className='MML__rewinder' onClick={onClickRewindButtonCallback} />\n        <a\n          href={dataURL}\n          download={dataURL ? createFilename('mml-', 'json') : null}\n          role='button'\n          tabIndex={active ? 0 : -1}\n          className='MML__download'\n          onClick={onClickDownloadButtonCallback}\n        >\n          Download\n        </a>\n        <div>\n          <Switch label='Highlight' checked={highlight} labelAsText={true} tabIndex={active ? 0 : -1} onChange={onChangeHightlightCallback} />\n          <FileUploader\n            accept='application/json'\n            disabled={!paused}\n            placeholder='MML JSON file'\n            filename={filename}\n            tabIndex={active ? 0 : -1}\n            onChange={onChangeFileCallback}\n          />\n          <Select label='Select Sample MML' values={values} texts={texts} disabled={!paused} tabIndex={active ? 0 : -1} onChange={onChangeSampleMMLCallback} />\n        </div>\n      </div>\n      <Modal isShow={isShowModalForFileUploadError} title='Error' hasOverlay={true} asAlert={true} onClose={onCloseModalCallback}>\n        {errorMessage}\n      </Modal>\n      <Modal isShow={isShowModalForProgress} title='Progress ...' hasOverlay={true} asAlert={false}>\n        {showProgress ? <ProgressBar label={`${loadedByte} bytes (${rate} %)`} rate={rate} /> : null}\n      </Modal>\n      <SelectableModal\n        hasOverlay={true}\n        isShow={isShowModalConfirmation}\n        title='Confirmation'\n        first={{\n          label: 'Cancel',\n          action: onClickCancelCallback\n        }}\n        second={{\n          label: 'OK',\n          action: onClickOverwriteCallback\n        }}\n        onClose={onClickCancelCallback}\n      >\n        <p>Overwrite. OK ?</p>\n      </SelectableModal>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const NoiseSuppressorFieldset: React.FC = () => {\n  const [noisesuppressor, setNoisesuppressor] = useState<boolean>(false);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('noisesuppressor').activate();\n      X('oneshot').module('noisesuppressor').activate();\n      X('audio').module('noisesuppressor').activate();\n      X('stream').module('noisesuppressor').activate();\n      X('noise').module('noisesuppressor').activate();\n    } else {\n      X('mixer').module('noisesuppressor').deactivate();\n      X('oneshot').module('noisesuppressor').deactivate();\n      X('audio').module('noisesuppressor').deactivate();\n      X('stream').module('noisesuppressor').deactivate();\n      X('noise').module('noisesuppressor').deactivate();\n    }\n\n    setNoisesuppressor(checked);\n  }, []);\n\n  const onChangeThresholdCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const threshold = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('noisesuppressor').param({ threshold });\n    X('oneshot').module('noisesuppressor').param({ threshold });\n    X('audio').module('noisesuppressor').param({ threshold });\n    X('stream').module('noisesuppressor').param({ threshold });\n    X('noise').module('noisesuppressor').param({ threshold });\n  }, []);\n\n  return (\n    <div className='NoiseSuppressorFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Noise Sup.' checked={noisesuppressor} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <ParameterController label='Threshold' autoupdate={false} defaultValue={0} min={0} max={1} step={0.005} onChange={onChangeThresholdCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport type Props = {\n  radioName: string;\n  type: OscillatorType;\n  onChange(event: React.ChangeEvent<HTMLFormElement>): void;\n  onChangeRadio(event: React.ChangeEvent<HTMLInputElement>): void;\n};\n\nexport const OscillatorSelector: React.FC<Props> = (props: Props) => {\n  const { radioName, type, onChange, onChangeRadio } = props;\n\n  return (\n    <form name={radioName} className='OscillatorSelector' onChange={onChange}>\n      <label className={`OscillatorSelector__sine${type === 'sine' ? ' -active' : ''}`}>\n        <input type='radio' name={`radio-${radioName}`} aria-label='sine' checked={type === 'sine'} value='sine' onChange={onChangeRadio} />\n      </label>\n      <label className={`OscillatorSelector__square${type === 'square' ? ' -active' : ''}`}>\n        <input type='radio' name={`radio-${radioName}`} aria-label='square' checked={type === 'square'} value='square' onChange={onChangeRadio} />\n      </label>\n      <label className={`OscillatorSelector__sawtooth${type === 'sawtooth' ? ' -active' : ''}`}>\n        <input type='radio' name={`radio-${radioName}`} aria-label='sawtooth' checked={type === 'sawtooth'} value='sawtooth' onChange={onChangeRadio} />\n      </label>\n      <label className={`OscillatorSelector__triangle${type === 'triangle' ? ' -active' : ''}`}>\n        <input type='radio' name={`radio-${radioName}`} aria-label='triangle' checked={type === 'triangle'} value='triangle' onChange={onChangeRadio} />\n      </label>\n    </form>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { X } from 'xsound';\n\nimport { changeOscillatorStates } from '/src/slices';\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { OscillatorSelector } from '/src/components/helpers/OscillatorSelector';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nimport type { RootState } from '/src/store';\n\nexport type Props = {\n  oscillatorNumber: number;\n  label: string;\n  radioName: string;\n};\n\nexport const OscillatorFieldset: React.FC<Props> = ({ oscillatorNumber, label, radioName }) => {\n  const [type, setType] = useState<OscillatorType>('sawtooth');\n\n  const dispatch = useDispatch();\n\n  const states = useSelector((state: RootState) => state.oscillatorStates);\n\n  const onChangeStateCallback = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const checked = event.currentTarget.checked;\n\n      for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n        if (oscillatorNumber === 0) {\n          if (checked) {\n            X('oscillator').get(i).activate();\n          } else {\n            X('oscillator').get(i).deactivate();\n          }\n\n          dispatch(changeOscillatorStates([checked, states[1]]));\n        } else {\n          if (checked) {\n            window.clonedXSound('oscillator').get(i).activate();\n          } else {\n            window.clonedXSound('oscillator').get(i).deactivate();\n          }\n\n          dispatch(changeOscillatorStates([states[0], checked]));\n        }\n      }\n    },\n    [dispatch, states, oscillatorNumber]\n  );\n\n  const onChangeTypeCallback = useCallback(\n    (event: React.ChangeEvent<HTMLFormElement>) => {\n      const items = event.currentTarget.elements.namedItem(`radio-${radioName}`);\n\n      if (!(items instanceof RadioNodeList)) {\n        return;\n      }\n\n      const value = items.value;\n\n      if (value === 'sine' || value === 'square' || value === 'sawtooth' || value === 'triangle') {\n        setType(value);\n      }\n    },\n    [radioName]\n  );\n\n  const onChangeRadioCallback = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const type = event.currentTarget.value;\n\n      switch (type) {\n        case 'sine':\n        case 'square':\n        case 'sawtooth':\n        case 'triangle':\n          for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n            if (oscillatorNumber === 0) {\n              X('oscillator').get(i).param({ type });\n            } else {\n              window.clonedXSound('oscillator').get(i).param({ type });\n            }\n          }\n\n          break;\n        default:\n          break;\n      }\n    },\n    [oscillatorNumber]\n  );\n\n  const onChangeVolumeCallback = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const volume = event.currentTarget.valueAsNumber;\n\n      for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n        if (oscillatorNumber === 0) {\n          X('oscillator').get(i).param({ volume });\n        } else {\n          window.clonedXSound('oscillator').get(i).param({ volume });\n        }\n      }\n    },\n    [oscillatorNumber]\n  );\n\n  const onChangeOctaveCallback = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const octave = event.currentTarget.valueAsNumber;\n\n      for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n        if (oscillatorNumber === 0) {\n          X('oscillator').get(i).param({ octave });\n        } else {\n          window.clonedXSound('oscillator').get(i).param({ octave });\n        }\n      }\n    },\n    [oscillatorNumber]\n  );\n\n  const onChangeFineCallback = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const fine = event.currentTarget.valueAsNumber;\n\n      for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n        if (oscillatorNumber === 0) {\n          X('oscillator').get(i).param({ fine });\n        } else {\n          window.clonedXSound('oscillator').get(i).param({ fine });\n        }\n      }\n    },\n    [oscillatorNumber]\n  );\n\n  return (\n    <div className='OscillatorFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label={label} checked={states[oscillatorNumber]} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <OscillatorSelector radioName={radioName} type={type} onChange={onChangeTypeCallback} onChangeRadio={onChangeRadioCallback} />\n        <ParameterController label='Volume' autoupdate={false} defaultValue={1} min={0} max={1} step={0.05} onChange={onChangeVolumeCallback} />\n        <ParameterController label='Octave' autoupdate={false} defaultValue={0} min={-4} max={4} step={1} onChange={onChangeOctaveCallback} />\n        <ParameterController label='Fine' autoupdate={false} defaultValue={0} min={-1200} max={1200} step={1} onChange={onChangeFineCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Select } from '/src/components/atoms/Select';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const PhaserFieldset: React.FC = () => {\n  const [phaser, setPhaser] = useState<boolean>(false);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('phaser').activate();\n      X('oneshot').module('phaser').activate();\n      X('audio').module('phaser').activate();\n      X('stream').module('phaser').activate();\n      X('noise').module('phaser').activate();\n    } else {\n      X('mixer').module('phaser').deactivate();\n      X('oneshot').module('phaser').deactivate();\n      X('audio').module('phaser').deactivate();\n      X('stream').module('phaser').deactivate();\n      X('noise').module('phaser').deactivate();\n    }\n\n    setPhaser(checked);\n  }, []);\n\n  const onChangeStageCallback = useCallback((event: React.ChangeEvent<HTMLSelectElement>) => {\n    const stage = Number(event.currentTarget.value);\n\n    switch (stage) {\n      case 2:\n      case 4:\n      case 8:\n      case 12:\n      case 24:\n        X('mixer').module('phaser').param({ stage });\n        X('oneshot').module('phaser').param({ stage });\n        X('audio').module('phaser').param({ stage });\n        X('stream').module('phaser').param({ stage });\n        X('noise').module('phaser').param({ stage });\n\n        break;\n      default:\n        break;\n    }\n  }, []);\n\n  const onChangeFrequencyCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const frequency = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('phaser').param({ frequency });\n    X('oneshot').module('phaser').param({ frequency });\n    X('audio').module('phaser').param({ frequency });\n    X('stream').module('phaser').param({ frequency });\n    X('noise').module('phaser').param({ frequency });\n  }, []);\n\n  const onChangeDepthCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const depth = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('phaser').param({ depth });\n    X('oneshot').module('phaser').param({ depth });\n    X('audio').module('phaser').param({ depth });\n    X('stream').module('phaser').param({ depth });\n    X('noise').module('phaser').param({ depth });\n  }, []);\n\n  const onChangeRateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const rate = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('phaser').param({ rate });\n    X('oneshot').module('phaser').param({ rate });\n    X('audio').module('phaser').param({ rate });\n    X('stream').module('phaser').param({ rate });\n    X('noise').module('phaser').param({ rate });\n  }, []);\n\n  const onChangeResonanceCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const resonance = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('phaser').param({ resonance });\n    X('oneshot').module('phaser').param({ resonance });\n    X('audio').module('phaser').param({ resonance });\n    X('stream').module('phaser').param({ resonance });\n    X('noise').module('phaser').param({ resonance });\n  }, []);\n\n  const onChangeMixCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const mix = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('phaser').param({ mix });\n    X('oneshot').module('phaser').param({ mix });\n    X('audio').module('phaser').param({ mix });\n    X('stream').module('phaser').param({ mix });\n    X('noise').module('phaser').param({ mix });\n  }, []);\n\n  return (\n    <div className='PhaserFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Phaser' checked={phaser} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <Select\n          label='Select Phaser Stages'\n          values={['0', '2', '4', '8', '12', '24']}\n          texts={['all-pass filter', '2 stages', '4 stages', '8 stages', '12 stages', '24 stages']}\n          disabled={false}\n          onChange={onChangeStageCallback}\n          defaultValue='12'\n        />\n        <ParameterController label='Frequency' autoupdate={false} defaultValue={350} min={350} max={8000} step={1} onChange={onChangeFrequencyCallback} />\n        <ParameterController label='Depth' autoupdate={false} defaultValue={0} min={0} max={0.9} step={0.05} onChange={onChangeDepthCallback} />\n        <ParameterController label='Rate' autoupdate={false} defaultValue={0} min={0} max={5} step={0.05} onChange={onChangeRateCallback} />\n        <ParameterController label='Resonance' autoupdate={false} defaultValue={1} min={1} max={20} step={1} onChange={onChangeResonanceCallback} />\n        <ParameterController label='Mix' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeMixCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { X } from 'xsound';\n\nimport { NUMBER_OF_PIANO_KEYBOARDS } from '/src/config';\n\nimport type { RootState } from '/src/store';\nimport type { SoundSource } from '/src/types';\n\nexport type Props = {\n  loadedApp: boolean;\n  currentSoundSource: SoundSource;\n};\n\nexport const Piano: React.FC<Props> = ({ loadedApp, currentSoundSource }) => {\n  const [downKeyboards, setDownKeyboards] = useState<boolean[]>(new Array(NUMBER_OF_PIANO_KEYBOARDS).fill(false));\n  const [isDown, setIsDown] = useState<boolean>(false); // for `mouseover` or `touchmove` event\n\n  const downMelodyIndexes = useSelector((state: RootState) => state.downMelodyKeyboardIndexes);\n  const downBassIndexes = useSelector((state: RootState) => state.downBassKeyboardIndexes);\n  const upMelodyIndexes = useSelector((state: RootState) => state.upMelodyKeyboardIndexes);\n  const upBassIndexes = useSelector((state: RootState) => state.upBassKeyboardIndexes);\n  const activeMIDIIndexes = useSelector((state: RootState) => state.activeMIDIKeyboardIndexes);\n\n  const startSoundCallback = useCallback(\n    (\n      event:\n        | React.MouseEvent<HTMLButtonElement>\n        | React.TouchEvent<HTMLButtonElement>\n        | React.KeyboardEvent<HTMLButtonElement>\n        | React.FocusEvent<HTMLButtonElement>\n    ) => {\n      if ('code' in event.nativeEvent && event.nativeEvent.code === 'Enter') {\n        return;\n      }\n\n      if ('keyCode' in event.nativeEvent && event.nativeEvent.keyCode === 13) {\n        return;\n      }\n\n      const dataIndex = event.currentTarget.getAttribute('data-index');\n\n      if (dataIndex === null) {\n        return;\n      }\n\n      const index = Number(dataIndex);\n\n      if ((event.type === 'mouseover' || event.type === 'touchmove') && !isDown) {\n        return;\n      }\n\n      switch (currentSoundSource) {\n        case 'oscillator':\n          X('oscillator')\n            .ready(0, 0)\n            .start(X.toFrequencies([index, -1, -1, -1]));\n          window\n            .clonedXSound('oscillator')\n            .ready(0, 0)\n            .start(X.toFrequencies([index, -1, -1, -1]));\n\n          X('mixer').start([X('oscillator'), window.clonedXSound('oscillator')], [1, 1]);\n          X('mixer').module('recorder').start();\n          break;\n        case 'piano':\n          X('oneshot').ready(0, 0).start([index]);\n          X('oneshot').module('recorder').start();\n          break;\n        case 'guitar':\n          X('oneshot')\n            .ready(0, 0)\n            .start([index + NUMBER_OF_PIANO_KEYBOARDS]);\n          X('oneshot').module('recorder').start();\n          break;\n        case 'electric-guitar':\n          X('oneshot')\n            .ready(0, 0)\n            .start([index + NUMBER_OF_PIANO_KEYBOARDS + NUMBER_OF_PIANO_KEYBOARDS]);\n          X('oneshot').module('recorder').start();\n          break;\n        case 'orgel':\n          X('oneshot')\n            .ready(0, 0)\n            .start([index + NUMBER_OF_PIANO_KEYBOARDS + NUMBER_OF_PIANO_KEYBOARDS + NUMBER_OF_PIANO_KEYBOARDS]);\n          X('oneshot').module('recorder').start();\n          break;\n        case 'whitenoise':\n          X('noise').param({ type: 'whitenoise' }).start();\n          X('noise').module('recorder').start();\n          break;\n        case 'pinknoise':\n          X('noise').param({ type: 'pinknoise' }).start();\n          X('noise').module('recorder').start();\n          break;\n        case 'browniannoise':\n          X('noise').param({ type: 'browniannoise' }).start();\n          X('noise').module('recorder').start();\n          break;\n        default:\n          // eslint-disable-next-line no-console\n          console.assert(`Error: currentSoundSource = ${currentSoundSource}`);\n          break;\n      }\n\n      downKeyboards[index] = true;\n\n      setDownKeyboards([...downKeyboards]);\n      setIsDown(true);\n    },\n    [currentSoundSource, downKeyboards, isDown]\n  );\n\n  const stopSoundCallback = useCallback(\n    (\n      event:\n        | React.MouseEvent<HTMLButtonElement>\n        | React.TouchEvent<HTMLButtonElement>\n        | React.KeyboardEvent<HTMLButtonElement>\n        | React.FocusEvent<HTMLButtonElement>\n    ) => {\n      if ('code' in event.nativeEvent && event.nativeEvent.code === 'Enter') {\n        return;\n      }\n\n      if ('keyCode' in event.nativeEvent && event.nativeEvent.keyCode === 13) {\n        return;\n      }\n\n      event.stopPropagation();\n\n      const dataIndex = event.currentTarget.getAttribute('data-index');\n\n      if (dataIndex === null) {\n        return;\n      }\n\n      const index = Number(dataIndex);\n\n      switch (currentSoundSource) {\n        case 'oscillator':\n          X('oscillator').stop();\n          window.clonedXSound('oscillator').stop();\n\n          break;\n        case 'piano':\n          // X('oneshot').stop([index]);\n          break;\n        case 'guitar':\n          X('oneshot').stop([index + NUMBER_OF_PIANO_KEYBOARDS]);\n          break;\n        case 'electric-guitar':\n          X('oneshot').stop([index + NUMBER_OF_PIANO_KEYBOARDS + NUMBER_OF_PIANO_KEYBOARDS]);\n          break;\n        case 'orgel':\n          X('oneshot').stop([index + NUMBER_OF_PIANO_KEYBOARDS + NUMBER_OF_PIANO_KEYBOARDS + NUMBER_OF_PIANO_KEYBOARDS]);\n          break;\n        default:\n          X('noise').stop();\n          break;\n      }\n\n      downKeyboards[index] = false;\n\n      setDownKeyboards([...downKeyboards]);\n\n      if (event.type === 'mouseup' || event.type === 'touchend') {\n        setIsDown(false);\n      }\n    },\n    [currentSoundSource, downKeyboards]\n  );\n\n  const stopSoundOnOutsideOfKeyboardCallback = useCallback(() => {\n    switch (currentSoundSource) {\n      case 'oscillator':\n        X('oscillator').stop();\n        window.clonedXSound('oscillator').stop();\n        break;\n      default:\n        X('noise').stop();\n        break;\n    }\n\n    setDownKeyboards([...downKeyboards.map(() => false)]);\n    setIsDown(false);\n  }, [currentSoundSource, downKeyboards]);\n\n  const indexMap: { [pitch: string]: number } = useMemo(\n    () => ({\n      'A-4': 0,\n      'A-4h': 1,\n      'B-4': 2,\n      'C-3': 3,\n      'C-3h': 4,\n      'D-3': 5,\n      'D-3h': 6,\n      'E-3': 7,\n      'F-3': 8,\n      'F-3h': 9,\n      'G-3': 10,\n      'G-3h': 11,\n      'A-3': 12,\n      'A-3h': 13,\n      'B-3': 14,\n      'C-2': 15,\n      'C-2h': 16,\n      'D-2': 17,\n      'D-2h': 18,\n      'E-2': 19,\n      'F-2': 20,\n      'F-2h': 21,\n      'G-2': 22,\n      'G-2h': 23,\n      'A-2': 24,\n      'A-2h': 25,\n      'B-2': 26,\n      'C-1': 27,\n      'C-1h': 28,\n      'D-1': 29,\n      'D-1h': 30,\n      'E-1': 31,\n      'F-1': 32,\n      'F-1h': 33,\n      'G-1': 34,\n      'G-1h': 35,\n      'A-1': 36,\n      'A-1h': 37,\n      'B-1': 38,\n      C: 39,\n      Ch: 40,\n      D: 41,\n      Dh: 42,\n      E: 43,\n      F: 44,\n      Fh: 45,\n      G: 46,\n      Gh: 47,\n      A: 48,\n      Ah: 49,\n      B: 50,\n      C1: 51,\n      C1h: 52,\n      D1: 53,\n      D1h: 54,\n      E1: 55,\n      F1: 56,\n      F1h: 57,\n      G1: 58,\n      G1h: 59,\n      A1: 60,\n      A1h: 61,\n      B1: 62,\n      C2: 63,\n      C2h: 64,\n      D2: 65,\n      D2h: 66,\n      E2: 67,\n      F2: 68,\n      F2h: 69,\n      G2: 70,\n      G2h: 71,\n      A2: 72,\n      A2h: 73,\n      B2: 74,\n      C3: 75,\n      C3h: 76,\n      D3: 77,\n      D3h: 78,\n      E3: 79,\n      F3: 80,\n      F3h: 81,\n      G3: 82,\n      G3h: 83,\n      A3: 84,\n      A3h: 85,\n      B3: 86,\n      C4: 87\n    }),\n    []\n  );\n\n  const whites = useMemo(\n    () => [\n      'A-4',\n      'B-4',\n      'C-3',\n      'D-3',\n      'E-3',\n      'F-3',\n      'G-3',\n      'A-3',\n      'B-3',\n      'C-2',\n      'D-2',\n      'E-2',\n      'F-2',\n      'G-2',\n      'A-2',\n      'B-2',\n      'C-1',\n      'D-1',\n      'E-1',\n      'F-1',\n      'G-1',\n      'A-1',\n      'B-1',\n      'C',\n      'D',\n      'E',\n      'F',\n      'G',\n      'A',\n      'B',\n      'C1',\n      'D1',\n      'E1',\n      'F1',\n      'G1',\n      'A1',\n      'B1',\n      'C2',\n      'D2',\n      'E2',\n      'F2',\n      'G2',\n      'A2',\n      'B2',\n      'C3',\n      'D3',\n      'E3',\n      'F3',\n      'G3',\n      'A3',\n      'B3',\n      'C4'\n    ],\n    []\n  );\n\n  const blacks = useMemo(\n    () => [\n      'A-4h',\n      'skip0',\n      'C-3h',\n      'D-3h',\n      'skip1',\n      'F-3h',\n      'G-3h',\n      'A-3h',\n      'skip2',\n      'C-2h',\n      'D-2h',\n      'skip3',\n      'F-2h',\n      'G-2h',\n      'A-2h',\n      'skip4',\n      'C-1h',\n      'D-1h',\n      'skip5',\n      'F-1h',\n      'G-1h',\n      'A-1h',\n      'skip6',\n      'Ch',\n      'Dh',\n      'skip7',\n      'Fh',\n      'Gh',\n      'Ah',\n      'skip8',\n      'C1h',\n      'D1h',\n      'skip9',\n      'F1h',\n      'G1h',\n      'A1h',\n      'skip10',\n      'C2h',\n      'D2h',\n      'skip11',\n      'F2h',\n      'G2h',\n      'A2h',\n      'skip12',\n      'C3h',\n      'D3h',\n      'skip13',\n      'F3h',\n      'G3h',\n      'A3h'\n    ],\n    []\n  );\n\n  useEffect(() => {\n    if (!loadedApp) {\n      return;\n    }\n\n    window.addEventListener('mouseup', stopSoundOnOutsideOfKeyboardCallback, false);\n    window.addEventListener('touchend', stopSoundOnOutsideOfKeyboardCallback, false);\n\n    return () => {\n      window.removeEventListener('mouseup', stopSoundOnOutsideOfKeyboardCallback, false);\n      window.removeEventListener('touchend', stopSoundOnOutsideOfKeyboardCallback, false);\n    };\n  }, [loadedApp, stopSoundOnOutsideOfKeyboardCallback]);\n\n  return (\n    <div className='Piano'>\n      <ul className='Piano__whites'>\n        {whites.map((pitch: string) => {\n          const pianoIndex = indexMap[pitch];\n          const hasMelody = downMelodyIndexes.includes(pianoIndex) && !upMelodyIndexes.includes(pianoIndex);\n          const hasBass = downBassIndexes.includes(pianoIndex) && !upBassIndexes.includes(pianoIndex);\n          const isAutoActive = hasMelody || hasBass;\n          const isActive = isAutoActive || activeMIDIIndexes.includes(pianoIndex);\n\n          return (\n            <li key={pitch} className={`Piano__keyboard${downKeyboards[pianoIndex] || isActive ? ' -active' : ''}`}>\n              <button\n                type='button'\n                aria-pressed={downKeyboards[pianoIndex] || isAutoActive}\n                data-pitch={pitch}\n                data-index={indexMap[pitch]}\n                onMouseDown={startSoundCallback}\n                onTouchStart={startSoundCallback}\n                onKeyDown={startSoundCallback}\n                onMouseUp={stopSoundCallback}\n                onTouchEnd={stopSoundCallback}\n                onMouseOver={startSoundCallback}\n                onTouchMove={startSoundCallback}\n                onMouseOut={stopSoundCallback}\n                onKeyUp={stopSoundCallback}\n                onFocus={startSoundCallback}\n                onBlur={stopSoundCallback}\n              >\n                {pitch}\n              </button>\n            </li>\n          );\n        })}\n      </ul>\n      <ul className='Piano__blacks'>\n        {blacks.map((pitch: string, index: number) => {\n          switch (index % 7) {\n            case 1:\n            case 4: {\n              return <li key={pitch} className='Piano__keyboard -skip' aria-label='skip' />;\n            }\n          }\n\n          const pianoIndex = indexMap[pitch];\n          const hasMelody = downMelodyIndexes.includes(pianoIndex) && !upMelodyIndexes.includes(pianoIndex);\n          const hasBass = downBassIndexes.includes(pianoIndex) && !upBassIndexes.includes(pianoIndex);\n          const isAutoActive = hasMelody || hasBass;\n          const isActive = isAutoActive || activeMIDIIndexes.includes(pianoIndex);\n\n          return (\n            <li key={pitch} className={`Piano__keyboard${downKeyboards[pianoIndex] || isActive ? ' -active' : ''}`}>\n              <button\n                type='button'\n                aria-pressed={downKeyboards[pianoIndex] || isAutoActive}\n                data-pitch={pitch}\n                data-index={indexMap[pitch]}\n                onMouseDown={startSoundCallback}\n                onTouchStart={startSoundCallback}\n                onKeyDown={startSoundCallback}\n                onMouseUp={stopSoundCallback}\n                onTouchEnd={stopSoundCallback}\n                onMouseOver={startSoundCallback}\n                onTouchMove={startSoundCallback}\n                onMouseOut={stopSoundCallback}\n                onKeyUp={stopSoundCallback}\n                onFocus={startSoundCallback}\n                onBlur={stopSoundCallback}\n              >\n                {pitch}\n              </button>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const PreampFieldset: React.FC = () => {\n  const [preamp, setPreamp] = useState<boolean>(false);\n  const [cabinet, setCabinet] = useState<boolean>(false);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('preamp').activate();\n      X('oneshot').module('preamp').activate();\n      X('audio').module('preamp').activate();\n      X('stream').module('preamp').activate();\n      X('noise').module('preamp').activate();\n\n      X('mixer')\n        .module('preamp')\n        .param({ cabinet: { state: true } });\n      X('oneshot')\n        .module('preamp')\n        .param({ cabinet: { state: true } });\n      X('audio')\n        .module('preamp')\n        .param({ cabinet: { state: true } });\n      X('stream')\n        .module('preamp')\n        .param({ cabinet: { state: true } });\n      X('noise')\n        .module('preamp')\n        .param({ cabinet: { state: true } });\n    } else {\n      X('mixer').module('preamp').deactivate();\n      X('oneshot').module('preamp').deactivate();\n      X('audio').module('preamp').deactivate();\n      X('stream').module('preamp').deactivate();\n      X('noise').module('preamp').deactivate();\n\n      X('mixer')\n        .module('preamp')\n        .param({ cabinet: { state: false } });\n      X('oneshot')\n        .module('preamp')\n        .param({ cabinet: { state: false } });\n      X('audio')\n        .module('preamp')\n        .param({ cabinet: { state: false } });\n      X('stream')\n        .module('preamp')\n        .param({ cabinet: { state: false } });\n      X('noise')\n        .module('preamp')\n        .param({ cabinet: { state: false } });\n    }\n\n    setPreamp(checked);\n    setCabinet(checked);\n  }, []);\n\n  const onChangeLevelCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const level = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('preamp').param({ level });\n    X('oneshot').module('preamp').param({ level });\n    X('audio').module('preamp').param({ level });\n    X('stream').module('preamp').param({ level });\n    X('noise').module('preamp').param({ level });\n  }, []);\n\n  const onChangeGainCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const gain = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('preamp').param({ pre: { gain } });\n    X('oneshot').module('preamp').param({ pre: { gain } });\n    X('audio').module('preamp').param({ pre: { gain } });\n    X('stream').module('preamp').param({ pre: { gain } });\n    X('noise').module('preamp').param({ pre: { gain } });\n  }, []);\n\n  const onChangeLeadGainCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const lead = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('preamp').param({ pre: { lead } });\n    X('oneshot').module('preamp').param({ pre: { lead } });\n    X('audio').module('preamp').param({ pre: { lead } });\n    X('stream').module('preamp').param({ pre: { lead } });\n    X('noise').module('preamp').param({ pre: { lead } });\n  }, []);\n\n  const onChangeBassCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const bass = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('preamp').param({ post: { bass } });\n    X('oneshot').module('preamp').param({ post: { bass } });\n    X('audio').module('preamp').param({ post: { bass } });\n    X('stream').module('preamp').param({ post: { bass } });\n    X('noise').module('preamp').param({ post: { bass } });\n  }, []);\n\n  const onChangeMiddleCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const middle = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('preamp').param({ post: { middle } });\n    X('oneshot').module('preamp').param({ post: { middle } });\n    X('audio').module('preamp').param({ post: { middle } });\n    X('stream').module('preamp').param({ post: { middle } });\n    X('noise').module('preamp').param({ post: { middle } });\n  }, []);\n\n  const onChangeTrebleCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const treble = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('preamp').param({ post: { treble } });\n    X('oneshot').module('preamp').param({ post: { treble } });\n    X('audio').module('preamp').param({ post: { treble } });\n    X('stream').module('preamp').param({ post: { treble } });\n    X('noise').module('preamp').param({ post: { treble } });\n  }, []);\n\n  const onChangeMiddleFrequencyCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const frequency = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('preamp').param({ post: { frequency } });\n    X('oneshot').module('preamp').param({ post: { frequency } });\n    X('audio').module('preamp').param({ post: { frequency } });\n    X('stream').module('preamp').param({ post: { frequency } });\n    X('noise').module('preamp').param({ post: { frequency } });\n  }, []);\n\n  const onChangeCabinetCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const state = event.currentTarget.checked;\n\n    X('mixer').module('preamp').param({ cabinet: { state } });\n    X('oneshot').module('preamp').param({ post: { state } });\n    X('audio').module('preamp').param({ post: { state } });\n    X('stream').module('preamp').param({ post: { state } });\n    X('noise').module('preamp').param({ post: { state } });\n\n    setCabinet(state);\n  }, []);\n\n  return (\n    <div className='PreampFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Preamp' checked={preamp} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <ParameterController label='Level' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeLevelCallback} />\n        <ParameterController label='Gain' autoupdate={false} defaultValue={0.5} min={0} max={1} step={0.05} onChange={onChangeGainCallback} />\n        <ParameterController label='Lead Gain' autoupdate={false} defaultValue={0.5} min={0} max={1} step={0.05} onChange={onChangeLeadGainCallback} />\n        <ParameterController label='Bass' autoupdate={false} defaultValue={0} min={-18} max={18} step={1} onChange={onChangeBassCallback} />\n        <ParameterController label='Middle' autoupdate={false} defaultValue={0} min={-18} max={18} step={1} onChange={onChangeMiddleCallback} />\n        <ParameterController label='Treble' autoupdate={false} defaultValue={0} min={-18} max={18} step={1} onChange={onChangeTrebleCallback} />\n        <ParameterController\n          label='Middle Frequency'\n          autoupdate={false}\n          defaultValue={500}\n          min={20}\n          max={8000}\n          step={1}\n          onChange={onChangeMiddleFrequencyCallback}\n        />\n        <Switch label='cabinet' checked={cabinet} labelAsText={true} onChange={onChangeCabinetCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport type { RecordType, QuantizationBit, WaveExportType } from 'xsound';\n\nimport { X } from 'xsound';\n\nimport { createFilename, getStorage } from '/src/utils';\n\nimport type { CustomizedParameters } from '/src/types';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Select } from '/src/components/atoms/Select';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\nimport { SelectableModal } from '/src/components/helpers/SelectableModal';\n\nexport type Props = {\n  loadedApp: boolean;\n};\n\nexport const RecorderFieldset: React.FC<Props> = (props: Props) => {\n  const { loadedApp } = props;\n\n  const [activeTrack, setActiveTrack] = useState<number>(-1);\n  const [objectURL, setObjectURL] = useState<string>('');\n  const [running, setRunning] = useState<boolean>(false);\n  const [creating, setCreating] = useState<boolean>(false);\n  const [isShowModal, setIsShowModal] = useState<boolean>(false);\n  const [hasRecordedData, sethasRecordedData] = useState<boolean>(false);\n\n  const storage: CustomizedParameters = useMemo(() => {\n    return getStorage();\n  }, []);\n\n  const channel: RecordType = useMemo(() => {\n    return storage.recorder?.channel || 2;\n  }, [storage]);\n\n  const bit: QuantizationBit = useMemo(() => {\n    return storage.recorder?.bit || 16;\n  }, [storage]);\n\n  const type: WaveExportType = useMemo(() => {\n    return storage.recorder?.type || 'objectURL';\n  }, [storage]);\n\n  const onClickRecordButtonCallback = useCallback(() => {\n    if (\n      X('mixer').module('recorder').get() !== -1 ||\n      X('oneshot').module('recorder').get() !== -1 ||\n      X('audio').module('recorder').get() !== -1 ||\n      X('noise').module('recorder').get() !== -1\n    ) {\n      X('mixer').module('recorder').stop();\n      X('oneshot').module('recorder').stop();\n      X('audio').module('recorder').stop();\n      X('noise').module('recorder').stop();\n\n      setRunning(false);\n    } else {\n      X('mixer').module('recorder').ready(activeTrack);\n      X('oneshot').module('recorder').ready(activeTrack);\n      X('audio').module('recorder').ready(activeTrack);\n      X('noise').module('recorder').ready(activeTrack);\n\n      setRunning(true);\n    }\n\n    if (X('stream').module('recorder').get() !== -1) {\n      X('stream').module('recorder').stop();\n\n      setRunning(false);\n    } else {\n      X('stream').module('recorder').ready(activeTrack);\n      X('stream').start();\n      X('stream').module('recorder').start();\n\n      setRunning(true);\n    }\n\n    sethasRecordedData(\n      X('mixer').module('recorder').has(-1, -1) ||\n        X('oneshot').module('recorder').has(-1, -1) ||\n        X('audio').module('recorder').has(-1, -1) ||\n        X('stream').module('recorder').has(-1, -1) ||\n        X('noise').module('recorder').has(-1, -1)\n    );\n  }, [activeTrack]);\n\n  const onClickCreateButtonCallback = useCallback(() => {\n    setRunning(false);\n\n    if (X('mixer').module('recorder').has(-1, -1)) {\n      setCreating(true);\n\n      const url = X('mixer').module('recorder').create(-1, channel, bit, type);\n\n      if (typeof url === 'string') {\n        const audio = new Audio(url);\n\n        audio.controls = false;\n        audio.play();\n\n        setObjectURL(url);\n        setCreating(false);\n\n        return;\n      }\n\n      setCreating(false);\n    }\n\n    if (X('oneshot').module('recorder').has(-1, -1)) {\n      setCreating(true);\n\n      const url = X('oneshot').module('recorder').create(-1, channel, bit, type);\n\n      if (typeof url === 'string') {\n        const audio = new Audio(url);\n\n        audio.controls = false;\n        audio.play();\n\n        setObjectURL(url);\n        setCreating(false);\n\n        return;\n      }\n\n      setCreating(false);\n    }\n\n    if (X('audio').module('recorder').has(-1, -1)) {\n      setCreating(true);\n\n      const url = X('audio').module('recorder').create(-1, channel, bit, type);\n\n      if (typeof url === 'string') {\n        const audio = new Audio(url);\n\n        audio.controls = false;\n        audio.play();\n\n        setObjectURL(url);\n        setCreating(false);\n\n        return;\n      }\n\n      setCreating(false);\n    }\n\n    if (X('stream').module('recorder').has(-1, -1)) {\n      setCreating(true);\n\n      const url = X('stream').module('recorder').create(-1, channel, bit, type);\n\n      if (typeof url === 'string') {\n        const audio = new Audio(url);\n\n        audio.controls = false;\n        audio.play();\n\n        setObjectURL(url);\n        setCreating(false);\n\n        return;\n      }\n\n      setCreating(false);\n    }\n\n    if (X('noise').module('recorder').has(-1, -1)) {\n      setCreating(true);\n\n      const url = X('noise').module('recorder').create(-1, channel, bit, type);\n\n      if (typeof url === 'string') {\n        const audio = new Audio(url);\n\n        audio.controls = false;\n        audio.play();\n\n        setObjectURL(url);\n        setCreating(false);\n\n        return;\n      }\n\n      setCreating(false);\n    }\n  }, [channel, bit, type]);\n\n  const onClickDownloadButtonCallback = useCallback(\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\n      if (!objectURL || running) {\n        // In the case of recording\n        event.preventDefault();\n      }\n    },\n    [objectURL, running]\n  );\n\n  const onClickClearButtonCallback = useCallback(() => {\n    if (running) {\n      // In the case of recording\n      return;\n    }\n\n    setIsShowModal(true);\n  }, [running]);\n\n  const onClickClearTrackCallback = useCallback(() => {\n    X('mixer').module('recorder').clear(activeTrack);\n    X('oneshot').module('recorder').clear(activeTrack);\n    X('audio').module('recorder').clear(activeTrack);\n    X('stream').module('recorder').clear(activeTrack);\n    X('noise').module('recorder').clear(activeTrack);\n\n    sethasRecordedData(\n      X('mixer').module('recorder').has(-1, -1) ||\n        X('oneshot').module('recorder').has(-1, -1) ||\n        X('audio').module('recorder').has(-1, -1) ||\n        X('stream').module('recorder').has(-1, -1) ||\n        X('noise').module('recorder').has(-1, -1)\n    );\n\n    setIsShowModal(false);\n  }, [activeTrack]);\n\n  const onClickCancelClearTrackCallback = useCallback(() => {\n    setIsShowModal(false);\n  }, []);\n\n  const onChangeTrackCallback = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      if (running) {\n        // In the case of recording\n        return;\n      }\n\n      const nextActiveTrack = Number(event.currentTarget.value);\n\n      X('stream').stop();\n      X('stream').module('recorder').stop();\n\n      setActiveTrack(nextActiveTrack);\n    },\n    [running]\n  );\n\n  const onChangeLeftChannelGainCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    X('mixer').module('recorder').param({ '0': event.currentTarget.valueAsNumber });\n    X('oneshot').module('recorder').param({ '0': event.currentTarget.valueAsNumber });\n    X('audio').module('recorder').param({ '0': event.currentTarget.valueAsNumber });\n    X('stream').module('recorder').param({ '0': event.currentTarget.valueAsNumber });\n    X('noise').module('recorder').param({ '0': event.currentTarget.valueAsNumber });\n  }, []);\n\n  const onChangeRightChannelGainCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    X('mixer').module('recorder').param({ '1': event.currentTarget.valueAsNumber });\n    X('oneshot').module('recorder').param({ '1': event.currentTarget.valueAsNumber });\n    X('audio').module('recorder').param({ '1': event.currentTarget.valueAsNumber });\n    X('stream').module('recorder').param({ '1': event.currentTarget.valueAsNumber });\n    X('noise').module('recorder').param({ '1': event.currentTarget.valueAsNumber });\n  }, []);\n\n  useEffect(() => {\n    if (!loadedApp || activeTrack > -1) {\n      return;\n    }\n\n    setActiveTrack(0);\n  }, [loadedApp, activeTrack]);\n\n  return (\n    <div className='RecorderFieldset'>\n      <Fieldset>\n        <Legend>Recorder</Legend>\n        <div className='RecorderFieldset__buttons'>\n          <button\n            type='button'\n            aria-label={running ? 'Stop Recording' : 'Start Recording'}\n            className={`RecorderFieldset__controller${running ? ' -active' : ''}`}\n            onClick={onClickRecordButtonCallback}\n          />\n          <button\n            type='button'\n            disabled={running || !hasRecordedData}\n            aria-label={creating ? 'Now creating WAVE file' : 'Create WAVE file'}\n            className={`RecorderFieldset__creator${creating ? ' -active' : ''}`}\n            onClick={onClickCreateButtonCallback}\n          />\n          <a\n            href={objectURL}\n            download={objectURL ? createFilename('record-', 'wav') : null}\n            aria-disabled={running || objectURL === ''}\n            tabIndex={objectURL ? 0 : -1}\n            className='RecorderFieldset__download'\n            onClick={onClickDownloadButtonCallback}\n          >\n            Download\n          </a>\n          <button type='button' disabled={running} aria-label='Clear Track' className='RecorderFieldset__clear' onClick={onClickClearButtonCallback} />\n        </div>\n        <Select\n          label='Select Track'\n          values={['0', '1', '2', '3']}\n          texts={['track 1', 'track 2', 'track 3', 'track 4']}\n          disabled={running}\n          onChange={onChangeTrackCallback}\n        />\n        <ParameterController label='Left Channel' autoupdate={false} defaultValue={1} min={0} max={1} step={0.05} onChange={onChangeLeftChannelGainCallback} />\n        <ParameterController\n          label='Right Channel'\n          autoupdate={false}\n          defaultValue={1}\n          min={0}\n          max={1}\n          step={0.05}\n          onChange={onChangeRightChannelGainCallback}\n        />\n      </Fieldset>\n      <SelectableModal\n        hasOverlay={true}\n        isShow={isShowModal}\n        title='Confirmation'\n        first={{\n          label: 'Cancel',\n          action: onClickCancelClearTrackCallback\n        }}\n        second={{\n          label: 'OK',\n          action: onClickClearTrackCallback\n        }}\n        onClose={onClickCancelClearTrackCallback}\n      >\n        <p>Clear Track {activeTrack + 1}. OK ?</p>\n      </SelectableModal>\n    </div>\n  );\n};\n","import React, { useId } from 'react';\n\nexport type Props = {\n  label: string;\n  values: { [group: string]: string[] };\n  texts: { [group: string]: string[] };\n  groups: string[];\n  defaultValue?: string | undefined;\n  onChange(event: React.ChangeEvent<HTMLSelectElement>): void;\n};\n\nexport const GroupSelect: React.FC<Props> = (props: Props) => {\n  const { label, values, texts, groups, defaultValue, onChange } = props;\n\n  const id = useId();\n\n  return (\n    <div className='GroupSelect'>\n      <label htmlFor={id}>{label}</label>\n      <select id={id} defaultValue={defaultValue} onChange={onChange}>\n        {groups.map((group: string, key: number) => {\n          return (\n            <optgroup key={key} label={group}>\n              {values[group].map((value: string, index: number) => {\n                return (\n                  <option key={value} value={value}>\n                    {texts[group][index]}\n                  </option>\n                );\n              })}\n            </optgroup>\n          );\n        })}\n      </select>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { GroupSelect } from '/src/components/atoms/GroupSelect';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nimport type { RIRDescriptor } from '/src/types';\n\nexport type Props = {\n  rirDescriptors: RIRDescriptor[];\n};\n\nexport const ReverbFieldset: React.FC<Props> = (props: Props) => {\n  const { rirDescriptors } = props;\n\n  const [reverb, setReverb] = useState<boolean>(false);\n\n  const groups: string[] = [];\n  const values: { [group: string]: string[] } = {};\n  const texts: { [group: string]: string[] } = {};\n\n  rirDescriptors.forEach((rirDescriptor: RIRDescriptor) => {\n    const { value, label, group } = rirDescriptor;\n\n    if (!groups.includes(group)) {\n      groups.push(group);\n    }\n\n    if (Array.isArray(values[group])) {\n      values[group].push(value.toString(10));\n    } else {\n      values[group] = [value.toString(10)];\n    }\n\n    if (Array.isArray(texts[group])) {\n      texts[group].push(label);\n    } else {\n      texts[group] = [label];\n    }\n  });\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('reverb').activate();\n      X('oneshot').module('reverb').activate();\n      X('audio').module('reverb').activate();\n      X('stream').module('reverb').activate();\n      X('noise').module('reverb').activate();\n    } else {\n      X('mixer').module('reverb').deactivate();\n      X('oneshot').module('reverb').deactivate();\n      X('audio').module('reverb').deactivate();\n      X('stream').module('reverb').deactivate();\n      X('noise').module('reverb').deactivate();\n    }\n\n    setReverb(checked);\n  }, []);\n\n  const onChangeTypeCallback = useCallback((event: React.ChangeEvent<HTMLSelectElement>) => {\n    const buffer = Number(event.currentTarget.value);\n\n    X('mixer').module('reverb').param({ buffer });\n    X('oneshot').module('reverb').param({ buffer });\n    X('audio').module('reverb').param({ buffer });\n    X('stream').module('reverb').param({ buffer });\n    X('noise').module('reverb').param({ buffer });\n  }, []);\n\n  const onChangeDryCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const dry = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('reverb').param({ dry });\n    X('oneshot').module('reverb').param({ dry });\n    X('audio').module('reverb').param({ dry });\n    X('stream').module('reverb').param({ dry });\n    X('noise').module('reverb').param({ dry });\n  }, []);\n\n  const onChangeWetCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const wet = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('reverb').param({ wet });\n    X('oneshot').module('reverb').param({ wet });\n    X('audio').module('reverb').param({ wet });\n    X('stream').module('reverb').param({ wet });\n    X('noise').module('reverb').param({ wet });\n  }, []);\n\n  const onChangeToneCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const tone = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('reverb').param({ tone });\n    X('oneshot').module('reverb').param({ tone });\n    X('audio').module('reverb').param({ tone });\n    X('stream').module('reverb').param({ tone });\n    X('noise').module('reverb').param({ tone });\n  }, []);\n\n  return (\n    <div className='ReverbFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Reverb' checked={reverb} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <GroupSelect label='Select Reverb' groups={groups} values={values} texts={texts} onChange={onChangeTypeCallback} />\n        <ParameterController label='Dry' autoupdate={false} defaultValue={1} min={0} max={1} step={0.05} onChange={onChangeDryCallback} />\n        <ParameterController label='Wet' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeWetCallback} />\n        <ParameterController label='Tone' autoupdate={false} defaultValue={4000} min={20} max={8000} step={1} onChange={onChangeToneCallback} />\n        <aside>\n          <a href='http://legacy.spa.aalto.fi/projects/poririrs/' target='_blank' rel='noopener noreferrer'>\n            This website enables to get RIR (Room Impulse Response) files !\n          </a>\n        </aside>\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const RingModulatorFieldset: React.FC = () => {\n  const [ringmodulator, setRingmodulator] = useState<boolean>(false);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('ringmodulator').activate();\n      X('oneshot').module('ringmodulator').activate();\n      X('audio').module('ringmodulator').activate();\n      X('stream').module('ringmodulator').activate();\n      X('noise').module('ringmodulator').activate();\n    } else {\n      X('mixer').module('ringmodulator').deactivate();\n      X('oneshot').module('ringmodulator').deactivate();\n      X('audio').module('ringmodulator').deactivate();\n      X('stream').module('ringmodulator').deactivate();\n      X('noise').module('ringmodulator').deactivate();\n    }\n\n    setRingmodulator(checked);\n  }, []);\n\n  const onChangeDepthCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const depth = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('ringmodulator').param({ depth });\n    X('oneshot').module('ringmodulator').param({ depth });\n    X('audio').module('ringmodulator').param({ depth });\n    X('stream').module('ringmodulator').param({ depth });\n    X('noise').module('ringmodulator').param({ depth });\n  }, []);\n\n  const onChangeRateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const rate = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('ringmodulator').param({ rate });\n    X('oneshot').module('ringmodulator').param({ rate });\n    X('audio').module('ringmodulator').param({ rate });\n    X('stream').module('ringmodulator').param({ rate });\n    X('noise').module('ringmodulator').param({ rate });\n  }, []);\n\n  return (\n    <div className='RingModulatorFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Ring MOD.' checked={ringmodulator} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <ParameterController label='Depth' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeDepthCallback} />\n        <ParameterController label='Rate' autoupdate={false} defaultValue={0} min={0} max={4000} step={100} onChange={onChangeRateCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const TremoloFieldset: React.FC = () => {\n  const [tremolo, setTremolo] = useState<boolean>(false);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('tremolo').activate();\n      X('oneshot').module('tremolo').activate();\n      X('audio').module('tremolo').activate();\n      X('stream').module('tremolo').activate();\n      X('noise').module('tremolo').activate();\n    } else {\n      X('mixer').module('tremolo').deactivate();\n      X('oneshot').module('tremolo').deactivate();\n      X('audio').module('tremolo').deactivate();\n      X('stream').module('tremolo').deactivate();\n      X('noise').module('tremolo').deactivate();\n    }\n\n    setTremolo(checked);\n  }, []);\n\n  const onChangeDepthCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const depth = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('tremolo').param({ depth });\n    X('oneshot').module('tremolo').param({ depth });\n    X('audio').module('tremolo').param({ depth });\n    X('stream').module('tremolo').param({ depth });\n    X('noise').module('tremolo').param({ depth });\n  }, []);\n\n  const onChangeRateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const rate = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('tremolo').param({ rate });\n    X('oneshot').module('tremolo').param({ rate });\n    X('audio').module('tremolo').param({ rate });\n    X('stream').module('tremolo').param({ rate });\n    X('noise').module('tremolo').param({ rate });\n  }, []);\n\n  return (\n    <div className='TremoloFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Tremolo' checked={tremolo} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <ParameterController label='Depth' autoupdate={false} defaultValue={0} min={0} max={1} step={0.05} onChange={onChangeDepthCallback} />\n        <ParameterController label='Rate' autoupdate={false} defaultValue={0} min={0} max={25} step={0.05} onChange={onChangeRateCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { X } from 'xsound';\n\nimport { Fieldset } from '/src/components/atoms/Fieldset';\nimport { Legend } from '/src/components/atoms/Legend';\nimport { Switch } from '/src/components/atoms/Switch';\nimport { ParameterController } from '/src/components/helpers/ParameterController';\n\nexport const WahFieldset: React.FC = () => {\n  const [wah, setWah] = useState<boolean>(false);\n\n  const onChangeStateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = event.currentTarget.checked;\n\n    if (checked) {\n      X('mixer').module('wah').activate();\n      X('oneshot').module('wah').activate();\n      X('audio').module('wah').activate();\n      X('stream').module('wah').activate();\n      X('noise').module('wah').activate();\n    } else {\n      X('mixer').module('wah').deactivate();\n      X('oneshot').module('wah').deactivate();\n      X('audio').module('wah').deactivate();\n      X('stream').module('wah').deactivate();\n      X('noise').module('wah').deactivate();\n    }\n\n    setWah(checked);\n  }, []);\n\n  const onChangeCutoffCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const cutoff = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('wah').param({ cutoff });\n    X('oneshot').module('wah').param({ cutoff });\n    X('audio').module('wah').param({ cutoff });\n    X('stream').module('wah').param({ cutoff });\n    X('noise').module('wah').param({ cutoff });\n  }, []);\n\n  const onChangeDepthCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const depth = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('wah').param({ depth });\n    X('oneshot').module('wah').param({ depth });\n    X('audio').module('wah').param({ depth });\n    X('stream').module('wah').param({ depth });\n    X('noise').module('wah').param({ depth });\n  }, []);\n\n  const onChangeRateCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const rate = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('wah').param({ rate });\n    X('oneshot').module('wah').param({ rate });\n    X('audio').module('wah').param({ rate });\n    X('stream').module('wah').param({ rate });\n    X('noise').module('wah').param({ rate });\n  }, []);\n\n  const onChangeResonanceCallback = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const resonance = event.currentTarget.valueAsNumber;\n\n    X('mixer').module('wah').param({ resonance });\n    X('oneshot').module('wah').param({ resonance });\n    X('audio').module('wah').param({ resonance });\n    X('stream').module('wah').param({ resonance });\n    X('noise').module('wah').param({ resonance });\n  }, []);\n\n  return (\n    <div className='WahFieldset'>\n      <Fieldset>\n        <Legend>\n          <Switch label='Wah' checked={wah} labelAsText={false} onChange={onChangeStateCallback} />\n        </Legend>\n        <ParameterController label='Cutoff' autoupdate={false} defaultValue={350} min={350} max={8000} step={1} onChange={onChangeCutoffCallback} />\n        <ParameterController label='Depth' autoupdate={false} defaultValue={0} min={0} max={0.9} step={0.01} onChange={onChangeDepthCallback} />\n        <ParameterController label='Rate' autoupdate={false} defaultValue={0} min={0} max={10} step={0.05} onChange={onChangeRateCallback} />\n        <ParameterController label='Resonance' autoupdate={false} defaultValue={1} min={1} max={20} step={1} onChange={onChangeResonanceCallback} />\n      </Fieldset>\n    </div>\n  );\n};\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport { reducer } from '/src/slices';\n\nexport const store = configureStore({ reducer });\n\nexport type RootState = ReturnType<typeof store.getState>;\n","'use strict';\n\nimport { createRoot } from 'react-dom/client';\nimport { Provider } from 'react-redux';\n\nimport { App } from '/src/components/App';\nimport { store } from '/src/store';\n\nconst container = document.getElementById('app')!;\nconst root = createRoot(container);\n\nroot.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { X } from 'xsound';\n\nimport { AJAX_TIMEOUT, BASE_URL, NUMBER_OF_CHANNELS, NUMBER_OF_ONESHOTS, NUMBER_OF_TRACKS } from '/src/config';\nimport { Flexbox } from '/src/components/atoms/Flexbox';\nimport { Modal } from '/src/components/atoms/Modal';\nimport { VerticalBox } from '/src/components/atoms/VerticalBox';\nimport { Analyser } from '/src/components/standalones/Analyser';\nimport { AudioFieldset } from '/src/components/standalones/AudioFieldset';\nimport { BasicControllers } from '/src/components/standalones/BasicControllers';\nimport { BoosterFieldset } from '/src/components/standalones/BoosterFieldset';\nimport { ChorusFieldset } from '/src/components/standalones/ChorusFieldset';\nimport { CompressorFieldset } from '/src/components/standalones/CompressorFieldset';\nimport { DelayFieldset } from '/src/components/standalones/DelayFieldset';\nimport { EnvelopeGeneratorFieldset } from '/src/components/standalones/EnvelopeGeneratorFieldset';\nimport { FilterFieldset } from '/src/components/standalones/FilterFieldset';\nimport { FlangerFieldset } from '/src/components/standalones/FlangerFieldset';\nimport { Footer } from '/src/components/standalones/Footer';\nimport { Header } from '/src/components/standalones/Header';\nimport { MML } from '/src/components/standalones/MML';\nimport { NoiseSuppressorFieldset } from '/src/components/standalones/NoiseSuppressorFieldset';\nimport { OscillatorFieldset } from '/src/components/standalones/OscillatorFieldset';\nimport { PhaserFieldset } from '/src/components/standalones/PhaserFieldset';\nimport { Piano } from '/src/components/standalones/Piano';\nimport { PreampFieldset } from '/src/components/standalones/PreampFieldset';\nimport { RecorderFieldset } from '/src/components/standalones/RecorderFieldset';\nimport { ReverbFieldset } from '/src/components/standalones/ReverbFieldset';\nimport { RingModulatorFieldset } from '/src/components/standalones/RingModulatorFieldset';\nimport { TremoloFieldset } from '/src/components/standalones/TremoloFieldset';\nimport { WahFieldset } from '/src/components/standalones/WahFieldset';\n\nimport type { RootState } from '/src/store';\nimport type { RIRDescriptor } from '/src/types';\nimport type { OneshotSetting, OneshotSettings, PreampParams } from 'xsound';\n\nexport const App: React.FC = () => {\n  const [loadedApp, setLoadedApp] = useState<boolean>(false);\n  const [progress, setProgress] = useState<boolean>(false);\n  const [rate, setRate] = useState<number>(0);\n  const [errorMessage, setErrorMessage] = useState<string>('');\n  const [isShowModalForAjax, setIsShowModalForAjax] = useState<boolean>(false);\n  const [isShowModalForDecoding, setIsShowModalForDecoding] = useState<boolean>(false);\n\n  const currentSoundSource = useSelector((state: RootState) => state.currentSoundSource);\n\n  const oneshots = useMemo(\n    () => [\n      `${BASE_URL}/one-shots/piano/C.mp3`,\n      `${BASE_URL}/one-shots/piano/D.mp3`,\n      `${BASE_URL}/one-shots/piano/E.mp3`,\n      `${BASE_URL}/one-shots/piano/F.mp3`,\n      `${BASE_URL}/one-shots/piano/G.mp3`,\n      `${BASE_URL}/one-shots/piano/A.mp3`,\n      `${BASE_URL}/one-shots/piano/B.mp3`,\n      `${BASE_URL}/one-shots/guitar/C.mp3`,\n      `${BASE_URL}/one-shots/e-guitar/C.mp3`,\n      `${BASE_URL}/one-shots/orgel/C.mp3`\n    ],\n    []\n  );\n\n  // for Reverb\n  const rirDescriptors: RIRDescriptor[] = useMemo(\n    () => [\n      {\n        url: `${BASE_URL}/impulse-responses/s1_r1_c.mp3`,\n        value: 1,\n        label: '1 - 1',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s1_r2_c.mp3`,\n        value: 2,\n        label: '1 - 2',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s1_r3_c.mp3`,\n        value: 3,\n        label: '1 - 3',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s1_r4_c.mp3`,\n        value: 4,\n        label: '1 - 4',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_r1_c.mp3`,\n        value: 5,\n        label: '2 - 1',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_r2_c.mp3`,\n        value: 6,\n        label: '2 - 2',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_r3_c.mp3`,\n        value: 7,\n        label: '2 - 3',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_r4_c.mp3`,\n        value: 8,\n        label: '2 - 4',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_r1_c.mp3`,\n        value: 9,\n        label: '3 - 1',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_r2_c.mp3`,\n        value: 10,\n        label: '3 - 2',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_r3_c.mp3`,\n        value: 11,\n        label: '3 - 3',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_r4_c.mp3`,\n        value: 12,\n        label: '3 - 4',\n        group: 'Sideways pointed cardioid measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s1_r1_o.mp3`,\n        value: 13,\n        label: '1 - 1',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s1_r2_o.mp3`,\n        value: 14,\n        label: '1 - 2',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s1_r3_o.mp3`,\n        value: 15,\n        label: '1 - 3',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s1_r4_o.mp3`,\n        value: 16,\n        label: '1 - 4',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_r1_o.mp3`,\n        value: 17,\n        label: '2 - 1',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_r2_o.mp3`,\n        value: 18,\n        label: '2 - 2',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_r3_o.mp3`,\n        value: 19,\n        label: '2 - 3',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_r4_o.mp3`,\n        value: 20,\n        label: '2 - 4',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_r1_o.mp3`,\n        value: 21,\n        label: '3 - 1',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_r2_o.mp3`,\n        value: 22,\n        label: '3 - 2',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_r3_o.mp3`,\n        value: 23,\n        label: '3 - 3',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_r4_o.mp3`,\n        value: 24,\n        label: '3 - 4',\n        group: 'Omnidirectional measurements in the audience area'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s1_p1_o.mp3`,\n        value: 25,\n        label: '1 - 1',\n        group: 'Omnidirectional measurements on the stage'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s1_p2_o.mp3`,\n        value: 26,\n        label: '1 - 2',\n        group: 'Omnidirectional measurements on the stage'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s1_p3_o.mp3`,\n        value: 27,\n        label: '1 - 3',\n        group: 'Omnidirectional measurements on the stage'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_p1_o.mp3`,\n        value: 28,\n        label: '2 - 1',\n        group: 'Omnidirectional measurements on the stage'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_p2_o.mp3`,\n        value: 29,\n        label: '2 - 2',\n        group: 'Omnidirectional measurements on the stage'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s2_p3_o.mp3`,\n        value: 30,\n        label: '2 - 3',\n        group: 'Omnidirectional measurements on the stage'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_p1_o.mp3`,\n        value: 31,\n        label: '3 - 1',\n        group: 'Omnidirectional measurements on the stage'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_p2_o.mp3`,\n        value: 32,\n        label: '3 - 2',\n        group: 'Omnidirectional measurements on the stage'\n      },\n      {\n        url: `${BASE_URL}/impulse-responses/s3_p3_o.mp3`,\n        value: 33,\n        label: '3 - 3',\n        group: 'Omnidirectional measurements on the stage'\n      }\n      /*\n    { url: `${BASE_URL}/impulse-responses/s1_r1_b.mp3`, value: 34, label: '1 - 1', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s1_r2_b.mp3`, value: 35, label: '1 - 2', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s1_r3_b.mp3`, value: 36, label: '1 - 3', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s1_r4_b.mp3`, value: 37, label: '1 - 4', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s2_r1_b.mp3`, value: 38, label: '2 - 1', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s2_r2_b.mp3`, value: 39, label: '2 - 2', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s2_r3_b.mp3`, value: 40, label: '2 - 3', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s2_r4_b.mp3`, value: 41, label: '2 - 4', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s3_r1_b.mp3`, value: 42, label: '3 - 1', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s3_r2_b.mp3`, value: 43, label: '3 - 2', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s3_r3_b.mp3`, value: 44, label: '3 - 3', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s3_r4_b.mp3`, value: 45, label: '3 - 4', group: 'Binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s1_r1_bd.mp3`, value: 46, label: '1 - 1', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s1_r2_bd.mp3`, value: 47, label: '1 - 2', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s1_r3_bd.mp3`, value: 48, label: '1 - 3', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s1_r4_bd.mp3`, value: 49, label: '1 - 4', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s2_r1_bd.mp3`, value: 50, label: '2 - 1', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s2_r2_bd.mp3`, value: 51, label: '2 - 2', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s2_r3_bd.mp3`, value: 52, label: '2 - 3', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s2_r4_bd.mp3`, value: 53, label: '2 - 4', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s3_r1_bd.mp3`, value: 54, label: '3 - 1', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s3_r2_bd.mp3`, value: 55, label: '3 - 2', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s3_r3_bd.mp3`, value: 56, label: '3 - 3', group: 'Diffuse field compensated binaural measurements in the audience area'},\n    { url: `${BASE_URL}/impulse-responses/s3_r4_bd.mp3`, value: 57, label: '3 - 4', group: 'Diffuse field compensated binaural measurements in the audience area'}\n    */\n    ],\n    []\n  );\n\n  const getBufferIndexCallback = useCallback((pianoIndex: number) => {\n    switch (Math.trunc((pianoIndex + 9) % X.EQUAL_TEMPERAMENT)) {\n      case 0:\n      case 1:\n        return 0;\n      case 2:\n      case 3:\n        return 1;\n      case 4:\n        return 2;\n      case 5:\n      case 6:\n        return 3;\n      case 7:\n      case 8:\n        return 4;\n      case 9:\n      case 10:\n        return 5;\n      case 11:\n        return 6;\n      default:\n        return -1;\n    }\n  }, []);\n\n  const calculatePianoRateCallback = useCallback((pianoIndex: number) => {\n    const sharps = [1, 4, 6, 9, 11, 13, 16, 18, 21, 23, 25, 28, 30, 33, 35, 37, 40, 42, 45, 47, 49, 52, 54, 57, 59, 61, 64, 66, 69, 71, 73, 76, 78, 81, 83, 85];\n    const isSharp = sharps.includes(pianoIndex);\n\n    let rate = 0;\n\n    if (pianoIndex >= 0 && pianoIndex <= 2) {\n      rate = 0.0625;\n    } else if (pianoIndex >= 3 && pianoIndex <= 14) {\n      rate = 0.125;\n    } else if (pianoIndex >= 15 && pianoIndex <= 26) {\n      rate = 0.25;\n    } else if (pianoIndex >= 27 && pianoIndex <= 38) {\n      rate = 0.5;\n    } else if (pianoIndex >= 39 && pianoIndex <= 50) {\n      rate = 1;\n    } else if (pianoIndex >= 51 && pianoIndex <= 62) {\n      rate = 2;\n    } else if (pianoIndex >= 63 && pianoIndex <= 74) {\n      rate = 4;\n    } else if (pianoIndex >= 75 && pianoIndex <= 86) {\n      rate = 8;\n    } else if (pianoIndex >= 87 && pianoIndex <= 98) {\n      rate = 16;\n    }\n\n    if (isSharp) {\n      rate *= X.FREQUENCY_RATIO;\n    }\n\n    return rate;\n  }, []);\n\n  const calculateGuitarRateCallback = useCallback((guitarIndex: number) => {\n    let rate = 0;\n\n    switch (guitarIndex - NUMBER_OF_ONESHOTS) {\n      case 0:\n        rate = 1 * X.FREQUENCY_RATIO ** -39;\n        break;\n      case 1:\n        rate = 1 * X.FREQUENCY_RATIO ** -38;\n        break;\n      case 2:\n        rate = 1 * X.FREQUENCY_RATIO ** -37;\n        break;\n      case 3:\n        rate = 1 * X.FREQUENCY_RATIO ** -36;\n        break;\n      case 4:\n        rate = 1 * X.FREQUENCY_RATIO ** -35;\n        break;\n      case 5:\n        rate = 1 * X.FREQUENCY_RATIO ** -34;\n        break;\n      case 6:\n        rate = 1 * X.FREQUENCY_RATIO ** -33;\n        break;\n      case 7:\n        rate = 1 * X.FREQUENCY_RATIO ** -32;\n        break;\n      case 8:\n        rate = 1 * X.FREQUENCY_RATIO ** -31;\n        break;\n      case 9:\n        rate = 1 * X.FREQUENCY_RATIO ** -30;\n        break;\n      case 10:\n        rate = 1 * X.FREQUENCY_RATIO ** -29;\n        break;\n      case 11:\n        rate = 1 * X.FREQUENCY_RATIO ** -28;\n        break;\n      case 12:\n        rate = 1 * X.FREQUENCY_RATIO ** -27;\n        break;\n      case 13:\n        rate = 1 * X.FREQUENCY_RATIO ** -26;\n        break;\n      case 14:\n        rate = 1 * X.FREQUENCY_RATIO ** -25;\n        break;\n      case 15:\n        rate = 1 * X.FREQUENCY_RATIO ** -24;\n        break;\n      case 16:\n        rate = 1 * X.FREQUENCY_RATIO ** -23;\n        break;\n      case 17:\n        rate = 1 * X.FREQUENCY_RATIO ** -22;\n        break;\n      case 18:\n        rate = 1 * X.FREQUENCY_RATIO ** -21;\n        break;\n      case 19:\n        rate = 1 * X.FREQUENCY_RATIO ** -20;\n        break;\n      case 20:\n        rate = 1 * X.FREQUENCY_RATIO ** -19;\n        break;\n      case 21:\n        rate = 1 * X.FREQUENCY_RATIO ** -18;\n        break;\n      case 22:\n        rate = 1 * X.FREQUENCY_RATIO ** -17;\n        break;\n      case 23:\n        rate = 1 * X.FREQUENCY_RATIO ** -16;\n        break;\n      case 24:\n        rate = 1 * X.FREQUENCY_RATIO ** -15;\n        break;\n      case 25:\n        rate = 1 * X.FREQUENCY_RATIO ** -14;\n        break;\n      case 26:\n        rate = 1 * X.FREQUENCY_RATIO ** -13;\n        break;\n      case 27:\n        rate = 1 * X.FREQUENCY_RATIO ** -12;\n        break;\n      case 28:\n        rate = 1 * X.FREQUENCY_RATIO ** -11;\n        break;\n      case 29:\n        rate = 1 * X.FREQUENCY_RATIO ** -10;\n        break;\n      case 30:\n        rate = 1 * X.FREQUENCY_RATIO ** -9;\n        break;\n      case 31:\n        rate = 1 * X.FREQUENCY_RATIO ** -8;\n        break;\n      case 32:\n        rate = 1 * X.FREQUENCY_RATIO ** -7;\n        break;\n      case 33:\n        rate = 1 * X.FREQUENCY_RATIO ** -6;\n        break;\n      case 34:\n        rate = 1 * X.FREQUENCY_RATIO ** -5;\n        break;\n      case 35:\n        rate = 1 * X.FREQUENCY_RATIO ** -4;\n        break;\n      case 36:\n        rate = 1 * X.FREQUENCY_RATIO ** -3;\n        break;\n      case 37:\n        rate = 1 * X.FREQUENCY_RATIO ** -2;\n        break;\n      case 38:\n        rate = 1 * X.FREQUENCY_RATIO ** -1;\n        break;\n      case 39:\n        rate = 1;\n        break;\n      case 40:\n        rate = 1 * X.FREQUENCY_RATIO ** 1;\n        break;\n      case 41:\n        rate = 1 * X.FREQUENCY_RATIO ** 2;\n        break;\n      case 42:\n        rate = 1 * X.FREQUENCY_RATIO ** 3;\n        break;\n      case 43:\n        rate = 1 * X.FREQUENCY_RATIO ** 4;\n        break;\n      case 44:\n        rate = 1 * X.FREQUENCY_RATIO ** 5;\n        break;\n      case 45:\n        rate = 1 * X.FREQUENCY_RATIO ** 6;\n        break;\n      case 46:\n        rate = 1 * X.FREQUENCY_RATIO ** 7;\n        break;\n      case 47:\n        rate = 1 * X.FREQUENCY_RATIO ** 8;\n        break;\n      case 48:\n        rate = 1 * X.FREQUENCY_RATIO ** 9;\n        break;\n      case 49:\n        rate = 1 * X.FREQUENCY_RATIO ** 10;\n        break;\n      case 50:\n        rate = 1 * X.FREQUENCY_RATIO ** 11;\n        break;\n      case 51:\n        rate = 1 * X.FREQUENCY_RATIO ** 12;\n        break;\n      case 52:\n        rate = 1 * X.FREQUENCY_RATIO ** 13;\n        break;\n      case 53:\n        rate = 1 * X.FREQUENCY_RATIO ** 14;\n        break;\n      case 54:\n        rate = 1 * X.FREQUENCY_RATIO ** 15;\n        break;\n      case 55:\n        rate = 1 * X.FREQUENCY_RATIO ** 16;\n        break;\n      case 56:\n        rate = 1 * X.FREQUENCY_RATIO ** 17;\n        break;\n      case 57:\n        rate = 1 * X.FREQUENCY_RATIO ** 18;\n        break;\n      case 58:\n        rate = 1 * X.FREQUENCY_RATIO ** 19;\n        break;\n      case 59:\n        rate = 1 * X.FREQUENCY_RATIO ** 20;\n        break;\n      case 60:\n        rate = 1 * X.FREQUENCY_RATIO ** 21;\n        break;\n      case 61:\n        rate = 1 * X.FREQUENCY_RATIO ** 22;\n        break;\n      case 62:\n        rate = 1 * X.FREQUENCY_RATIO ** 23;\n        break;\n      case 63:\n        rate = 1 * X.FREQUENCY_RATIO ** 24;\n        break;\n      case 64:\n        rate = 1 * X.FREQUENCY_RATIO ** 25;\n        break;\n      case 65:\n        rate = 1 * X.FREQUENCY_RATIO ** 26;\n        break;\n      case 66:\n        rate = 1 * X.FREQUENCY_RATIO ** 27;\n        break;\n      case 67:\n        rate = 1 * X.FREQUENCY_RATIO ** 28;\n        break;\n      case 68:\n        rate = 1 * X.FREQUENCY_RATIO ** 29;\n        break;\n      case 69:\n        rate = 1 * X.FREQUENCY_RATIO ** 30;\n        break;\n      case 70:\n        rate = 1 * X.FREQUENCY_RATIO ** 31;\n        break;\n      case 71:\n        rate = 1 * X.FREQUENCY_RATIO ** 33;\n        break;\n      case 77:\n        rate = 1 * X.FREQUENCY_RATIO ** 34;\n        break;\n      case 78:\n        rate = 1 * X.FREQUENCY_RATIO ** 35;\n        break;\n      case 79:\n        rate = 1 * X.FREQUENCY_RATIO ** 36;\n        break;\n      case 80:\n        rate = 1 * X.FREQUENCY_RATIO ** 37;\n        break;\n      case 81:\n        rate = 1 * X.FREQUENCY_RATIO ** 38;\n        break;\n      case 82:\n        rate = 1 * X.FREQUENCY_RATIO ** 39;\n        break;\n      case 83:\n        rate = 1 * X.FREQUENCY_RATIO ** 40;\n        break;\n      case 84:\n        rate = 1 * X.FREQUENCY_RATIO ** 41;\n        break;\n      case 85:\n        rate = 1 * X.FREQUENCY_RATIO ** 42;\n        break;\n      case 86:\n        rate = 1 * X.FREQUENCY_RATIO ** 43;\n        break;\n      case 87:\n        rate = 1 * X.FREQUENCY_RATIO ** 44;\n        break;\n      case 88:\n        rate = 1 * X.FREQUENCY_RATIO ** 45;\n        break;\n    }\n\n    return rate;\n  }, []);\n\n  const calculateElectricGuitarRateCallback = useCallback((guitarIndex: number) => {\n    let rate = 0;\n\n    switch (guitarIndex - NUMBER_OF_ONESHOTS - NUMBER_OF_ONESHOTS) {\n      case 0:\n        rate = 1 * X.FREQUENCY_RATIO ** -39;\n        break;\n      case 1:\n        rate = 1 * X.FREQUENCY_RATIO ** -38;\n        break;\n      case 2:\n        rate = 1 * X.FREQUENCY_RATIO ** -37;\n        break;\n      case 3:\n        rate = 1 * X.FREQUENCY_RATIO ** -36;\n        break;\n      case 4:\n        rate = 1 * X.FREQUENCY_RATIO ** -35;\n        break;\n      case 5:\n        rate = 1 * X.FREQUENCY_RATIO ** -34;\n        break;\n      case 6:\n        rate = 1 * X.FREQUENCY_RATIO ** -33;\n        break;\n      case 7:\n        rate = 1 * X.FREQUENCY_RATIO ** -32;\n        break;\n      case 8:\n        rate = 1 * X.FREQUENCY_RATIO ** -31;\n        break;\n      case 9:\n        rate = 1 * X.FREQUENCY_RATIO ** -30;\n        break;\n      case 10:\n        rate = 1 * X.FREQUENCY_RATIO ** -29;\n        break;\n      case 11:\n        rate = 1 * X.FREQUENCY_RATIO ** -28;\n        break;\n      case 12:\n        rate = 1 * X.FREQUENCY_RATIO ** -27;\n        break;\n      case 13:\n        rate = 1 * X.FREQUENCY_RATIO ** -26;\n        break;\n      case 14:\n        rate = 1 * X.FREQUENCY_RATIO ** -25;\n        break;\n      case 15:\n        rate = 1 * X.FREQUENCY_RATIO ** -24;\n        break;\n      case 16:\n        rate = 1 * X.FREQUENCY_RATIO ** -23;\n        break;\n      case 17:\n        rate = 1 * X.FREQUENCY_RATIO ** -22;\n        break;\n      case 18:\n        rate = 1 * X.FREQUENCY_RATIO ** -21;\n        break;\n      case 19:\n        rate = 1 * X.FREQUENCY_RATIO ** -20;\n        break;\n      case 20:\n        rate = 1 * X.FREQUENCY_RATIO ** -19;\n        break;\n      case 21:\n        rate = 1 * X.FREQUENCY_RATIO ** -18;\n        break;\n      case 22:\n        rate = 1 * X.FREQUENCY_RATIO ** -17;\n        break;\n      case 23:\n        rate = 1 * X.FREQUENCY_RATIO ** -16;\n        break;\n      case 24:\n        rate = 1 * X.FREQUENCY_RATIO ** -15;\n        break;\n      case 25:\n        rate = 1 * X.FREQUENCY_RATIO ** -14;\n        break;\n      case 26:\n        rate = 1 * X.FREQUENCY_RATIO ** -13;\n        break;\n      case 27:\n        rate = 1 * X.FREQUENCY_RATIO ** -12;\n        break;\n      case 28:\n        rate = 1 * X.FREQUENCY_RATIO ** -11;\n        break;\n      case 29:\n        rate = 1 * X.FREQUENCY_RATIO ** -10;\n        break;\n      case 30:\n        rate = 1 * X.FREQUENCY_RATIO ** -9;\n        break;\n      case 31:\n        rate = 1 * X.FREQUENCY_RATIO ** -8;\n        break;\n      case 32:\n        rate = 1 * X.FREQUENCY_RATIO ** -7;\n        break;\n      case 33:\n        rate = 1 * X.FREQUENCY_RATIO ** -6;\n        break;\n      case 34:\n        rate = 1 * X.FREQUENCY_RATIO ** -5;\n        break;\n      case 35:\n        rate = 1 * X.FREQUENCY_RATIO ** -4;\n        break;\n      case 36:\n        rate = 1 * X.FREQUENCY_RATIO ** -3;\n        break;\n      case 37:\n        rate = 1 * X.FREQUENCY_RATIO ** -2;\n        break;\n      case 38:\n        rate = 1 * X.FREQUENCY_RATIO ** -1;\n        break;\n      case 39:\n        rate = 1;\n        break;\n      case 40:\n        rate = 1 * X.FREQUENCY_RATIO ** 1;\n        break;\n      case 41:\n        rate = 1 * X.FREQUENCY_RATIO ** 2;\n        break;\n      case 42:\n        rate = 1 * X.FREQUENCY_RATIO ** 3;\n        break;\n      case 43:\n        rate = 1 * X.FREQUENCY_RATIO ** 4;\n        break;\n      case 44:\n        rate = 1 * X.FREQUENCY_RATIO ** 5;\n        break;\n      case 45:\n        rate = 1 * X.FREQUENCY_RATIO ** 6;\n        break;\n      case 46:\n        rate = 1 * X.FREQUENCY_RATIO ** 7;\n        break;\n      case 47:\n        rate = 1 * X.FREQUENCY_RATIO ** 8;\n        break;\n      case 48:\n        rate = 1 * X.FREQUENCY_RATIO ** 9;\n        break;\n      case 49:\n        rate = 1 * X.FREQUENCY_RATIO ** 10;\n        break;\n      case 50:\n        rate = 1 * X.FREQUENCY_RATIO ** 11;\n        break;\n      case 51:\n        rate = 1 * X.FREQUENCY_RATIO ** 12;\n        break;\n      case 52:\n        rate = 1 * X.FREQUENCY_RATIO ** 13;\n        break;\n      case 53:\n        rate = 1 * X.FREQUENCY_RATIO ** 14;\n        break;\n      case 54:\n        rate = 1 * X.FREQUENCY_RATIO ** 15;\n        break;\n      case 55:\n        rate = 1 * X.FREQUENCY_RATIO ** 16;\n        break;\n      case 56:\n        rate = 1 * X.FREQUENCY_RATIO ** 17;\n        break;\n      case 57:\n        rate = 1 * X.FREQUENCY_RATIO ** 18;\n        break;\n      case 58:\n        rate = 1 * X.FREQUENCY_RATIO ** 19;\n        break;\n      case 59:\n        rate = 1 * X.FREQUENCY_RATIO ** 20;\n        break;\n      case 60:\n        rate = 1 * X.FREQUENCY_RATIO ** 21;\n        break;\n      case 61:\n        rate = 1 * X.FREQUENCY_RATIO ** 22;\n        break;\n      case 62:\n        rate = 1 * X.FREQUENCY_RATIO ** 23;\n        break;\n      case 63:\n        rate = 1 * X.FREQUENCY_RATIO ** 24;\n        break;\n      case 64:\n        rate = 1 * X.FREQUENCY_RATIO ** 25;\n        break;\n      case 65:\n        rate = 1 * X.FREQUENCY_RATIO ** 26;\n        break;\n      case 66:\n        rate = 1 * X.FREQUENCY_RATIO ** 27;\n        break;\n      case 67:\n        rate = 1 * X.FREQUENCY_RATIO ** 28;\n        break;\n      case 68:\n        rate = 1 * X.FREQUENCY_RATIO ** 29;\n        break;\n      case 69:\n        rate = 1 * X.FREQUENCY_RATIO ** 30;\n        break;\n      case 70:\n        rate = 1 * X.FREQUENCY_RATIO ** 31;\n        break;\n      case 71:\n        rate = 1 * X.FREQUENCY_RATIO ** 33;\n        break;\n      case 77:\n        rate = 1 * X.FREQUENCY_RATIO ** 34;\n        break;\n      case 78:\n        rate = 1 * X.FREQUENCY_RATIO ** 35;\n        break;\n      case 79:\n        rate = 1 * X.FREQUENCY_RATIO ** 36;\n        break;\n      case 80:\n        rate = 1 * X.FREQUENCY_RATIO ** 37;\n        break;\n      case 81:\n        rate = 1 * X.FREQUENCY_RATIO ** 38;\n        break;\n      case 82:\n        rate = 1 * X.FREQUENCY_RATIO ** 39;\n        break;\n      case 83:\n        rate = 1 * X.FREQUENCY_RATIO ** 40;\n        break;\n      case 84:\n        rate = 1 * X.FREQUENCY_RATIO ** 41;\n        break;\n      case 85:\n        rate = 1 * X.FREQUENCY_RATIO ** 42;\n        break;\n      case 86:\n        rate = 1 * X.FREQUENCY_RATIO ** 43;\n        break;\n      case 87:\n        rate = 1 * X.FREQUENCY_RATIO ** 44;\n        break;\n      case 88:\n        rate = 1 * X.FREQUENCY_RATIO ** 45;\n        break;\n    }\n\n    return rate;\n  }, []);\n\n  const calculateOrgelRateCallback = useCallback((orgelIndex: number) => {\n    let rate = 0;\n\n    switch (orgelIndex - NUMBER_OF_ONESHOTS - NUMBER_OF_ONESHOTS - NUMBER_OF_ONESHOTS) {\n      case 0:\n        rate = 1 * X.FREQUENCY_RATIO ** -39;\n        break;\n      case 1:\n        rate = 1 * X.FREQUENCY_RATIO ** -38;\n        break;\n      case 2:\n        rate = 1 * X.FREQUENCY_RATIO ** -37;\n        break;\n      case 3:\n        rate = 1 * X.FREQUENCY_RATIO ** -36;\n        break;\n      case 4:\n        rate = 1 * X.FREQUENCY_RATIO ** -35;\n        break;\n      case 5:\n        rate = 1 * X.FREQUENCY_RATIO ** -34;\n        break;\n      case 6:\n        rate = 1 * X.FREQUENCY_RATIO ** -33;\n        break;\n      case 7:\n        rate = 1 * X.FREQUENCY_RATIO ** -32;\n        break;\n      case 8:\n        rate = 1 * X.FREQUENCY_RATIO ** -31;\n        break;\n      case 9:\n        rate = 1 * X.FREQUENCY_RATIO ** -30;\n        break;\n      case 10:\n        rate = 1 * X.FREQUENCY_RATIO ** -29;\n        break;\n      case 11:\n        rate = 1 * X.FREQUENCY_RATIO ** -28;\n        break;\n      case 12:\n        rate = 1 * X.FREQUENCY_RATIO ** -27;\n        break;\n      case 13:\n        rate = 1 * X.FREQUENCY_RATIO ** -26;\n        break;\n      case 14:\n        rate = 1 * X.FREQUENCY_RATIO ** -25;\n        break;\n      case 15:\n        rate = 1 * X.FREQUENCY_RATIO ** -24;\n        break;\n      case 16:\n        rate = 1 * X.FREQUENCY_RATIO ** -23;\n        break;\n      case 17:\n        rate = 1 * X.FREQUENCY_RATIO ** -22;\n        break;\n      case 18:\n        rate = 1 * X.FREQUENCY_RATIO ** -21;\n        break;\n      case 19:\n        rate = 1 * X.FREQUENCY_RATIO ** -20;\n        break;\n      case 20:\n        rate = 1 * X.FREQUENCY_RATIO ** -19;\n        break;\n      case 21:\n        rate = 1 * X.FREQUENCY_RATIO ** -18;\n        break;\n      case 22:\n        rate = 1 * X.FREQUENCY_RATIO ** -17;\n        break;\n      case 23:\n        rate = 1 * X.FREQUENCY_RATIO ** -16;\n        break;\n      case 24:\n        rate = 1 * X.FREQUENCY_RATIO ** -15;\n        break;\n      case 25:\n        rate = 1 * X.FREQUENCY_RATIO ** -14;\n        break;\n      case 26:\n        rate = 1 * X.FREQUENCY_RATIO ** -13;\n        break;\n      case 27:\n        rate = 1 * X.FREQUENCY_RATIO ** -12;\n        break;\n      case 28:\n        rate = 1 * X.FREQUENCY_RATIO ** -11;\n        break;\n      case 29:\n        rate = 1 * X.FREQUENCY_RATIO ** -10;\n        break;\n      case 30:\n        rate = 1 * X.FREQUENCY_RATIO ** -9;\n        break;\n      case 31:\n        rate = 1 * X.FREQUENCY_RATIO ** -8;\n        break;\n      case 32:\n        rate = 1 * X.FREQUENCY_RATIO ** -7;\n        break;\n      case 33:\n        rate = 1 * X.FREQUENCY_RATIO ** -6;\n        break;\n      case 34:\n        rate = 1 * X.FREQUENCY_RATIO ** -5;\n        break;\n      case 35:\n        rate = 1 * X.FREQUENCY_RATIO ** -4;\n        break;\n      case 36:\n        rate = 1 * X.FREQUENCY_RATIO ** -3;\n        break;\n      case 37:\n        rate = 1 * X.FREQUENCY_RATIO ** -2;\n        break;\n      case 38:\n        rate = 1 * X.FREQUENCY_RATIO ** -1;\n        break;\n      case 39:\n        rate = 1;\n        break;\n      case 40:\n        rate = 1 * X.FREQUENCY_RATIO ** 1;\n        break;\n      case 41:\n        rate = 1 * X.FREQUENCY_RATIO ** 2;\n        break;\n      case 42:\n        rate = 1 * X.FREQUENCY_RATIO ** 3;\n        break;\n      case 43:\n        rate = 1 * X.FREQUENCY_RATIO ** 4;\n        break;\n      case 44:\n        rate = 1 * X.FREQUENCY_RATIO ** 5;\n        break;\n      case 45:\n        rate = 1 * X.FREQUENCY_RATIO ** 6;\n        break;\n      case 46:\n        rate = 1 * X.FREQUENCY_RATIO ** 7;\n        break;\n      case 47:\n        rate = 1 * X.FREQUENCY_RATIO ** 8;\n        break;\n      case 48:\n        rate = 1 * X.FREQUENCY_RATIO ** 9;\n        break;\n      case 49:\n        rate = 1 * X.FREQUENCY_RATIO ** 10;\n        break;\n      case 50:\n        rate = 1 * X.FREQUENCY_RATIO ** 11;\n        break;\n      case 51:\n        rate = 1 * X.FREQUENCY_RATIO ** 12;\n        break;\n      case 52:\n        rate = 1 * X.FREQUENCY_RATIO ** 13;\n        break;\n      case 53:\n        rate = 1 * X.FREQUENCY_RATIO ** 14;\n        break;\n      case 54:\n        rate = 1 * X.FREQUENCY_RATIO ** 15;\n        break;\n      case 55:\n        rate = 1 * X.FREQUENCY_RATIO ** 16;\n        break;\n      case 56:\n        rate = 1 * X.FREQUENCY_RATIO ** 17;\n        break;\n      case 57:\n        rate = 1 * X.FREQUENCY_RATIO ** 18;\n        break;\n      case 58:\n        rate = 1 * X.FREQUENCY_RATIO ** 19;\n        break;\n      case 59:\n        rate = 1 * X.FREQUENCY_RATIO ** 20;\n        break;\n      case 60:\n        rate = 1 * X.FREQUENCY_RATIO ** 21;\n        break;\n      case 61:\n        rate = 1 * X.FREQUENCY_RATIO ** 22;\n        break;\n      case 62:\n        rate = 1 * X.FREQUENCY_RATIO ** 23;\n        break;\n      case 63:\n        rate = 1 * X.FREQUENCY_RATIO ** 24;\n        break;\n      case 64:\n        rate = 1 * X.FREQUENCY_RATIO ** 25;\n        break;\n      case 65:\n        rate = 1 * X.FREQUENCY_RATIO ** 26;\n        break;\n      case 66:\n        rate = 1 * X.FREQUENCY_RATIO ** 27;\n        break;\n      case 67:\n        rate = 1 * X.FREQUENCY_RATIO ** 28;\n        break;\n      case 68:\n        rate = 1 * X.FREQUENCY_RATIO ** 29;\n        break;\n      case 69:\n        rate = 1 * X.FREQUENCY_RATIO ** 30;\n        break;\n      case 70:\n        rate = 1 * X.FREQUENCY_RATIO ** 31;\n        break;\n      case 71:\n        rate = 1 * X.FREQUENCY_RATIO ** 33;\n        break;\n      case 77:\n        rate = 1 * X.FREQUENCY_RATIO ** 34;\n        break;\n      case 78:\n        rate = 1 * X.FREQUENCY_RATIO ** 35;\n        break;\n      case 79:\n        rate = 1 * X.FREQUENCY_RATIO ** 36;\n        break;\n      case 80:\n        rate = 1 * X.FREQUENCY_RATIO ** 37;\n        break;\n      case 81:\n        rate = 1 * X.FREQUENCY_RATIO ** 38;\n        break;\n      case 82:\n        rate = 1 * X.FREQUENCY_RATIO ** 39;\n        break;\n      case 83:\n        rate = 1 * X.FREQUENCY_RATIO ** 40;\n        break;\n      case 84:\n        rate = 1 * X.FREQUENCY_RATIO ** 41;\n        break;\n      case 85:\n        rate = 1 * X.FREQUENCY_RATIO ** 42;\n        break;\n      case 86:\n        rate = 1 * X.FREQUENCY_RATIO ** 43;\n        break;\n      case 87:\n        rate = 1 * X.FREQUENCY_RATIO ** 44;\n        break;\n      case 88:\n        rate = 1 * X.FREQUENCY_RATIO ** 45;\n        break;\n    }\n\n    return rate;\n  }, []);\n\n  const createOneshotSettingsCallback = useCallback(() => {\n    const settings: OneshotSettings = [];\n\n    for (let i = 0; i < NUMBER_OF_ONESHOTS; i++) {\n      const setting: OneshotSetting = {\n        bufferIndex: 0,\n        playbackRate: 1,\n        loop: false,\n        loopStart: 0,\n        loopEnd: 0,\n        volume: 1\n      };\n\n      setting.bufferIndex = getBufferIndexCallback(i);\n      setting.playbackRate = calculatePianoRateCallback(i);\n\n      settings[i] = setting;\n    }\n\n    for (let i = NUMBER_OF_ONESHOTS; i < 2 * NUMBER_OF_ONESHOTS; i++) {\n      const setting: OneshotSetting = {\n        bufferIndex: 7,\n        playbackRate: 1,\n        loop: false,\n        loopStart: 0,\n        loopEnd: 0,\n        volume: 1\n      };\n\n      setting.playbackRate = calculateGuitarRateCallback(i);\n\n      settings[i] = setting;\n    }\n\n    for (let i = 2 * NUMBER_OF_ONESHOTS; i < 3 * NUMBER_OF_ONESHOTS; i++) {\n      const setting: OneshotSetting = {\n        bufferIndex: 8,\n        playbackRate: 1,\n        loop: false,\n        loopStart: 0,\n        loopEnd: 0,\n        volume: 1\n      };\n\n      setting.playbackRate = calculateElectricGuitarRateCallback(i);\n\n      settings[i] = setting;\n    }\n\n    for (let i = 3 * NUMBER_OF_ONESHOTS; i < 4 * NUMBER_OF_ONESHOTS; i++) {\n      const setting: OneshotSetting = {\n        bufferIndex: 9,\n        playbackRate: 1,\n        loop: false,\n        loopStart: 0,\n        loopEnd: 0,\n        volume: 1\n      };\n\n      setting.playbackRate = calculateOrgelRateCallback(i);\n\n      settings[i] = setting;\n    }\n\n    return settings;\n  }, [getBufferIndexCallback, calculatePianoRateCallback, calculateGuitarRateCallback, calculateElectricGuitarRateCallback, calculateOrgelRateCallback]);\n\n  const onCloseModalForAjaxCallback = useCallback(() => {\n    setErrorMessage('');\n    setIsShowModalForAjax(false);\n  }, []);\n\n  const onCloseModalForDecodingCallback = useCallback(() => {\n    setErrorMessage('');\n    setIsShowModalForDecoding(false);\n  }, []);\n\n  const onClickSetupCallback = useCallback(async () => {\n    await X.promise();\n\n    const clonedX = X.clone();\n\n    // Not used\n    X.free([X('media')]);\n\n    clonedX.free([clonedX('oneshot'), clonedX('audio'), clonedX('media'), clonedX('stream'), clonedX('mixer'), clonedX('midi')]);\n\n    // If use noise suppressor by `AudioWorkletProcessor`, cannot play one-shot audio on the way\n    X('oneshot').edit([\n      X('oneshot').module('compressor'),\n      X('oneshot').module('wah'),\n      X('oneshot').module('overdrive'),\n      X('oneshot').module('fuzz'),\n      X('oneshot').module('preamp'),\n      X('oneshot').module('equalizer'),\n      X('oneshot').module('filter'),\n      X('oneshot').module('tremolo'),\n      X('oneshot').module('ringmodulator'),\n      X('oneshot').module('phaser'),\n      X('oneshot').module('chorus'),\n      X('oneshot').module('flanger'),\n      X('oneshot').module('delay'),\n      X('oneshot').module('reverb')\n    ]);\n\n    X('mixer').edit([\n      X('mixer').module('compressor'),\n      X('mixer').module('wah'),\n      X('mixer').module('overdrive'),\n      X('mixer').module('fuzz'),\n      X('mixer').module('preamp'),\n      X('mixer').module('equalizer'),\n      X('mixer').module('filter'),\n      X('mixer').module('noisesuppressor'),\n      X('mixer').module('tremolo'),\n      X('mixer').module('ringmodulator'),\n      X('mixer').module('phaser'),\n      X('mixer').module('chorus'),\n      X('mixer').module('flanger'),\n      X('mixer').module('delay'),\n      X('mixer').module('reverb')\n    ]);\n\n    X('audio').edit([\n      X('audio').module('pitchshifter'),\n      X('audio').module('compressor'),\n      X('audio').module('wah'),\n      X('audio').module('overdrive'),\n      X('audio').module('fuzz'),\n      X('audio').module('preamp'),\n      X('audio').module('filter'),\n      X('audio').module('noisesuppressor'),\n      X('audio').module('tremolo'),\n      X('audio').module('ringmodulator'),\n      X('audio').module('phaser'),\n      X('audio').module('chorus'),\n      X('audio').module('flanger'),\n      X('audio').module('delay'),\n      X('audio').module('reverb'),\n      X('audio').module('vocalcanceler')\n    ]);\n\n    X('stream').edit([\n      X('stream').module('pitchshifter'),\n      X('stream').module('compressor'),\n      X('stream').module('wah'),\n      X('stream').module('overdrive'),\n      X('stream').module('fuzz'),\n      X('stream').module('preamp'),\n      X('stream').module('equalizer'),\n      X('stream').module('filter'),\n      X('stream').module('noisesuppressor'),\n      X('stream').module('tremolo'),\n      X('stream').module('ringmodulator'),\n      X('stream').module('phaser'),\n      X('stream').module('chorus'),\n      X('stream').module('flanger'),\n      X('stream').module('delay'),\n      X('stream').module('reverb')\n    ]);\n\n    X('noise').edit([\n      X('noise').module('compressor'),\n      X('noise').module('wah'),\n      X('noise').module('overdrive'),\n      X('noise').module('fuzz'),\n      X('noise').module('preamp'),\n      X('noise').module('equalizer'),\n      X('noise').module('filter'),\n      X('noise').module('noisesuppressor'),\n      X('noise').module('tremolo'),\n      X('noise').module('ringmodulator'),\n      X('noise').module('phaser'),\n      X('noise').module('chorus'),\n      X('noise').module('flanger'),\n      X('noise').module('delay'),\n      X('noise').module('reverb')\n    ]);\n\n    X('oscillator').edit([\n      X('oscillator').module('compressor'),\n      X('oscillator').module('wah'),\n      X('oscillator').module('overdrive'),\n      X('oscillator').module('fuzz'),\n      X('oscillator').module('preamp'),\n      X('oscillator').module('equalizer'),\n      X('oscillator').module('filter'),\n      X('oscillator').module('noisesuppressor'),\n      X('oscillator').module('tremolo'),\n      X('oscillator').module('ringmodulator'),\n      X('oscillator').module('phaser'),\n      X('oscillator').module('chorus'),\n      X('oscillator').module('flanger'),\n      X('oscillator').module('delay'),\n      X('oscillator').module('reverb')\n    ]);\n\n    clonedX('oscillator').edit([\n      X('oscillator').module('compressor'),\n      X('oscillator').module('wah'),\n      X('oscillator').module('overdrive'),\n      X('oscillator').module('fuzz'),\n      X('oscillator').module('preamp'),\n      X('oscillator').module('equalizer'),\n      X('oscillator').module('filter'),\n      X('oscillator').module('noisesuppressor'),\n      X('oscillator').module('tremolo'),\n      X('oscillator').module('ringmodulator'),\n      X('oscillator').module('phaser'),\n      X('oscillator').module('chorus'),\n      X('oscillator').module('flanger'),\n      X('oscillator').module('delay'),\n      X('oscillator').module('reverb')\n    ]);\n\n    X('oscillator').setup([true, false, false, false]);\n    clonedX('oscillator').setup([false, false, false, false]);\n\n    X('audio').module('wah').param({ auto: true });\n    X('audio').module('pitchshifter').activate();\n\n    X('stream').module('pitchshifter').activate();\n\n    const constraints: MediaStreamConstraints = {\n      audio: {\n        echoCancellation: true\n      },\n      video: false\n    };\n\n    const preampParams: PreampParams = {\n      samples: 2048,\n      pre: { state: true, gain: 0.5, lead: 0.5 },\n      post: { state: true }\n    };\n\n    X('stream').setup(constraints);\n\n    X('mixer').module('preamp').param(preampParams);\n    X('mixer').module('chorus').param({ tone: 4000 });\n    X('mixer').module('flanger').param({ tone: 4000 });\n    X('mixer').module('delay').param({ tone: 4000 });\n    X('mixer').module('reverb').param({ tone: 4000 });\n    X('mixer').module('filter').param({ frequency: 8000 });\n    X('mixer').module('noisesuppressor').deactivate();\n\n    X('oneshot').module('preamp').param(preampParams);\n    X('oneshot').module('chorus').param({ tone: 4000 });\n    X('oneshot').module('flanger').param({ tone: 4000 });\n    X('oneshot').module('delay').param({ tone: 4000 });\n    X('oneshot').module('reverb').param({ tone: 4000 });\n    X('oneshot').module('filter').param({ frequency: 8000 });\n\n    X('audio').module('preamp').param(preampParams);\n    X('audio').module('chorus').param({ tone: 4000 });\n    X('audio').module('flanger').param({ tone: 4000 });\n    X('audio').module('delay').param({ tone: 4000 });\n    X('audio').module('reverb').param({ tone: 4000 });\n    X('audio').module('filter').param({ frequency: 8000 });\n    X('audio').module('noisesuppressor').deactivate();\n\n    X('stream').module('preamp').param(preampParams);\n    X('stream').module('chorus').param({ tone: 4000 });\n    X('stream').module('flanger').param({ tone: 4000 });\n    X('stream').module('delay').param({ tone: 4000 });\n    X('stream').module('reverb').param({ tone: 4000 });\n    X('stream').module('filter').param({ frequency: 8000 });\n    X('stream').module('noisesuppressor').deactivate();\n\n    X('noise').module('preamp').param(preampParams);\n    X('noise').module('chorus').param({ tone: 4000 });\n    X('noise').module('flanger').param({ tone: 4000 });\n    X('noise').module('delay').param({ tone: 4000 });\n    X('noise').module('reverb').param({ tone: 4000 });\n    X('noise').module('filter').param({ frequency: 8000 });\n    X('noise').module('noisesuppressor').deactivate();\n\n    X('oscillator').module('preamp').param(preampParams);\n    X('oscillator').module('chorus').param({ tone: 4000 });\n    X('oscillator').module('flanger').param({ tone: 4000 });\n    X('oscillator').module('delay').param({ tone: 4000 });\n    X('oscillator').module('reverb').param({ tone: 4000 });\n    X('oscillator').module('filter').param({ frequency: 8000 });\n    X('oscillator').module('noisesuppressor').deactivate();\n\n    clonedX('oscillator').module('preamp').param(preampParams);\n    clonedX('oscillator').module('chorus').param({ tone: 4000 });\n    clonedX('oscillator').module('flanger').param({ tone: 4000 });\n    clonedX('oscillator').module('delay').param({ tone: 4000 });\n    clonedX('oscillator').module('reverb').param({ tone: 4000 });\n    clonedX('oscillator').module('filter').param({ frequency: 8000 });\n    clonedX('oscillator').module('noisesuppressor').deactivate();\n\n    for (let i = 0, len = X('oscillator').length(); i < len; i++) {\n      X('oscillator').get(i).param({ type: 'sawtooth' });\n      clonedX('oscillator').get(i).param({ type: 'sawtooth' });\n    }\n\n    X('stream').clearAudioDevices();\n\n    // Load one-shot audio files\n    X('oneshot').setup({\n      resources: oneshots,\n      settings: createOneshotSettingsCallback(),\n      timeout: AJAX_TIMEOUT,\n      successCallback: () => {\n        // Next, Load RIRs\n        if (rirDescriptors.length !== 0) {\n          // Load impulse responses\n          const rirs: AudioBuffer[] = [];\n\n          rirDescriptors.forEach((rirDescriptor: RIRDescriptor) => {\n            X.ajax({\n              url: rirDescriptor.url,\n              type: 'arraybuffer',\n              timeout: AJAX_TIMEOUT,\n              successCallback: (_: ProgressEvent, arrayBuffer: ArrayBuffer) => {\n                X.decode(\n                  X.get(),\n                  arrayBuffer,\n                  (audioBuffer: AudioBuffer) => {\n                    rirs.push(audioBuffer);\n\n                    const rate = Math.trunc((rirs.length / rirDescriptors.length) * 100);\n\n                    if (rirs.length === rirDescriptors.length) {\n                      setRate(100);\n                      setProgress(false);\n                      setLoadedApp(true);\n                    } else {\n                      X('mixer').module('reverb').preset({ rirs });\n                      X('oneshot').module('reverb').preset({ rirs });\n                      X('audio').module('reverb').preset({ rirs });\n                      X('stream').module('reverb').preset({ rirs });\n                      X('noise').module('reverb').preset({ rirs });\n                      X('oscillator').module('reverb').preset({ rirs });\n                      clonedX('oscillator').module('reverb').preset({ rirs });\n\n                      setRate(rate);\n                      setProgress(true);\n                    }\n                  },\n                  () => {\n                    setErrorMessage('Decode error.');\n                    setIsShowModalForAjax(true);\n                  }\n                );\n              },\n              errorCallback: () => {\n                setErrorMessage('The loading of RIRs failed.');\n                setIsShowModalForAjax(true);\n              }\n            });\n          });\n        }\n      },\n      errorCallback: () => {\n        setErrorMessage('The loading of audio files failed.');\n        setIsShowModalForAjax(true);\n      }\n    });\n\n    X('mixer').module('recorder').setup(NUMBER_OF_CHANNELS, NUMBER_OF_TRACKS);\n    X('oneshot').module('recorder').setup(NUMBER_OF_CHANNELS, NUMBER_OF_TRACKS);\n    X('audio').module('recorder').setup(NUMBER_OF_CHANNELS, NUMBER_OF_TRACKS);\n    X('stream').module('recorder').setup(NUMBER_OF_CHANNELS, NUMBER_OF_TRACKS);\n    X('noise').module('recorder').setup(NUMBER_OF_CHANNELS, NUMBER_OF_TRACKS);\n\n    window.globalXSound = X;\n    window.clonedXSound = clonedX;\n  }, [oneshots, rirDescriptors, createOneshotSettingsCallback]);\n\n  return (\n    <React.Fragment>\n      <Header loadedApp={loadedApp} progress={progress} rate={rate} onClickSetupCallback={onClickSetupCallback} />\n      <main>\n        <Flexbox>\n          <VerticalBox numberOfDivisions={5}>\n            <OscillatorFieldset oscillatorNumber={0} label='Oscillator - 1' radioName='oscillator-type-0' />\n          </VerticalBox>\n          <VerticalBox numberOfDivisions={5}>\n            <OscillatorFieldset oscillatorNumber={1} label='Oscillator - 2' radioName='oscillator-type-1' />\n          </VerticalBox>\n          <VerticalBox numberOfDivisions={5}>\n            <EnvelopeGeneratorFieldset />\n          </VerticalBox>\n          <VerticalBox numberOfDivisions={5}>\n            <RecorderFieldset loadedApp={loadedApp} />\n          </VerticalBox>\n          <VerticalBox numberOfDivisions={5}>\n            <AudioFieldset loadedApp={loadedApp} />\n          </VerticalBox>\n        </Flexbox>\n        <Analyser loadedApp={loadedApp} />\n        <MML loadedApp={loadedApp} currentSoundSource={currentSoundSource} />\n        <BasicControllers currentSoundSource={currentSoundSource} />\n        <Piano loadedApp={loadedApp} currentSoundSource={currentSoundSource} />\n        <Flexbox>\n          <VerticalBox numberOfDivisions={6}>\n            <CompressorFieldset />\n            <WahFieldset />\n          </VerticalBox>\n          <VerticalBox numberOfDivisions={6}>\n            <BoosterFieldset />\n            <PreampFieldset />\n          </VerticalBox>\n          <VerticalBox numberOfDivisions={6}>\n            <FilterFieldset />\n            <NoiseSuppressorFieldset />\n          </VerticalBox>\n          <VerticalBox numberOfDivisions={6}>\n            <TremoloFieldset />\n            <RingModulatorFieldset />\n            <PhaserFieldset />\n          </VerticalBox>\n          <VerticalBox numberOfDivisions={6}>\n            <ChorusFieldset />\n            <FlangerFieldset />\n          </VerticalBox>\n          <VerticalBox numberOfDivisions={6}>\n            <DelayFieldset />\n            <ReverbFieldset rirDescriptors={rirDescriptors} />\n          </VerticalBox>\n        </Flexbox>\n      </main>\n      <Footer />\n      <Modal isShow={isShowModalForAjax} title='Error' hasOverlay={true} asAlert={true} onClose={onCloseModalForAjaxCallback}>\n        {errorMessage}\n      </Modal>\n      <Modal isShow={isShowModalForDecoding} title='Error' hasOverlay={true} asAlert={true} onClose={onCloseModalForDecodingCallback}>\n        {errorMessage}\n      </Modal>\n    </React.Fragment>\n  );\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = this[\"webpackChunkxsound_app\"] = this[\"webpackChunkxsound_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [736], () => (__webpack_require__(546)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [736], () => (__webpack_require__(698)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","BASE_URL","NUMBER_OF_ONESHOTS","NUMBER_OF_PIANO_KEYBOARDS","FOCUSABLE_ELEMENTS","Flexbox","props","className","children","Overlay","onClose","onKeyDownCallback","useCallback","event","nativeEvent","key","keyCode","role","tabIndex","onClick","onKeyDown","ModalBody","isShow","hasOverlay","title","asAlert","id","useId","labelId","useMemo","describeId","useEffect","root","document","getElementById","hiddenElement","element","Array","from","querySelectorAll","some","node","contains","filter","getAttribute","forEach","setAttribute","removeAttribute","type","undefined","Modal","bodyProps","createPortal","body","VerticalBox","numberOfDivisions","style","width","Switch","label","checked","labelAsText","controls","onChange","checkboxRef","useRef","code","preventDefault","current","click","ref","htmlFor","Slider","value","min","max","step","rate","backgroundImage","Spinner","ParameterController","autoupdate","defaultValue","setValue","useState","onChangeCallback","currentTarget","valueAsNumber","Canvas","height","hasHoverStyle","setElementCallback","canvasRef","SVG","svgRef","padZero","n","toString","padStart","formatAudioTime","convertedTime","minutes","seconds","createFilename","prefix","ext","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getStorage","JSON","parse","window","sessionStorage","getItem","TimeOverviewer","loadedApp","active","dragTime","setDragTime","showDragTime","setShowDragTime","showTimeOverview","setShowTimeOverview","timeoverviewStyle","currentTime","color","styles","shape","grid","gradients","offset","font","family","size","weight","right","onClickChannelCallback","dragCallback","startTime","endTime","mode","direction","time","convertedStartTime","X","convertTime","convertedEndTime","param","module","domain","update","stop","start","setElementForLeftChannelCallback","setup","drag","activate","setElementForRightChannelCallback","hidden","TimeAnalyser","timeParams","interval","SpectrumAnalyser","fftParams","scale","left","Analyser","loaded","setLoaded","analyser","setAnalyser","state","analyserState","storage","visualizer","onChangeModeCallback","loop","duration","onChangeIntervalCallback","onChangeSmoothingCallback","smoothingTimeConstant","analyserParams","fftSize","minDecibels","maxDecibels","Fieldset","Legend","Button","image","backgroundSize","FileUploader","accept","disabled","placeholder","filename","drop","fileUploaderRef","onClickCallback","ProgressBar","manual","AudioFieldset","setFilename","paused","setPaused","setCurrentTime","setDuration","setDrag","showProgress","setShowProgress","loadedByte","setLoadedByte","setRate","errorMessage","setErrorMessage","isShowModalForFileUploadError","setIsShowModalForFileUploadError","isShowModalForDecodingError","setIsShowModalForDecodingError","isShowModalForProgress","setIsShowModalForProgress","isShowModalForDecoding","setIsShowModalForDecoding","usePlaybackRate","audio","playbackRate","startDecodeCallback","onChangeFileCallback","file","successCallback","_","arraybuffer","target","ready","errorCallback","textStatus","progressCallback","e","lengthComputable","total","Math","trunc","name","onDragEnterCallback","onDragOverCallback","onDragLeaveCallback","onDropCallback","has","onChangeCurrentTimeCallback","onChangePitchCallback","pitch","onChangePlaybackRate","onChangeDepthCallback","depth","onCloseModalCallback","decodeCallback","buffer","updateCallback","source","endedCallback","error","message","convertedCurrenTime","convertedDuration","currentTimeText","durationText","onDragEnter","onDragOver","onDragLeave","onDrop","slice","initialState","activeMIDIKeyboardIndexes","currentSoundSource","downBassKeyboardIndexes","downMelodyKeyboardIndexes","mmlState","oscillatorStates","upBassKeyboardIndexes","upMelodyKeyboardIndexes","reducers","activateMIDIKeyboards","action","payload","changeAnalyserState","changeCurrentSoundSource","changeMMLState","changeOscillatorStates","downBassKeyboards","downMelodyKeyboards","upBassKeyboards","upMelodyKeyboards","actions","reducer","Select","values","texts","map","index","BasicControllers","setAnalyserState","setMMLState","isShowModalForMIDIError","setIsShowModalForMIDIError","dispatch","indexes","midiSource","noteOn","noteNumber","velocity","targetIndex","volume","newIndexes","push","i","len","length","get","clonedXSound","toFrequencies","reset","noteOff","indexOf","splice","deactivate","midiAccess","inputs","outputs","onmidimessage","data","onChangeMasterVolumeCallback","mastervolume","onChangeGlideCallback","onChangeTransposeCallback","transpose","onChangeSoundSourceCallback","clear","endsWith","then","catch","options","sysex","onChangeAnalyserStateCallback","onChangeMMLStateCallback","BoosterFieldset","booster","setBooster","boosterType","setBoosterType","onChangeStateCallback","onChangeTypeCallback","onChangeDriveCallback","drive","onChangeLevelCallback","level","ChorusFieldset","chorus","setChorus","onChangeTimeCallback","onChangeRateCallback","onChangeMixCallback","mix","onChangeToneCallabck","tone","CompressorFieldset","compressor","setCompressor","onChangeThresholdCallback","threshold","onChangeKneeCallback","knee","onChangeRatioCallback","ratio","onChangeAttackCallback","attack","onChangeReleaseCallback","release","DelayFieldset","delay","setDelay","onChangeDryCallback","dry","onChangeWetCallback","wet","onChangeToneCallback","onChangeFeedbackCallback","feedback","EnvelopeGeneratorFieldset","onChangeDecayCallback","decay","onChangeSustainCallback","sustain","FilterFieldset","setFilter","onChangeFrequencyCallback","frequency","onChangeQualityCallback","Q","onChangeGainCallback","gain","FlangerFieldset","flanger","setFlanger","Footer","year","href","rel","lang","Header","progress","onClickSetupCallback","headerRef","animationEnded","setAnimationEnded","onAnimationEndCallback","onAnimationEnd","src","alt","SelectableModal","first","second","CLEAR_HIGHLIGHT_REGEXP","savedMMLs","MML","highlight","setHighlight","melody","setMelody","bass","setBass","melodyIndex","setMelodyIndex","bassIndex","setBassIndex","dataURL","setDataURL","setValues","setTexts","errorMessageForMMLMelody","setErrorMessageForMMLMelody","errorMessageForMMLBass","setErrorMessageForMMLBass","isShowModalConfirmation","setIsShowModalConfirmation","readyMMLCallback","currentMelody","currentBass","replace","mmls","startMelodyCallback","sequence","getMML","startBassCallback","stopMelodyCallback","stopBassCallback","endedAllPartsCallback","errorCallbackForMelody","token","toUpperCase","errorCallbackForBass","onBlurMelodyCallback","textContent","onBlurBassCallback","onClickMMLControllerCallback","currentIndex","onClickRewindButtonCallback","onClickDownloadButtonCallback","json","stringify","artist","description","toTextFile","onChangeHightlightCallback","onClickOverwriteCallback","onClickCancelCallback","onChangeSampleMMLCallback","sampleMML","startCallback","stopCallback","Promise","all","fetch","responses","response","promises","promise","finally","contentEditable","dangerouslySetInnerHTML","__html","onBlur","download","NoiseSuppressorFieldset","noisesuppressor","setNoisesuppressor","OscillatorSelector","radioName","onChangeRadio","OscillatorFieldset","oscillatorNumber","setType","states","items","elements","namedItem","RadioNodeList","onChangeRadioCallback","onChangeVolumeCallback","onChangeOctaveCallback","octave","onChangeFineCallback","fine","PhaserFieldset","phaser","setPhaser","onChangeStageCallback","stage","Number","onChangeResonanceCallback","resonance","Piano","downKeyboards","setDownKeyboards","fill","isDown","setIsDown","downMelodyIndexes","downBassIndexes","upMelodyIndexes","upBassIndexes","activeMIDIIndexes","startSoundCallback","dataIndex","stopSoundCallback","stopPropagation","stopSoundOnOutsideOfKeyboardCallback","indexMap","C","Ch","D","Dh","E","F","Fh","G","Gh","A","Ah","B","C1","C1h","D1","D1h","E1","F1","F1h","G1","G1h","A1","A1h","B1","C2","C2h","D2","D2h","E2","F2","F2h","G2","G2h","A2","A2h","B2","C3","C3h","D3","D3h","E3","F3","F3h","G3","G3h","A3","A3h","B3","C4","whites","blacks","addEventListener","removeEventListener","pianoIndex","hasMelody","includes","hasBass","isAutoActive","isActive","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","onMouseOver","onTouchMove","onMouseOut","onKeyUp","onFocus","PreampFieldset","preamp","setPreamp","cabinet","setCabinet","pre","onChangeLeadGainCallback","lead","onChangeBassCallback","post","onChangeMiddleCallback","middle","onChangeTrebleCallback","treble","onChangeMiddleFrequencyCallback","onChangeCabinetCallback","RecorderFieldset","activeTrack","setActiveTrack","objectURL","setObjectURL","running","setRunning","creating","setCreating","isShowModal","setIsShowModal","hasRecordedData","sethasRecordedData","channel","recorder","bit","onClickRecordButtonCallback","onClickCreateButtonCallback","url","create","Audio","play","onClickClearButtonCallback","onClickClearTrackCallback","onClickCancelClearTrackCallback","onChangeTrackCallback","nextActiveTrack","onChangeLeftChannelGainCallback","onChangeRightChannelGainCallback","GroupSelect","groups","group","ReverbFieldset","rirDescriptors","reverb","setReverb","rirDescriptor","isArray","RingModulatorFieldset","ringmodulator","setRingmodulator","TremoloFieldset","tremolo","setTremolo","WahFieldset","wah","setWah","onChangeCutoffCallback","cutoff","store","container","render","setLoadedApp","setProgress","isShowModalForAjax","setIsShowModalForAjax","oneshots","getBufferIndexCallback","EQUAL_TEMPERAMENT","calculatePianoRateCallback","FREQUENCY_RATIO","calculateGuitarRateCallback","guitarIndex","calculateElectricGuitarRateCallback","calculateOrgelRateCallback","orgelIndex","createOneshotSettingsCallback","settings","setting","bufferIndex","loopStart","loopEnd","onCloseModalForAjaxCallback","onCloseModalForDecodingCallback","async","clonedX","clone","free","edit","auto","preampParams","samples","echoCancellation","video","clearAudioDevices","resources","timeout","rirs","ajax","arrayBuffer","decode","audioBuffer","preset","globalXSound","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","getPrototypeOf","obj","t","this","__esModule","ns","def","getOwnPropertyNames","d","definition","o","defineProperty","enumerable","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}