/*! For license information please see vendor.js.LICENSE.txt */
(this.webpackChunkxsound_app=this.webpackChunkxsound_app||[]).push([[736],{448:(e,t,r)=>{"use strict";var n=r(294),s=r(840);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},d={};function m(e,t,r,n,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,r,n){var s=v.hasOwnProperty(t)?v[t]:null;(null!==s?0!==s.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,s,n)&&(r=null),n||null===s?function(e){return!!h.call(d,e)||!h.call(p,e)&&(f.test(e)?d[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=null===r?3!==s.type&&"":r:(t=s.attributeName,n=s.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(s=s.type)||4===s&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}var F,L=Object.assign;function D(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var U=!1;function q(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),i=n.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var u="\n"+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?D(e):""}function j(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case T:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case M:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return $(e(t))}catch(e){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function H(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Y(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=G(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){K(e,t);var r=G(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&X(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+G(r),t=null,s=0;s<e.length;s++){if(e[s].value===r)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:G(r)}}function ie(e,t){var r=G(t.value),n=G(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),s=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}Object.keys(pe).forEach((function(e){de.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,Ee=null;function Te(e){if(e=bs(e)){if("function"!=typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=ks(t),Se(e.stateNode,e.type,t))}}function Ae(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function _e(e,t){return e(t)}function Ne(){}var Me=!1;function Pe(e,t,r){if(Me)return e(t,r);Me=!0;try{return _e(e,t,r)}finally{Me=!1,(null!==xe||null!==Ee)&&(Ne(),Ce())}}function Oe(e,t){var r=e.stateNode;if(null===r)return null;var n=ks(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(i(231,t,typeof r));return r}var Re=!1;if(c)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Re=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ce){Re=!1}function Ie(e,t,r,n,s,i,a,o,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(e){this.onError(e)}}var Fe=!1,Le=null,De=!1,Ue=null,qe={onError:function(e){Fe=!0,Le=e}};function je(e,t,r,n,s,i,a,o,u){Fe=!1,Le=null,Ie.apply(qe,arguments)}function $e(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if($e(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(n=s.return)){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Ge(s),e;if(a===n)return Ge(s),t;a=a.sibling}throw Error(i(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,u=s.child;u;){if(u===r){o=!0,r=s,n=a;break}if(u===n){o=!0,n=s,r=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===r){o=!0,r=a,n=s;break}if(u===n){o=!0,n=a,r=s;break}u=u.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Ve=s.unstable_scheduleCallback,Xe=s.unstable_cancelCallback,He=s.unstable_shouldYield,Ye=s.unstable_requestPaint,Ke=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,rt=s.unstable_LowPriority,nt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ut|0)|0},ot=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&r;if(0!==a){var o=a&~s;0!==o?n=ht(o):0!==(i&=a)&&(n=ht(i))}else 0!==(a=r&~s)?n=ht(a):0!==i&&(n=ht(i));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&s)&&((s=n&-n)>=(i=t&-t)||16===s&&0!=(4194240&i)))return t;if(0!=(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)s=1<<(r=31-at(t)),n|=e[r],t&=~s;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0==(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=r}function gt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-at(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var kt,St,xt,Et,Tt,At=!1,Ct=[],_t=null,Nt=null,Mt=null,Pt=new Map,Ot=new Map,Rt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ft(e,t,r,n,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&St(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Lt(e){var t=gs(e.target);if(null!==t){var r=$e(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Be(r)))return e.blockedOn=t,void Tt(e.priority,(function(){xt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=bs(r))&&St(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);we=n,r.target.dispatchEvent(n),we=null,t.shift()}return!0}function Ut(e,t,r){Dt(e)&&r.delete(t)}function qt(){At=!1,null!==_t&&Dt(_t)&&(_t=null),null!==Nt&&Dt(Nt)&&(Nt=null),null!==Mt&&Dt(Mt)&&(Mt=null),Pt.forEach(Ut),Ot.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,qt)))}function $t(e){function t(t){return jt(t,e)}if(0<Ct.length){jt(Ct[0],e);for(var r=1;r<Ct.length;r++){var n=Ct[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==_t&&jt(_t,e),null!==Nt&&jt(Nt,e),null!==Mt&&jt(Mt,e),Pt.forEach(t),Ot.forEach(t),r=0;r<Rt.length;r++)(n=Rt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Rt.length&&null===(r=Rt[0]).blockedOn;)Lt(r),null===r.blockedOn&&Rt.shift()}var Bt=w.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,r,n){var s=bt,i=Bt.transition;Bt.transition=null;try{bt=1,Vt(e,t,r,n)}finally{bt=s,Bt.transition=i}}function Qt(e,t,r,n){var s=bt,i=Bt.transition;Bt.transition=null;try{bt=4,Vt(e,t,r,n)}finally{bt=s,Bt.transition=i}}function Vt(e,t,r,n){if(Gt){var s=Ht(e,t,r,n);if(null===s)Gn(e,t,n,Xt,r),It(e,n);else if(function(e,t,r,n,s){switch(t){case"focusin":return _t=Ft(_t,e,t,r,n,s),!0;case"dragenter":return Nt=Ft(Nt,e,t,r,n,s),!0;case"mouseover":return Mt=Ft(Mt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Pt.set(i,Ft(Pt.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ot.set(i,Ft(Ot.get(i)||null,e,t,r,n,s)),!0}return!1}(s,e,t,r,n))n.stopPropagation();else if(It(e,n),4&t&&-1<zt.indexOf(e)){for(;null!==s;){var i=bs(s);if(null!==i&&kt(i),null===(i=Ht(e,t,r,n))&&Gn(e,t,n,Xt,r),i===s)break;s=i}null!==s&&n.stopPropagation()}else Gn(e,t,n,null,r)}}var Xt=null;function Ht(e,t,r,n){if(Xt=null,null!==(e=gs(e=ke(n))))if(null===(t=$e(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Kt=null,Jt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Jt,n=r.length,s="value"in Kt?Kt.value:Kt.textContent,i=s.length;for(e=0;e<n&&r[e]===s[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function sr(e){function t(t,r,n,s,i){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,ar,or,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=sr(ur),cr=L({},ur,{view:0,detail:0}),hr=sr(cr),fr=L({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(ir=e.screenX-or.screenX,ar=e.screenY-or.screenY):ar=ir=0,or=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),pr=sr(fr),dr=sr(L({},fr,{dataTransfer:0})),mr=sr(L({},cr,{relatedTarget:0})),vr=sr(L({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=L({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gr=sr(yr),br=sr(L({},ur,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Er(){return xr}var Tr=L({},cr,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ar=sr(Tr),Cr=sr(L({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_r=sr(L({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er})),Nr=sr(L({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mr=L({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pr=sr(Mr),Or=[9,13,27,32],Rr=c&&"CompositionEvent"in window,zr=null;c&&"documentMode"in document&&(zr=document.documentMode);var Ir=c&&"TextEvent"in window&&!zr,Fr=c&&(!Rr||zr&&8<zr&&11>=zr),Lr=String.fromCharCode(32),Dr=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Or.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jr=!1;var $r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$r[e.type]:"textarea"===t}function Gr(e,t,r,n){Ae(n),0<(t=Qn(t,"onChange")).length&&(r=new lr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,Qr=null;function Vr(e){Dn(e,0)}function Xr(e){if(V(ws(e)))return e}function Hr(e,t){if("change"===e)return t}var Yr=!1;if(c){var Kr;if(c){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"==typeof Zr.oninput}Kr=Jr}else Kr=!1;Yr=Kr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),Qr=Wr=null)}function tn(e){if("value"===e.propertyName&&Xr(Qr)){var t=[];Gr(t,Qr,e,ke(e)),Pe(Vr,t)}}function rn(e,t,r){"focusin"===e?(en(),Qr=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xr(Qr)}function sn(e,t){if("click"===e)return Xr(t)}function an(e,t){if("input"===e||"change"===e)return Xr(t)}var on="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function un(e,t){if(on(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!h.call(t,s)||!on(e[s],t[s]))return!1}return!0}function ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var r,n=ln(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ln(n)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=X((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dn(e){var t=fn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hn(r.ownerDocument.documentElement,r)){if(null!==n&&pn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=void 0===n.end?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=cn(r,i);var a=cn(r,n);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=c&&"documentMode"in document&&11>=document.documentMode,vn=null,yn=null,gn=null,bn=!1;function wn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==vn||vn!==X(n)||("selectionStart"in(n=vn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},gn&&un(gn,n)||(gn=n,0<(n=Qn(yn,"onSelect")).length&&(t=new lr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vn)))}function kn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sn={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionend:kn("Transition","TransitionEnd")},xn={},En={};function Tn(e){if(xn[e])return xn[e];if(!Sn[e])return e;var t,r=Sn[e];for(t in r)if(r.hasOwnProperty(t)&&t in En)return xn[e]=r[t];return e}c&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);var An=Tn("animationend"),Cn=Tn("animationiteration"),_n=Tn("animationstart"),Nn=Tn("transitionend"),Mn=new Map,Pn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){Mn.set(e,t),u(t,[e])}for(var Rn=0;Rn<Pn.length;Rn++){var zn=Pn[Rn];On(zn.toLowerCase(),"on"+(zn[0].toUpperCase()+zn.slice(1)))}On(An,"onAnimationEnd"),On(Cn,"onAnimationIteration"),On(_n,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Nn,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fn=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Ln(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,s,a,o,u,l){if(je.apply(this,arguments),Fe){if(!Fe)throw Error(i(198));var c=Le;Fe=!1,Le=null,De||(De=!0,Ue=c)}}(n,t,void 0,e),e.currentTarget=null}function Dn(e,t){t=0!=(4&t);for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;Ln(s,o,l),i=u}else for(a=0;a<n.length;a++){if(u=(o=n[a]).instance,l=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;Ln(s,o,l),i=u}}}if(De)throw e=Ue,De=!1,Ue=null,e}function Un(e,t){var r=t[ms];void 0===r&&(r=t[ms]=new Set);var n=e+"__bubble";r.has(n)||(Bn(t,e,2,!1),r.add(n))}function qn(e,t,r){var n=0;t&&(n|=4),Bn(r,e,n,t)}var jn="_reactListening"+Math.random().toString(36).slice(2);function $n(e){if(!e[jn]){e[jn]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fn.has(t)||qn(t,!1,e),qn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jn]||(t[jn]=!0,qn("selectionchange",!1,t))}}function Bn(e,t,r,n){switch(Yt(t)){case 1:var s=Wt;break;case 4:s=Qt;break;default:s=Vt}r=s.bind(null,t,r,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):void 0!==s?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Gn(e,t,r,n,s){var i=n;if(0==(1&t)&&0==(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var o=n.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=n.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===s||8===u.nodeType&&u.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=gs(o)))return;if(5===(u=a.tag)||6===u){n=i=a;continue e}o=o.parentNode}}n=n.return}Pe((function(){var n=i,s=ke(r),a=[];e:{var o=Mn.get(e);if(void 0!==o){var u=lr,l=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":u=Ar;break;case"focusin":l="focus",u=mr;break;case"focusout":l="blur",u=mr;break;case"beforeblur":case"afterblur":u=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=dr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=_r;break;case An:case Cn:case _n:u=vr;break;case Nn:u=Nr;break;case"scroll":u=hr;break;case"wheel":u=Pr;break;case"copy":case"cut":case"paste":u=gr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cr}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==o?o+"Capture":null:o;c=[];for(var p,d=n;null!==d;){var m=(p=d).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Oe(d,f))&&c.push(Wn(d,m,p)))),h)break;d=d.return}0<c.length&&(o=new u(o,l,null,r,s),a.push({event:o,listeners:c}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===we||!(l=r.relatedTarget||r.fromElement)||!gs(l)&&!l[ds])&&(u||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,u?(u=n,null!==(l=(l=r.relatedTarget||r.toElement)?gs(l):null)&&(l!==(h=$e(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=n),u!==l)){if(c=pr,m="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cr,m="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?o:ws(u),p=null==l?o:ws(l),(o=new c(m,d+"leave",u,r,s)).target=h,o.relatedTarget=p,m=null,gs(s)===n&&((c=new c(f,d+"enter",l,r,s)).target=p,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(f=l,d=0,p=c=u;p;p=Vn(p))d++;for(p=0,m=f;m;m=Vn(m))p++;for(;0<d-p;)c=Vn(c),d--;for(;0<p-d;)f=Vn(f),p--;for(;d--;){if(c===f||null!==f&&c===f.alternate)break e;c=Vn(c),f=Vn(f)}c=null}else c=null;null!==u&&Xn(a,o,u,c,!1),null!==l&&null!==h&&Xn(a,h,l,c,!0)}if("select"===(u=(o=n?ws(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===u&&"file"===o.type)var v=Hr;else if(Br(o))if(Yr)v=an;else{v=nn;var y=rn}else(u=o.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=sn);switch(v&&(v=v(e,n))?Gr(a,v,r,s):(y&&y(e,o,n),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=n?ws(n):window,e){case"focusin":(Br(y)||"true"===y.contentEditable)&&(vn=y,yn=n,gn=null);break;case"focusout":gn=yn=vn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,wn(a,r,s);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":wn(a,r,s)}var g;if(Rr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jr?Ur(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Fr&&"ko"!==r.locale&&(jr||"onCompositionStart"!==b?"onCompositionEnd"===b&&jr&&(g=er()):(Jt="value"in(Kt=s)?Kt.value:Kt.textContent,jr=!0)),0<(y=Qn(n,b)).length&&(b=new br(b,e,null,r,s),a.push({event:b,listeners:y}),g?b.data=g:null!==(g=qr(r))&&(b.data=g))),(g=Ir?function(e,t){switch(e){case"compositionend":return qr(t);case"keypress":return 32!==t.which?null:(Dr=!0,Lr);case"textInput":return(e=t.data)===Lr&&Dr?null:e;default:return null}}(e,r):function(e,t){if(jr)return"compositionend"===e||!Rr&&Ur(e,t)?(e=er(),Zt=Jt=Kt=null,jr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Qn(n,"onBeforeInput")).length&&(s=new br("onBeforeInput","beforeinput",null,r,s),a.push({event:s,listeners:n}),s.data=g))}Dn(a,t)}))}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qn(e,t){for(var r=t+"Capture",n=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Oe(e,r))&&n.unshift(Wn(e,i,s)),null!=(i=Oe(e,t))&&n.push(Wn(e,i,s))),e=e.return}return n}function Vn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xn(e,t,r,n,s){for(var i=t._reactName,a=[];null!==r&&r!==n;){var o=r,u=o.alternate,l=o.stateNode;if(null!==u&&u===n)break;5===o.tag&&null!==l&&(o=l,s?null!=(u=Oe(r,i))&&a.unshift(Wn(r,u,o)):s||null!=(u=Oe(r,i))&&a.push(Wn(r,u,o))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var Hn=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Kn(e){return("string"==typeof e?e:""+e).replace(Hn,"\n").replace(Yn,"")}function Jn(e,t,r){if(t=Kn(t),Kn(e)!==t&&r)throw Error(i(425))}function Zn(){}var es=null,ts=null;function rs(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ns="function"==typeof setTimeout?setTimeout:void 0,ss="function"==typeof clearTimeout?clearTimeout:void 0,is="function"==typeof Promise?Promise:void 0,as="function"==typeof queueMicrotask?queueMicrotask:void 0!==is?function(e){return is.resolve(null).then(e).catch(os)}:ns;function os(e){setTimeout((function(){throw e}))}function us(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0===n)return e.removeChild(s),void $t(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=s}while(r);$t(t)}function ls(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),fs="__reactFiber$"+hs,ps="__reactProps$"+hs,ds="__reactContainer$"+hs,ms="__reactEvents$"+hs,vs="__reactListeners$"+hs,ys="__reactHandles$"+hs;function gs(e){var t=e[fs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ds]||r[fs]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=cs(e);null!==e;){if(r=e[fs])return r;e=cs(e)}return t}r=(e=r).parentNode}return null}function bs(e){return!(e=e[fs]||e[ds])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ks(e){return e[ps]||null}var Ss=[],xs=-1;function Es(e){return{current:e}}function Ts(e){0>xs||(e.current=Ss[xs],Ss[xs]=null,xs--)}function As(e,t){xs++,Ss[xs]=e.current,e.current=t}var Cs={},_s=Es(Cs),Ns=Es(!1),Ms=Cs;function Ps(e,t){var r=e.type.contextTypes;if(!r)return Cs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in r)i[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Os(e){return null!=(e=e.childContextTypes)}function Rs(){Ts(Ns),Ts(_s)}function zs(e,t,r){if(_s.current!==Cs)throw Error(i(168));As(_s,t),As(Ns,r)}function Is(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var s in n=n.getChildContext())if(!(s in t))throw Error(i(108,B(e)||"Unknown",s));return L({},r,n)}function Fs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,Ms=_s.current,As(_s,e),As(Ns,Ns.current),!0}function Ls(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Is(e,t,Ms),n.__reactInternalMemoizedMergedChildContext=e,Ts(Ns),Ts(_s),As(_s,e)):Ts(Ns),As(Ns,r)}var Ds=null,Us=!1,qs=!1;function js(e){null===Ds?Ds=[e]:Ds.push(e)}function $s(){if(!qs&&null!==Ds){qs=!0;var e=0,t=bt;try{var r=Ds;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ds=null,Us=!1}catch(t){throw null!==Ds&&(Ds=Ds.slice(e+1)),Ve(Ze,$s),t}finally{bt=t,qs=!1}}return null}var Bs=[],Gs=0,Ws=null,Qs=0,Vs=[],Xs=0,Hs=null,Ys=1,Ks="";function Js(e,t){Bs[Gs++]=Qs,Bs[Gs++]=Ws,Ws=e,Qs=t}function Zs(e,t,r){Vs[Xs++]=Ys,Vs[Xs++]=Ks,Vs[Xs++]=Hs,Hs=e;var n=Ys;e=Ks;var s=32-at(n)-1;n&=~(1<<s),r+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Ys=1<<32-at(t)+s|r<<s|n,Ks=i+e}else Ys=1<<i|r<<s|n,Ks=e}function ei(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ti(e){for(;e===Ws;)Ws=Bs[--Gs],Bs[Gs]=null,Qs=Bs[--Gs],Bs[Gs]=null;for(;e===Hs;)Hs=Vs[--Xs],Vs[Xs]=null,Ks=Vs[--Xs],Vs[Xs]=null,Ys=Vs[--Xs],Vs[Xs]=null}var ri=null,ni=null,si=!1,ii=null;function ai(e,t){var r=Pl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function oi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=ls(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Hs?{id:Ys,overflow:Ks}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Pl(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function ui(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function li(e){if(si){var t=ni;if(t){var r=t;if(!oi(e,t)){if(ui(e))throw Error(i(418));t=ls(r.nextSibling);var n=ri;t&&oi(e,t)?ai(n,r):(e.flags=-4097&e.flags|2,si=!1,ri=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ri=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!si)return ci(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rs(e.type,e.memoizedProps)),t&&(t=ni)){if(ui(e))throw fi(),Error(i(418));for(;t;)ai(e,t),t=ls(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=ls(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?ls(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=ni;e;)e=ls(e.nextSibling)}function pi(){ni=ri=null,si=!1}function di(e){null===ii?ii=[e]:ii.push(e)}var mi=w.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var yi=Es(null),gi=null,bi=null,wi=null;function ki(){wi=bi=gi=null}function Si(e){var t=yi.current;Ts(yi),e._currentValue=t}function xi(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ei(e,t){gi=e,wi=bi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},null===bi){if(null===gi)throw Error(i(308));bi=e,gi.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var Ai=null;function Ci(e){null===Ai?Ai=[e]:Ai.push(e)}function _i(e,t,r,n){var s=t.interleaved;return null===s?(r.next=r,Ci(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ni(e,n)}function Ni(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Mi=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!=(2&_u)){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ni(e,r)}return null===(s=n.interleaved)?(t.next=t,Ci(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ni(e,r)}function Ii(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,gt(e,r)}}function Fi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var s=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?s=i=a:i=i.next=a,r=r.next}while(null!==r);null===i?s=i=t:i=i.next=t}else s=i=t;return r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Li(e,t,r,n){var s=e.updateQueue;Mi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var u=o,l=u.next;u.next=null,null===a?i=l:a.next=l,a=u;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=u))}if(null!==i){var h=s.baseState;for(a=0,c=l=u=null,o=i;;){var f=o.lane,p=o.eventTime;if((n&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=e,m=o;switch(f=t,p=r,m.tag){case 1:if("function"==typeof(d=m.payload)){h=d.call(p,h,f);break e}h=d;break e;case 3:d.flags=-65537&d.flags|128;case 0:if(null==(f="function"==typeof(d=m.payload)?d.call(p,h,f):d))break e;h=L({},h,f);break e;case 2:Mi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(f=s.effects)?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=p,u=h):c=c.next=p,a|=f;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(f=o).next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}if(null===c&&(u=h),s.baseState=u,s.firstBaseUpdate=l,s.lastBaseUpdate=c,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Fu|=a,e.lanes=a,e.memoizedState=h}}function Di(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(null!==s){if(n.callback=null,n=r,"function"!=typeof s)throw Error(i(191,s));s.call(n)}}}var Ui=(new n.Component).refs;function qi(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ji={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=el(),s=tl(e),i=Ri(n,s);i.payload=t,null!=r&&(i.callback=r),null!==(t=zi(e,i,s))&&(rl(t,e,s,n),Ii(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=el(),s=tl(e),i=Ri(n,s);i.tag=1,i.payload=t,null!=r&&(i.callback=r),null!==(t=zi(e,i,s))&&(rl(t,e,s,n),Ii(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=el(),n=tl(e),s=Ri(r,n);s.tag=2,null!=t&&(s.callback=t),null!==(t=zi(e,s,n))&&(rl(t,e,n,r),Ii(t,e,n))}};function $i(e,t,r,n,s,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!un(r,n)||!un(s,i))}function Bi(e,t,r){var n=!1,s=Cs,i=t.contextType;return"object"==typeof i&&null!==i?i=Ti(i):(s=Os(t)?Ms:_s.current,i=(n=null!=(n=t.contextTypes))?Ps(e,s):Cs),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ji,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gi(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ji.enqueueReplaceState(t,t.state,null)}function Wi(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=Ui,Pi(e);var i=t.contextType;"object"==typeof i&&null!==i?s.context=Ti(i):(i=Os(t)?Ms:_s.current,s.context=Ps(e,i)),s.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(qi(e,t,i,r),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ji.enqueueReplaceState(s,s.state,null),Li(e,r,s,n),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}function Qi(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var s=n,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;t===Ui&&(t=s.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xi(e){return(0,e._init)(e._payload)}function Hi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=Ll(r,e.mode,n)).return=e,t):((t=s(t,r)).return=e,t)}function l(e,t,r,n){var i=r.type;return i===x?h(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===O&&Xi(i)===t.type)?((n=s(t,r.props)).ref=Qi(e,t,r),n.return=e,n):((n=zl(r.type,r.key,r.props,null,e.mode,n)).ref=Qi(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Dl(r,e.mode,n)).return=e,t):((t=s(t,r.children||[])).return=e,t)}function h(e,t,r,n,i){return null===t||7!==t.tag?((t=Il(r,e.mode,n,i)).return=e,t):((t=s(t,r)).return=e,t)}function f(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Ll(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(r=zl(t.type,t.key,t.props,null,e.mode,r)).ref=Qi(e,null,t),r.return=e,r;case S:return(t=Dl(t,e.mode,r)).return=e,t;case O:return f(e,(0,t._init)(t._payload),r)}if(te(t)||I(t))return(t=Il(t,e.mode,r,null)).return=e,t;Vi(e,t)}return null}function p(e,t,r,n){var s=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==s?null:u(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return r.key===s?l(e,t,r,n):null;case S:return r.key===s?c(e,t,r,n):null;case O:return p(e,t,(s=r._init)(r._payload),n)}if(te(r)||I(r))return null!==s?null:h(e,t,r,n,null);Vi(e,r)}return null}function d(e,t,r,n,s){if("string"==typeof n&&""!==n||"number"==typeof n)return u(t,e=e.get(r)||null,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return l(t,e=e.get(null===n.key?r:n.key)||null,n,s);case S:return c(t,e=e.get(null===n.key?r:n.key)||null,n,s);case O:return d(e,t,r,(0,n._init)(n._payload),s)}if(te(n)||I(n))return h(t,e=e.get(r)||null,n,s,null);Vi(t,n)}return null}function m(s,i,o,u){for(var l=null,c=null,h=i,m=i=0,v=null;null!==h&&m<o.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var y=p(s,h,o[m],u);if(null===y){null===h&&(h=v);break}e&&h&&null===y.alternate&&t(s,h),i=a(y,i,m),null===c?l=y:c.sibling=y,c=y,h=v}if(m===o.length)return r(s,h),si&&Js(s,m),l;if(null===h){for(;m<o.length;m++)null!==(h=f(s,o[m],u))&&(i=a(h,i,m),null===c?l=h:c.sibling=h,c=h);return si&&Js(s,m),l}for(h=n(s,h);m<o.length;m++)null!==(v=d(h,s,m,o[m],u))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),i=a(v,i,m),null===c?l=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(s,e)})),si&&Js(s,m),l}function v(s,o,u,l){var c=I(u);if("function"!=typeof c)throw Error(i(150));if(null==(u=c.call(u)))throw Error(i(151));for(var h=c=null,m=o,v=o=0,y=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=p(s,m,g.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(s,m),o=a(b,o,v),null===h?c=b:h.sibling=b,h=b,m=y}if(g.done)return r(s,m),si&&Js(s,v),c;if(null===m){for(;!g.done;v++,g=u.next())null!==(g=f(s,g.value,l))&&(o=a(g,o,v),null===h?c=g:h.sibling=g,h=g);return si&&Js(s,v),c}for(m=n(s,m);!g.done;v++,g=u.next())null!==(g=d(m,s,v,g.value,l))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),o=a(g,o,v),null===h?c=g:h.sibling=g,h=g);return e&&m.forEach((function(e){return t(s,e)})),si&&Js(s,v),c}return function e(n,i,a,u){if("object"==typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var l=a.key,c=i;null!==c;){if(c.key===l){if((l=a.type)===x){if(7===c.tag){r(n,c.sibling),(i=s(c,a.props.children)).return=n,n=i;break e}}else if(c.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===O&&Xi(l)===c.type){r(n,c.sibling),(i=s(c,a.props)).ref=Qi(n,c,a),i.return=n,n=i;break e}r(n,c);break}t(n,c),c=c.sibling}a.type===x?((i=Il(a.props.children,n.mode,u,a.key)).return=n,n=i):((u=zl(a.type,a.key,a.props,null,n.mode,u)).ref=Qi(n,i,a),u.return=n,n=u)}return o(n);case S:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){r(n,i.sibling),(i=s(i,a.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Dl(a,n.mode,u)).return=n,n=i}return o(n);case O:return e(n,i,(c=a._init)(a._payload),u)}if(te(a))return m(n,i,a,u);if(I(a))return v(n,i,a,u);Vi(n,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(r(n,i.sibling),(i=s(i,a)).return=n,n=i):(r(n,i),(i=Ll(a,n.mode,u)).return=n,n=i),o(n)):r(n,i)}}var Yi=Hi(!0),Ki=Hi(!1),Ji={},Zi=Es(Ji),ea=Es(Ji),ta=Es(Ji);function ra(e){if(e===Ji)throw Error(i(174));return e}function na(e,t){switch(As(ta,t),As(ea,e),As(Zi,Ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ts(Zi),As(Zi,t)}function sa(){Ts(Zi),Ts(ea),Ts(ta)}function ia(e){ra(ta.current);var t=ra(Zi.current),r=ue(t,e.type);t!==r&&(As(ea,e),As(Zi,r))}function aa(e){ea.current===e&&(Ts(Zi),Ts(ea))}var oa=Es(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ca(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,pa=0,da=null,ma=null,va=null,ya=!1,ga=!1,ba=0,wa=0;function ka(){throw Error(i(321))}function Sa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function xa(e,t,r,n,s,a){if(pa=a,da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=r(n,s),ga){a=0;do{if(ga=!1,ba=0,25<=a)throw Error(i(301));a+=1,va=ma=null,t.updateQueue=null,ha.current=uo,e=r(n,s)}while(ga)}if(ha.current=io,t=null!==ma&&null!==ma.next,pa=0,va=ma=da=null,ya=!1,t)throw Error(i(300));return e}function Ea(){var e=0!==ba;return ba=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?da.memoizedState=va=e:va=va.next=e,va}function Aa(){if(null===ma){var e=da.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===va?da.memoizedState:va.next;if(null!==t)va=t,ma=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===va?da.memoizedState=va=e:va=va.next=e}return va}function Ca(e,t){return"function"==typeof t?t(e):t}function _a(e){var t=Aa(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=ma,s=n.baseQueue,a=r.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(null!==s){a=s.next,n=n.baseState;var u=o=null,l=null,c=a;do{var h=c.lane;if((pa&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,o=n):l=l.next=f,da.lanes|=h,Fu|=h}c=c.next}while(null!==c&&c!==a);null===l?o=n:l.next=u,on(n,t.memoizedState)||(bo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(null!==(e=r.interleaved)){s=e;do{a=s.lane,da.lanes|=a,Fu|=a,s=s.next}while(s!==e)}else null===s&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Na(e){var t=Aa(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(null!==s){r.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);on(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Ma(){}function Pa(e,t){var r=da,n=Aa(),s=t(),a=!on(n.memoizedState,s);if(a&&(n.memoizedState=s,bo=!0),n=n.queue,Ba(za.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(r.flags|=2048,Da(9,Ra.bind(null,r,n,s,t),void 0,null),null===Nu)throw Error(i(349));0!=(30&pa)||Oa(r,t,s)}return s}function Oa(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ra(e,t,r,n){t.value=r,t.getSnapshot=n,Ia(t)&&Fa(e)}function za(e,t,r){return r((function(){Ia(t)&&Fa(e)}))}function Ia(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(e){return!0}}function Fa(e){var t=Ni(e,1);null!==t&&rl(t,e,1,-1)}function La(e){var t=Ta();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,da,e),[t.memoizedState,e]}function Da(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ua(){return Aa().memoizedState}function qa(e,t,r,n){var s=Ta();da.flags|=e,s.memoizedState=Da(1|t,r,void 0,void 0===n?null:n)}function ja(e,t,r,n){var s=Aa();n=void 0===n?null:n;var i=void 0;if(null!==ma){var a=ma.memoizedState;if(i=a.destroy,null!==n&&Sa(n,a.deps))return void(s.memoizedState=Da(t,r,i,n))}da.flags|=e,s.memoizedState=Da(1|t,r,i,n)}function $a(e,t){return qa(8390656,8,e,t)}function Ba(e,t){return ja(2048,8,e,t)}function Ga(e,t){return ja(4,2,e,t)}function Wa(e,t){return ja(4,4,e,t)}function Qa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,r){return r=null!=r?r.concat([e]):null,ja(4,4,Qa.bind(null,t,e),r)}function Xa(){}function Ha(e,t){var r=Aa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Sa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ya(e,t){var r=Aa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Sa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ka(e,t,r){return 0==(21&pa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=r):(on(r,t)||(r=mt(),da.lanes|=r,Fu|=r,e.baseState=!0),t)}function Ja(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=r,fa.transition=n}}function Za(){return Aa().memoizedState}function eo(e,t,r){var n=tl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ro(e))no(t,r);else if(null!==(r=_i(e,t,r,n))){rl(r,e,n,el()),so(r,t,n)}}function to(e,t,r){var n=tl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ro(e))no(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,on(o,a)){var u=t.interleaved;return null===u?(s.next=s,Ci(t)):(s.next=u.next,u.next=s),void(t.interleaved=s)}}catch(e){}null!==(r=_i(e,t,s,n))&&(rl(r,e,n,s=el()),so(r,t,n))}}function ro(e){var t=e.alternate;return e===da||null!==t&&t===da}function no(e,t){ga=ya=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function so(e,t,r){if(0!=(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,gt(e,r)}}var io={readContext:Ti,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ao={readContext:Ti,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:$a,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,qa(4194308,4,Qa.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qa(4194308,4,e,t)},useInsertionEffect:function(e,t){return qa(4,2,e,t)},useMemo:function(e,t){var r=Ta();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ta();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=eo.bind(null,da,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:La,useDebugValue:Xa,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=Ja.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=da,s=Ta();if(si){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===Nu)throw Error(i(349));0!=(30&pa)||Oa(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,$a(za.bind(null,n,a,e),[e]),n.flags|=2048,Da(9,Ra.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ta(),t=Nu.identifierPrefix;if(si){var r=Ks;t=":"+t+"R"+(r=(Ys&~(1<<32-at(Ys)-1)).toString(32)+r),0<(r=ba++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ti,useCallback:Ha,useContext:Ti,useEffect:Ba,useImperativeHandle:Va,useInsertionEffect:Ga,useLayoutEffect:Wa,useMemo:Ya,useReducer:_a,useRef:Ua,useState:function(){return _a(Ca)},useDebugValue:Xa,useDeferredValue:function(e){return Ka(Aa(),ma.memoizedState,e)},useTransition:function(){return[_a(Ca)[0],Aa().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Pa,useId:Za,unstable_isNewReconciler:!1},uo={readContext:Ti,useCallback:Ha,useContext:Ti,useEffect:Ba,useImperativeHandle:Va,useInsertionEffect:Ga,useLayoutEffect:Wa,useMemo:Ya,useReducer:Na,useRef:Ua,useState:function(){return Na(Ca)},useDebugValue:Xa,useDeferredValue:function(e){var t=Aa();return null===ma?t.memoizedState=e:Ka(t,ma.memoizedState,e)},useTransition:function(){return[Na(Ca)[0],Aa().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Pa,useId:Za,unstable_isNewReconciler:!1};function lo(e,t){try{var r="",n=t;do{r+=j(n),n=n.return}while(n);var s=r}catch(e){s="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}var ho="function"==typeof WeakMap?WeakMap:Map;function fo(e,t,r){(r=Ri(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Gu||(Gu=!0,Wu=n)},r}function po(e,t,r){(r=Ri(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Qu?Qu=new Set([this]):Qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function mo(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ho;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Tl.bind(null,e,t,r),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,r,n,s){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ri(-1,1)).tag=2,zi(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var go=w.ReactCurrentOwner,bo=!1;function wo(e,t,r,n){t.child=null===e?Ki(t,null,r,n):Yi(t,e.child,r,n)}function ko(e,t,r,n,s){r=r.render;var i=t.ref;return Ei(t,s),n=xa(e,t,r,n,i,s),r=Ea(),null===e||bo?(si&&r&&ei(t),t.flags|=1,wo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Go(e,t,s))}function So(e,t,r,n,s){if(null===e){var i=r.type;return"function"!=typeof i||Ol(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=zl(r.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,xo(e,t,i,n,s))}if(i=e.child,0==(e.lanes&s)){var a=i.memoizedProps;if((r=null!==(r=r.compare)?r:un)(a,n)&&e.ref===t.ref)return Go(e,t,s)}return t.flags|=1,(e=Rl(i,n)).ref=t.ref,e.return=t,t.child=e}function xo(e,t,r,n,s){if(null!==e){var i=e.memoizedProps;if(un(i,n)&&e.ref===t.ref){if(bo=!1,t.pendingProps=n=i,0==(e.lanes&s))return t.lanes=e.lanes,Go(e,t,s);0!=(131072&e.flags)&&(bo=!0)}}return Ao(e,t,r,n,s)}function Eo(e,t,r){var n=t.pendingProps,s=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},As(Ru,Ou),Ou|=r;else{if(0==(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,As(Ru,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,As(Ru,Ou),Ou|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,As(Ru,Ou),Ou|=n;return wo(e,t,s,r),t.child}function To(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,r,n,s){var i=Os(r)?Ms:_s.current;return i=Ps(t,i),Ei(t,s),r=xa(e,t,r,n,i,s),n=Ea(),null===e||bo?(si&&n&&ei(t),t.flags|=1,wo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Go(e,t,s))}function Co(e,t,r,n,s){if(Os(r)){var i=!0;Fs(t)}else i=!1;if(Ei(t,s),null===t.stateNode)Bo(e,t),Bi(t,r,n),Wi(t,r,n,s),n=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,l=r.contextType;"object"==typeof l&&null!==l?l=Ti(l):l=Ps(t,l=Os(r)?Ms:_s.current);var c=r.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==n||u!==l)&&Gi(t,a,n,l),Mi=!1;var f=t.memoizedState;a.state=f,Li(t,n,a,s),u=t.memoizedState,o!==n||f!==u||Ns.current||Mi?("function"==typeof c&&(qi(t,r,c,n),u=t.memoizedState),(o=Mi||$i(t,r,o,n,f,u,l))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=l,n=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Oi(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:vi(t.type,o),a.props=l,h=t.pendingProps,f=a.context,"object"==typeof(u=r.contextType)&&null!==u?u=Ti(u):u=Ps(t,u=Os(r)?Ms:_s.current);var p=r.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==h||f!==u)&&Gi(t,a,n,u),Mi=!1,f=t.memoizedState,a.state=f,Li(t,n,a,s);var d=t.memoizedState;o!==h||f!==d||Ns.current||Mi?("function"==typeof p&&(qi(t,r,p,n),d=t.memoizedState),(l=Mi||$i(t,r,l,n,f,d,u)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=u,n=l):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return _o(e,t,r,n,i,s)}function _o(e,t,r,n,s,i){To(e,t);var a=0!=(128&t.flags);if(!n&&!a)return s&&Ls(t,r,!1),Go(e,t,i);n=t.stateNode,go.current=t;var o=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Yi(t,e.child,null,i),t.child=Yi(t,null,o,i)):wo(e,t,o,i),t.memoizedState=n.state,s&&Ls(t,r,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?zs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zs(0,t.context,!1),na(e,t.containerInfo)}function Mo(e,t,r,n,s){return pi(),di(s),t.flags|=256,wo(e,t,r,n),t.child}var Po,Oo,Ro,zo,Io={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,r){var n,s=t.pendingProps,a=oa.current,o=!1,u=0!=(128&t.flags);if((n=u)||(n=(null===e||null!==e.memoizedState)&&0!=(2&a)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),As(oa,1&a),null===e)return li(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=s.children,e=s.fallback,o?(s=t.mode,o=t.child,u={mode:"hidden",children:u},0==(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=u):o=Fl(u,s,0,null),e=Il(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(r),t.memoizedState=Io,e):Do(t,u));if(null!==(a=e.memoizedState)&&null!==(n=a.dehydrated))return function(e,t,r,n,s,a,o){if(r)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,n=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Fl({mode:"visible",children:n.children},s,0,null),(a=Il(a,s,o,null)).flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,0!=(1&t.mode)&&Yi(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Io,a);if(0==(1&t.mode))return Uo(e,t,o,null);if("$!"===s.data){if(n=s.nextSibling&&s.nextSibling.dataset)var u=n.dgst;return n=u,Uo(e,t,o,n=co(a=Error(i(419)),n,void 0))}if(u=0!=(o&e.childLanes),bo||u){if(null!==(n=Nu)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!=(s&(n.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Ni(e,s),rl(n,e,s,-1))}return ml(),Uo(e,t,o,n=co(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ni=ls(s.nextSibling),ri=t,si=!0,ii=null,null!==e&&(Vs[Xs++]=Ys,Vs[Xs++]=Ks,Vs[Xs++]=Hs,Ys=e.id,Ks=e.overflow,Hs=t),t=Do(t,n.children),t.flags|=4096,t)}(e,t,u,s,n,a,r);if(o){o=s.fallback,u=t.mode,n=(a=e.child).sibling;var l={mode:"hidden",children:s.children};return 0==(1&u)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=l,t.deletions=null):(s=Rl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==n?o=Rl(n,o):(o=Il(o,u,r,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,u=null===(u=e.child.memoizedState)?Fo(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~r,t.memoizedState=Io,s}return e=(o=e.child).sibling,s=Rl(o,{mode:"visible",children:s.children}),0==(1&t.mode)&&(s.lanes=r),s.return=t,s.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Do(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,r,n){return null!==n&&di(n),Yi(t,e.child,null,r),(e=Do(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),xi(e.return,t,r)}function jo(e,t,r,n,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function $o(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(wo(e,t,n.children,r),0!=(2&(n=oa.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qo(e,r,t);else if(19===e.tag)qo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(As(oa,n),0==(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;null!==r;)null!==(e=r.alternate)&&null===ua(e)&&(s=r),r=r.sibling;null===(r=s)?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),jo(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ua(e)){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}jo(t,!0,r,null,i);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0==(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Rl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Rl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Wo(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=14680064&s.subtreeFlags,n|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vo(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(t),null;case 1:case 17:return Os(t.type)&&Rs(),Qo(t),null;case 3:return n=t.stateNode,sa(),Ts(Ns),Ts(_s),ca(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==ii&&(al(ii),ii=null))),Oo(e,t),Qo(t),null;case 5:aa(t);var s=ra(ta.current);if(r=t.type,null!==e&&null!=t.stateNode)Ro(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Qo(t),null}if(e=ra(Zi.current),hi(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[fs]=t,n[ps]=a,e=0!=(1&t.mode),r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(s=0;s<In.length;s++)Un(In[s],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":Y(n,a),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Un("invalid",n);break;case"textarea":se(n,a),Un("invalid",n)}for(var u in ge(r,a),s=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"==typeof l?n.textContent!==l&&(!0!==a.suppressHydrationWarning&&Jn(n.textContent,l,e),s=["children",l]):"number"==typeof l&&n.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Jn(n.textContent,l,e),s=["children",""+l]):o.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Un("scroll",n)}switch(r){case"input":Q(n),Z(n,a,!0);break;case"textarea":Q(n),ae(n);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(n.onclick=Zn)}n=s,t.updateQueue=n,null!==n&&(t.flags|=4)}else{u=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),"select"===r&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[fs]=t,e[ps]=n,Po(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(r,n),r){case"dialog":Un("cancel",e),Un("close",e),s=n;break;case"iframe":case"object":case"embed":Un("load",e),s=n;break;case"video":case"audio":for(s=0;s<In.length;s++)Un(In[s],e);s=n;break;case"source":Un("error",e),s=n;break;case"img":case"image":case"link":Un("error",e),Un("load",e),s=n;break;case"details":Un("toggle",e),s=n;break;case"input":Y(e,n),s=H(e,n),Un("invalid",e);break;case"option":default:s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=L({},n,{value:void 0}),Un("invalid",e);break;case"textarea":se(e,n),s=ne(e,n),Un("invalid",e)}for(a in ge(r,s),l=s)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ve(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"==typeof c?("textarea"!==r||""!==c)&&fe(e,c):"number"==typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Un("scroll",e):null!=c&&b(e,a,c,u))}switch(r){case"input":Q(e),Z(e,n,!1);break;case"textarea":Q(e),ae(e);break;case"option":null!=n.value&&e.setAttribute("value",""+G(n.value));break;case"select":e.multiple=!!n.multiple,null!=(a=n.value)?re(e,!!n.multiple,a,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qo(t),null;case 6:if(e&&null!=t.stateNode)zo(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(i(166));if(r=ra(ta.current),ra(Zi.current),hi(t)){if(n=t.stateNode,r=t.memoizedProps,n[fs]=t,(a=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Jn(n.nodeValue,r,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!=(1&e.mode))}a&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[fs]=t,t.stateNode=n}return Qo(t),null;case 13:if(Ts(oa),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ni&&0!=(1&t.mode)&&0==(128&t.flags))fi(),pi(),t.flags|=98560,a=!1;else if(a=hi(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[fs]=t}else pi(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),a=!1}else null!==ii&&(al(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&oa.current)?0===zu&&(zu=3):ml())),null!==t.updateQueue&&(t.flags|=4),Qo(t),null);case 4:return sa(),Oo(e,t),null===e&&$n(t.stateNode.containerInfo),Qo(t),null;case 10:return Si(t.type._context),Qo(t),null;case 19:if(Ts(oa),null===(a=t.memoizedState))return Qo(t),null;if(n=0!=(128&t.flags),null===(u=a.rendering))if(n)Wo(a,!1);else{if(0!==zu||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ua(e))){for(t.flags|=128,Wo(a,!1),null!==(n=u.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(a=r).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return As(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Ke()>$u&&(t.flags|=128,n=!0,Wo(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ua(u))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!si)return Qo(t),null}else 2*Ke()-a.renderingStartTime>$u&&1073741824!==r&&(t.flags|=128,n=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=a.last)?r.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,r=oa.current,As(oa,n?1&r|2:1&r),t):(Qo(t),null);case 22:case 23:return hl(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!=(1&t.mode)?0!=(1073741824&Ou)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xo(e,t){switch(ti(t),t.tag){case 1:return Os(t.type)&&Rs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sa(),Ts(Ns),Ts(_s),ca(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(Ts(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ts(oa),null;case 4:return sa(),null;case 10:return Si(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Po=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Oo=function(){},Ro=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ra(Zi.current);var i,a=null;switch(r){case"input":s=H(e,s),n=H(e,n),a=[];break;case"select":s=L({},s,{value:void 0}),n=L({},n,{value:void 0}),a=[];break;case"textarea":s=ne(e,s),n=ne(e,n),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof n.onClick&&(e.onclick=Zn)}for(c in ge(r,n),r=null,s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var u=s[c];for(i in u)u.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(u=null!=s?s[c]:void 0,n.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(i in u)!u.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&u[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(a||(a=[]),a.push(c,r)),r=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Un("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},zo=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ho=!1,Yo=!1,Ko="function"==typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(r){El(e,t,r)}else r.current=null}function eu(e,t,r){try{r()}catch(r){El(e,t,r)}}var tu=!1;function ru(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&eu(t,r,i)}s=s.next}while(s!==n)}}function nu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function su(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function iu(e){var t=e.alternate;null!==t&&(e.alternate=null,iu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fs],delete t[ps],delete t[ms],delete t[vs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function ou(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(uu(e,t,r),e=e.sibling;null!==e;)uu(e,t,r),e=e.sibling}function lu(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(lu(e,t,r),e=e.sibling;null!==e;)lu(e,t,r),e=e.sibling}var cu=null,hu=!1;function fu(e,t,r){for(r=r.child;null!==r;)pu(e,t,r),r=r.sibling}function pu(e,t,r){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,r)}catch(e){}switch(r.tag){case 5:Yo||Zo(r,t);case 6:var n=cu,s=hu;cu=null,fu(e,t,r),hu=s,null!==(cu=n)&&(hu?(e=cu,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cu.removeChild(r.stateNode));break;case 18:null!==cu&&(hu?(e=cu,r=r.stateNode,8===e.nodeType?us(e.parentNode,r):1===e.nodeType&&us(e,r),$t(e)):us(cu,r.stateNode));break;case 4:n=cu,s=hu,cu=r.stateNode.containerInfo,hu=!0,fu(e,t,r),cu=n,hu=s;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!=(2&i)||0!=(4&i))&&eu(r,t,a),s=s.next}while(s!==n)}fu(e,t,r);break;case 1:if(!Yo&&(Zo(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(e){El(r,t,e)}fu(e,t,r);break;case 21:fu(e,t,r);break;case 22:1&r.mode?(Yo=(n=Yo)||null!==r.memoizedState,fu(e,t,r),Yo=n):fu(e,t,r);break;default:fu(e,t,r)}}function du(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Ko),t.forEach((function(t){var n=_l.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function mu(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,u=o;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===cu)throw Error(i(160));pu(a,o,s),cu=null,hu=!1;var l=s.alternate;null!==l&&(l.return=null),s.return=null}catch(e){El(s,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&n){try{ru(3,e,e.return),nu(3,e)}catch(t){El(e,e.return,t)}try{ru(5,e,e.return)}catch(t){El(e,e.return,t)}}break;case 1:mu(t,e),yu(e),512&n&&null!==r&&Zo(r,r.return);break;case 5:if(mu(t,e),yu(e),512&n&&null!==r&&Zo(r,r.return),32&e.flags){var s=e.stateNode;try{fe(s,"")}catch(t){El(e,e.return,t)}}if(4&n&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==r?r.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&K(s,a),be(u,o);var c=be(u,a);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];"style"===h?ve(s,f):"dangerouslySetInnerHTML"===h?he(s,f):"children"===h?fe(s,f):b(s,h,f,c)}switch(u){case"input":J(s,a);break;case"textarea":ie(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var d=a.value;null!=d?re(s,!!a.multiple,d,!1):p!==!!a.multiple&&(null!=a.defaultValue?re(s,!!a.multiple,a.defaultValue,!0):re(s,!!a.multiple,a.multiple?[]:"",!1))}s[ps]=a}catch(t){El(e,e.return,t)}}break;case 6:if(mu(t,e),yu(e),4&n){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(t){El(e,e.return,t)}}break;case 3:if(mu(t,e),yu(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(t){El(e,e.return,t)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(ju=Ke())),4&n&&du(e);break;case 22:if(h=null!==r&&null!==r.memoizedState,1&e.mode?(Yo=(c=Yo)||h,mu(t,e),Yo=c):mu(t,e),yu(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!=(1&e.mode))for(Jo=e,h=e.child;null!==h;){for(f=Jo=h;null!==Jo;){switch(d=(p=Jo).child,p.tag){case 0:case 11:case 14:case 15:ru(4,p,p.return);break;case 1:Zo(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){n=p,r=p.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){El(n,r,e)}}break;case 5:Zo(p,p.return);break;case 22:if(null!==p.memoizedState){ku(f);continue}}null!==d?(d.return=p,Jo=d):ku(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{s=f.stateNode,c?"function"==typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,o=null!=(l=f.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",o))}catch(t){El(e,e.return,t)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(t){El(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(t,e),yu(e),4&n&&du(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(au(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var s=n.stateNode;32&n.flags&&(fe(s,""),n.flags&=-33),lu(e,ou(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;uu(e,ou(e),a);break;default:throw Error(i(161))}}catch(t){El(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,r){Jo=e,bu(e,t,r)}function bu(e,t,r){for(var n=0!=(1&e.mode);null!==Jo;){var s=Jo,i=s.child;if(22===s.tag&&n){var a=null!==s.memoizedState||Ho;if(!a){var o=s.alternate,u=null!==o&&null!==o.memoizedState||Yo;o=Ho;var l=Yo;if(Ho=a,(Yo=u)&&!l)for(Jo=s;null!==Jo;)u=(a=Jo).child,22===a.tag&&null!==a.memoizedState?Su(s):null!==u?(u.return=a,Jo=u):Su(s);for(;null!==i;)Jo=i,bu(i,t,r),i=i.sibling;Jo=s,Ho=o,Yo=l}wu(e)}else 0!=(8772&s.subtreeFlags)&&null!==i?(i.return=s,Jo=i):wu(e)}}function wu(e){for(;null!==Jo;){var t=Jo;if(0!=(8772&t.flags)){var r=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||nu(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Yo)if(null===r)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:vi(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Di(t,a,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Di(t,o,r)}break;case 5:var u=t.stateNode;if(null===r&&4&t.flags){r=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&$t(f)}}}break;default:throw Error(i(163))}Yo||512&t.flags&&su(t)}catch(e){El(t,t.return,e)}}if(t===e){Jo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Jo=r;break}Jo=t.return}}function ku(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Jo=r;break}Jo=t.return}}function Su(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nu(4,t)}catch(e){El(t,r,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var s=t.return;try{n.componentDidMount()}catch(e){El(t,s,e)}}var i=t.return;try{su(t)}catch(e){El(t,i,e)}break;case 5:var a=t.return;try{su(t)}catch(e){El(t,a,e)}}}catch(e){El(t,t.return,e)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var xu,Eu=Math.ceil,Tu=w.ReactCurrentDispatcher,Au=w.ReactCurrentOwner,Cu=w.ReactCurrentBatchConfig,_u=0,Nu=null,Mu=null,Pu=0,Ou=0,Ru=Es(0),zu=0,Iu=null,Fu=0,Lu=0,Du=0,Uu=null,qu=null,ju=0,$u=1/0,Bu=null,Gu=!1,Wu=null,Qu=null,Vu=!1,Xu=null,Hu=0,Yu=0,Ku=null,Ju=-1,Zu=0;function el(){return 0!=(6&_u)?Ke():-1!==Ju?Ju:Ju=Ke()}function tl(e){return 0==(1&e.mode)?1:0!=(2&_u)&&0!==Pu?Pu&-Pu:null!==mi.transition?(0===Zu&&(Zu=mt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,r,n){if(50<Yu)throw Yu=0,Ku=null,Error(i(185));yt(e,r,n),0!=(2&_u)&&e===Nu||(e===Nu&&(0==(2&_u)&&(Lu|=r),4===zu&&ol(e,Pu)),nl(e,n),1===r&&0===_u&&0==(1&t.mode)&&($u=Ke()+500,Us&&$s()))}function nl(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,u=s[a];-1===u?0!=(o&r)&&0==(o&n)||(s[a]=pt(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var n=ft(e,e===Nu?Pu:0);if(0===n)null!==r&&Xe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Xe(r),1===t)0===e.tag?function(e){Us=!0,js(e)}(ul.bind(null,e)):js(ul.bind(null,e)),as((function(){0==(6&_u)&&$s()})),r=null;else{switch(wt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Nl(r,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sl(e,t){if(Ju=-1,Zu=0,0!=(6&_u))throw Error(i(327));var r=e.callbackNode;if(Sl()&&e.callbackNode!==r)return null;var n=ft(e,e===Nu?Pu:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=vl(e,n);else{t=n;var s=_u;_u|=2;var a=dl();for(Nu===e&&Pu===t||(Bu=null,$u=Ke()+500,fl(e,t));;)try{gl();break}catch(t){pl(e,t)}ki(),Tu.current=a,_u=s,null!==Mu?t=0:(Nu=null,Pu=0,t=zu)}if(0!==t){if(2===t&&(0!==(s=dt(e))&&(n=s,t=il(e,s))),1===t)throw r=Iu,fl(e,0),ol(e,n),nl(e,Ke()),r;if(6===t)ol(e,n);else{if(s=e.current.alternate,0==(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!on(i(),s))return!1}catch(e){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=vl(e,n))&&(0!==(a=dt(e))&&(n=a,t=il(e,a))),1===t))throw r=Iu,fl(e,0),ol(e,n),nl(e,Ke()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:kl(e,qu,Bu);break;case 3:if(ol(e,n),(130023424&n)===n&&10<(t=ju+500-Ke())){if(0!==ft(e,0))break;if(((s=e.suspendedLanes)&n)!==n){el(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ns(kl.bind(null,e,qu,Bu),t);break}kl(e,qu,Bu);break;case 4:if(ol(e,n),(4194240&n)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-at(n);a=1<<o,(o=t[o])>s&&(s=o),n&=~a}if(n=s,10<(n=(120>(n=Ke()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Eu(n/1960))-n)){e.timeoutHandle=ns(kl.bind(null,e,qu,Bu),n);break}kl(e,qu,Bu);break;default:throw Error(i(329))}}}return nl(e,Ke()),e.callbackNode===r?sl.bind(null,e):null}function il(e,t){var r=Uu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=qu,qu=r,null!==t&&al(t)),e}function al(e){null===qu?qu=e:qu.push.apply(qu,e)}function ol(e,t){for(t&=~Du,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),n=1<<r;e[r]=-1,t&=~n}}function ul(e){if(0!=(6&_u))throw Error(i(327));Sl();var t=ft(e,0);if(0==(1&t))return nl(e,Ke()),null;var r=vl(e,t);if(0!==e.tag&&2===r){var n=dt(e);0!==n&&(t=n,r=il(e,n))}if(1===r)throw r=Iu,fl(e,0),ol(e,t),nl(e,Ke()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,qu,Bu),nl(e,Ke()),null}function ll(e,t){var r=_u;_u|=1;try{return e(t)}finally{0===(_u=r)&&($u=Ke()+500,Us&&$s())}}function cl(e){null!==Xu&&0===Xu.tag&&0==(6&_u)&&Sl();var t=_u;_u|=1;var r=Cu.transition,n=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=n,Cu.transition=r,0==(6&(_u=t))&&$s()}}function hl(){Ou=Ru.current,Ts(Ru)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ss(r)),null!==Mu)for(r=Mu.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Rs();break;case 3:sa(),Ts(Ns),Ts(_s),ca();break;case 5:aa(n);break;case 4:sa();break;case 13:case 19:Ts(oa);break;case 10:Si(n.type._context);break;case 22:case 23:hl()}r=r.return}if(Nu=e,Mu=e=Rl(e.current,null),Pu=Ou=t,zu=0,Iu=null,Du=Lu=Fu=0,qu=Uu=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(n=(r=Ai[t]).interleaved)){r.interleaved=null;var s=n.next,i=r.pending;if(null!==i){var a=i.next;i.next=s,n.next=a}r.pending=n}Ai=null}return e}function pl(e,t){for(;;){var r=Mu;try{if(ki(),ha.current=io,ya){for(var n=da.memoizedState;null!==n;){var s=n.queue;null!==s&&(s.pending=null),n=n.next}ya=!1}if(pa=0,va=ma=da=null,ga=!1,ba=0,Au.current=null,null===r||null===r.return){zu=1,Iu=t,Mu=null;break}e:{var a=e,o=r.return,u=r,l=t;if(t=Pu,u.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,h=u,f=h.tag;if(0==(1&h.mode)&&(0===f||11===f||15===f)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=vo(o);if(null!==d){d.flags&=-257,yo(d,o,u,0,t),1&d.mode&&mo(a,c,t),l=c;var m=(t=d).updateQueue;if(null===m){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}if(0==(1&t)){mo(a,c,t),ml();break e}l=Error(i(426))}else if(si&&1&u.mode){var y=vo(o);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),yo(y,o,u,0,t),di(lo(l,u));break e}}a=l=lo(l,u),4!==zu&&(zu=2),null===Uu?Uu=[a]:Uu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fi(a,fo(0,l,t));break e;case 1:u=l;var g=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof g.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Qu||!Qu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fi(a,po(a,u,t));break e}}a=a.return}while(null!==a)}wl(r)}catch(e){t=e,Mu===r&&null!==r&&(Mu=r=r.return);continue}break}}function dl(){var e=Tu.current;return Tu.current=io,null===e?io:e}function ml(){0!==zu&&3!==zu&&2!==zu||(zu=4),null===Nu||0==(268435455&Fu)&&0==(268435455&Lu)||ol(Nu,Pu)}function vl(e,t){var r=_u;_u|=2;var n=dl();for(Nu===e&&Pu===t||(Bu=null,fl(e,t));;)try{yl();break}catch(t){pl(e,t)}if(ki(),_u=r,Tu.current=n,null!==Mu)throw Error(i(261));return Nu=null,Pu=0,zu}function yl(){for(;null!==Mu;)bl(Mu)}function gl(){for(;null!==Mu&&!He();)bl(Mu)}function bl(e){var t=xu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?wl(e):Mu=t,Au.current=null}function wl(e){var t=e;do{var r=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(r=Vo(r,t,Ou)))return void(Mu=r)}else{if(null!==(r=Xo(r,t)))return r.flags&=32767,void(Mu=r);if(null===e)return zu=6,void(Mu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Mu=t);Mu=t=e}while(null!==t);0===zu&&(zu=5)}function kl(e,t,r){var n=bt,s=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,r,n){do{Sl()}while(null!==Xu);if(0!=(6&_u))throw Error(i(327));r=e.finishedWork;var s=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-at(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}(e,a),e===Nu&&(Mu=Nu=null,Pu=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||Vu||(Vu=!0,Nl(tt,(function(){return Sl(),null}))),a=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var o=bt;bt=1;var u=_u;_u|=4,Au.current=null,function(e,t){if(es=Gt,pn(e=fn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(e){r=null;break e}var o=0,u=-1,l=-1,c=0,h=0,f=e,p=null;t:for(;;){for(var d;f!==r||0!==s&&3!==f.nodeType||(u=o+s),f!==a||0!==n&&3!==f.nodeType||(l=o+n),3===f.nodeType&&(o+=f.nodeValue.length),null!==(d=f.firstChild);)p=f,f=d;for(;;){if(f===e)break t;if(p===r&&++c===s&&(u=o),p===a&&++h===n&&(l=o),null!==(d=f.nextSibling))break;p=(f=p).parentNode}f=d}r=-1===u||-1===l?null:{start:u,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ts={focusedElem:e,selectionRange:r},Gt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,y=m.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:vi(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(e){El(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tu,tu=!1}(e,r),vu(r,e),dn(ts),Gt=!!es,ts=es=null,e.current=r,gu(r,e,s),Ye(),_u=u,bt=o,Cu.transition=a}else e.current=r;if(Vu&&(Vu=!1,Xu=e,Hu=s),a=e.pendingLanes,0===a&&(Qu=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128==(128&e.current.flags))}catch(e){}}(r.stateNode),nl(e,Ke()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Gu)throw Gu=!1,e=Wu,Wu=null,e;0!=(1&Hu)&&0!==e.tag&&Sl(),a=e.pendingLanes,0!=(1&a)?e===Ku?Yu++:(Yu=0,Ku=e):Yu=0,$s()}(e,t,r,n)}finally{Cu.transition=s,bt=n}return null}function Sl(){if(null!==Xu){var e=wt(Hu),t=Cu.transition,r=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Xu)var n=!1;else{if(e=Xu,Xu=null,Hu=0,0!=(6&_u))throw Error(i(331));var s=_u;for(_u|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!=(16&Jo.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Jo=c;null!==Jo;){var h=Jo;switch(h.tag){case 0:case 11:case 15:ru(8,h,a)}var f=h.child;if(null!==f)f.return=h,Jo=f;else for(;null!==Jo;){var p=(h=Jo).sibling,d=h.return;if(iu(h),h===c){Jo=null;break}if(null!==p){p.return=d,Jo=p;break}Jo=d}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Jo=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!=(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Jo=g;break e}Jo=a.return}}var b=e.current;for(Jo=b;null!==Jo;){var w=(o=Jo).child;if(0!=(2064&o.subtreeFlags)&&null!==w)w.return=o,Jo=w;else e:for(o=b;null!==Jo;){if(0!=(2048&(u=Jo).flags))try{switch(u.tag){case 0:case 11:case 15:nu(9,u)}}catch(e){El(u,u.return,e)}if(u===o){Jo=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Jo=k;break e}Jo=u.return}}if(_u=s,$s(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(e){}n=!0}return n}finally{bt=r,Cu.transition=t}}return!1}function xl(e,t,r){e=zi(e,t=fo(0,t=lo(r,t),1),1),t=el(),null!==e&&(yt(e,1,t),nl(e,t))}function El(e,t,r){if(3===e.tag)xl(e,e,r);else for(;null!==t;){if(3===t.tag){xl(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Qu||!Qu.has(n))){t=zi(t,e=po(t,e=lo(r,e),1),1),e=el(),null!==t&&(yt(t,1,e),nl(t,e));break}}t=t.return}}function Tl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&r,Nu===e&&(Pu&r)===r&&(4===zu||3===zu&&(130023424&Pu)===Pu&&500>Ke()-ju?fl(e,0):Du|=r),nl(e,t)}function Al(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ct,0==(130023424&(ct<<=1))&&(ct=4194304)));var r=el();null!==(e=Ni(e,t))&&(yt(e,t,r),nl(e,r))}function Cl(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Al(e,r)}function _l(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Al(e,r)}function Nl(e,t){return Ve(e,t)}function Ml(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,r,n){return new Ml(e,t,r,n)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var r=e.alternate;return null===r?((r=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zl(e,t,r,n,s,a){var o=2;if(n=e,"function"==typeof e)Ol(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case x:return Il(r.children,s,a,t);case E:o=8,s|=8;break;case T:return(e=Pl(12,r,t,2|s)).elementType=T,e.lanes=a,e;case N:return(e=Pl(13,r,t,s)).elementType=N,e.lanes=a,e;case M:return(e=Pl(19,r,t,s)).elementType=M,e.lanes=a,e;case R:return Fl(r,s,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case C:o=9;break e;case _:o=11;break e;case P:o=14;break e;case O:o=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pl(o,r,t,s)).elementType=e,t.type=n,t.lanes=a,t}function Il(e,t,r,n){return(e=Pl(7,e,n,t)).lanes=r,e}function Fl(e,t,r,n){return(e=Pl(22,e,n,t)).elementType=R,e.lanes=r,e.stateNode={isHidden:!1},e}function Ll(e,t,r){return(e=Pl(6,e,null,t)).lanes=r,e}function Dl(e,t,r){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ql(e,t,r,n,s,i,a,o,u){return e=new Ul(e,t,r,o,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function jl(e){if(!e)return Cs;e:{if($e(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Os(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Os(r))return Is(e,r,t)}return t}function $l(e,t,r,n,s,i,a,o,u){return(e=ql(r,n,!0,e,0,i,0,o,u)).context=jl(null),r=e.current,(i=Ri(n=el(),s=tl(r))).callback=null!=t?t:null,zi(r,i,s),e.current.lanes=s,yt(e,s,n),nl(e,n),e}function Bl(e,t,r,n){var s=t.current,i=el(),a=tl(s);return r=jl(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ri(i,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=zi(s,t,a))&&(rl(e,s,a,i),Ii(e,s,a)),a}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Ql(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}xu=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ns.current)bo=!0;else{if(0==(e.lanes&r)&&0==(128&t.flags))return bo=!1,function(e,t,r){switch(t.tag){case 3:No(t),pi();break;case 5:ia(t);break;case 1:Os(t.type)&&Fs(t);break;case 4:na(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;As(yi,n._currentValue),n._currentValue=s;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(As(oa,1&oa.current),t.flags|=128,null):0!=(r&t.child.childLanes)?Lo(e,t,r):(As(oa,1&oa.current),null!==(e=Go(e,t,r))?e.sibling:null);As(oa,1&oa.current);break;case 19:if(n=0!=(r&t.childLanes),0!=(128&e.flags)){if(n)return $o(e,t,r);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),As(oa,oa.current),n)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,r)}return Go(e,t,r)}(e,t,r);bo=0!=(131072&e.flags)}else bo=!1,si&&0!=(1048576&t.flags)&&Zs(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bo(e,t),e=t.pendingProps;var s=Ps(t,_s.current);Ei(t,r),s=xa(null,t,n,e,s,r);var a=Ea();return t.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Os(n)?(a=!0,Fs(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Pi(t),s.updater=ji,t.stateNode=s,s._reactInternals=t,Wi(t,n,e,r),t=_o(null,t,n,!0,a,r)):(t.tag=0,si&&a&&ei(t),wo(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,n=(s=n._init)(n._payload),t.type=n,s=t.tag=function(e){if("function"==typeof e)return Ol(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===P)return 14}return 2}(n),e=vi(n,e),s){case 0:t=Ao(null,t,n,e,r);break e;case 1:t=Co(null,t,n,e,r);break e;case 11:t=ko(null,t,n,e,r);break e;case 14:t=So(null,t,n,vi(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,Ao(e,t,n,s=t.elementType===n?s:vi(n,s),r);case 1:return n=t.type,s=t.pendingProps,Co(e,t,n,s=t.elementType===n?s:vi(n,s),r);case 3:e:{if(No(t),null===e)throw Error(i(387));n=t.pendingProps,s=(a=t.memoizedState).element,Oi(e,t),Li(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Mo(e,t,n,r,s=lo(Error(i(423)),t));break e}if(n!==s){t=Mo(e,t,n,r,s=lo(Error(i(424)),t));break e}for(ni=ls(t.stateNode.containerInfo.firstChild),ri=t,si=!0,ii=null,r=Ki(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(pi(),n===s){t=Go(e,t,r);break e}wo(e,t,n,r)}t=t.child}return t;case 5:return ia(t),null===e&&li(t),n=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,rs(n,s)?o=null:null!==a&&rs(n,a)&&(t.flags|=32),To(e,t),wo(e,t,o,r),t.child;case 6:return null===e&&li(t),null;case 13:return Lo(e,t,r);case 4:return na(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Yi(t,null,n,r):wo(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,ko(e,t,n,s=t.elementType===n?s:vi(n,s),r);case 7:return wo(e,t,t.pendingProps,r),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,As(yi,n._currentValue),n._currentValue=o,null!==a)if(on(a.value,o)){if(a.children===s.children&&!Ns.current){t=Go(e,t,r);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){o=a.child;for(var l=u.firstContext;null!==l;){if(l.context===n){if(1===a.tag){(l=Ri(-1,r&-r)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=r,null!==(l=a.alternate)&&(l.lanes|=r),xi(a.return,r,t),u.lanes|=r;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=r,null!==(u=o.alternate)&&(u.lanes|=r),xi(o,r,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ei(t,r),n=n(s=Ti(s)),t.flags|=1,wo(e,t,n,r),t.child;case 14:return s=vi(n=t.type,t.pendingProps),So(e,t,n,s=vi(n.type,s),r);case 15:return xo(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vi(n,s),Bo(e,t),t.tag=1,Os(n)?(e=!0,Fs(t)):e=!1,Ei(t,r),Bi(t,n,s),Wi(t,n,s,r),_o(null,t,n,!0,e,r);case 19:return $o(e,t,r);case 22:return Eo(e,t,r)}throw Error(i(156,t.tag))};var Vl="function"==typeof reportError?reportError:function(e){};function Xl(e){this._internalRoot=e}function Hl(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function Zl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if("function"==typeof s){var o=s;s=function(){var e=Gl(a);o.call(e)}}Bl(t,a,e,s)}else a=function(e,t,r,n,s){if(s){if("function"==typeof n){var i=n;n=function(){var e=Gl(a);i.call(e)}}var a=$l(t,n,e,0,null,!1,0,"",Jl);return e._reactRootContainer=a,e[ds]=a.current,$n(8===e.nodeType?e.parentNode:e),cl(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof n){var o=n;n=function(){var e=Gl(u);o.call(e)}}var u=ql(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[ds]=u.current,$n(8===e.nodeType?e.parentNode:e),cl((function(){Bl(t,u,r,n)})),u}(r,t,e,s,n);return Gl(a)}Hl.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Bl(e,t,null,null)},Hl.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Bl(null,e,null,null)})),t[ds]=null}},Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rt.length&&0!==t&&t<Rt[r].priority;r++);Rt.splice(r,0,e),0===r&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ht(t.pendingLanes);0!==r&&(gt(t,1|r),nl(t,Ke()),0==(6&_u)&&($u=Ke()+500,$s()))}break;case 13:cl((function(){var t=Ni(e,1);if(null!==t){var r=el();rl(t,e,1,r)}})),Ql(e,1)}},St=function(e){if(13===e.tag){var t=Ni(e,134217728);if(null!==t)rl(t,e,134217728,el());Ql(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),r=Ni(e,t);if(null!==r)rl(r,e,t,el());Ql(e,t)}},Et=function(){return bt},Tt=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},Se=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ks(n);if(!s)throw Error(i(90));V(n),J(n,s)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},_e=ll,Ne=cl;var ec={usingClientEntryPoint:!1,Events:[bs,ws,ks,Ae,Ce,ll]},tc={findFiberByHostInstance:gs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{st=nc.inject(rc),it=nc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Yl(e))throw Error(i(299));var r=!1,n="",s=Vl;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=ql(e,1,!1,null,0,r,0,n,s),e[ds]=t.current,$n(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,r){if(!Kl(t))throw Error(i(200));return Zl(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Yl(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,s=!1,a="",o=Vl;if(null!=r&&(!0===r.unstable_strictMode&&(s=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=$l(t,null,e,1,null!=r?r:null,s,0,a,o),e[ds]=t.current,$n(e),n)for(e=0;e<n.length;e++)s=(s=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Hl(t)},t.render=function(e,t,r){if(!Kl(t))throw Error(i(200));return Zl(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Kl(e))throw Error(i(40));return!!e._reactRootContainer&&(cl((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[ds]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Kl(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zl(e,t,r,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},745:(e,t,r)=>{"use strict";var n=r(935);t.s=n.createRoot,n.hydrateRoot},935:(e,t,r)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}}(),e.exports=r(448)},251:(e,t,r)=>{"use strict";var n=r(294),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,i={},l=null,c=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,n)&&!u.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:s,type:e,key:l,ref:c,props:i,_owner:o.current}}t.jsx=l,t.jsxs=l},408:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function y(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||d}function g(){}function b(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||d}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=b.prototype=new g;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,s)&&!E.hasOwnProperty(s)&&(i[s]=t[s]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(s in u=e.defaultProps)void 0===i[s]&&(i[s]=u[s]);return{$$typeof:r,type:e,key:a,ref:o,props:i,_owner:x.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function _(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var u=!1;if(null===e)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0}}if(u)return a=a(u=e),e=""===i?"."+_(u,0):i,k(a)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),N(a,t,s,"",(function(e){return e}))):null!=a&&(A(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,i=""===i?".":i+":",k(e))for(var l=0;l<e.length;l++){var c=i+_(o=e[l],l);u+=N(o,t,s,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),l=0;!(o=e.next()).done;)u+=N(o=o.value,t,s,c=i+_(o,l++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function M(e,t,r){if(null==e)return e;var n=[],s=0;return N(e,n,"","",(function(e){return t.call(r,e,s++)})),n}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},z={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:M,forEach:function(e,t,r){M(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)S.call(t,l)&&!E.hasOwnProperty(l)&&(s[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}return{$$typeof:r,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,r){return O.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,r){return O.current.useReducer(e,t,r)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return O.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},294:(e,t,r)=>{"use strict";e.exports=r(408)},893:(e,t,r)=>{"use strict";e.exports=r(251)},53:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(!(0<i(s,t)))break e;e[n]=t,e[r]=s,r=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,a=s>>>1;n<a;){var o=2*(n+1)-1,u=e[o],l=o+1,c=e[l];if(0>i(u,r))l<s&&0>i(c,u)?(e[n]=c,e[l]=r,n=l):(e[n]=u,e[o]=r,n=o);else{if(!(l<s&&0>i(c,r)))break e;e[n]=c,e[l]=r,n=l}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var l=[],c=[],h=1,f=null,p=3,d=!1,m=!1,v=!1,y="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=n(c);null!==t;){if(null===t.callback)s(c);else{if(!(t.startTime<=e))break;s(c),t.sortIndex=t.expirationTime,r(l,t)}t=n(c)}}function k(e){if(v=!1,w(e),!m)if(null!==n(l))m=!0,R(S);else{var t=n(c);null!==t&&z(k,t.startTime-e)}}function S(e,r){m=!1,v&&(v=!1,g(A),A=-1),d=!0;var i=p;try{for(w(r),f=n(l);null!==f&&(!(f.expirationTime>r)||e&&!N());){var a=f.callback;if("function"==typeof a){f.callback=null,p=f.priorityLevel;var o=a(f.expirationTime<=r);r=t.unstable_now(),"function"==typeof o?f.callback=o:f===n(l)&&s(l),w(r)}else s(l);f=n(l)}if(null!==f)var u=!0;else{var h=n(c);null!==h&&z(k,h.startTime-r),u=!1}return u}finally{f=null,p=i,d=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,T=null,A=-1,C=5,_=-1;function N(){return!(t.unstable_now()-_<C)}function M(){if(null!==T){var e=t.unstable_now();_=e;var r=!0;try{r=T(!0,e)}finally{r?x():(E=!1,T=null)}}else E=!1}if("function"==typeof b)x=function(){b(M)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=M,x=function(){O.postMessage(null)}}else x=function(){y(M,0)};function R(e){T=e,E||(E=!0,x())}function z(e,r){A=y((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e||(C=0<e?Math.floor(1e3/e):5)},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,r(c,e),null===n(l)&&e===n(c)&&(v?(g(A),A=-1):v=!0,z(k,i-a))):(e.sortIndex=o,r(l,e),m||d||(m=!0,R(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},840:(e,t,r)=>{"use strict";e.exports=r(53)},771:(e,t,r)=>{"use strict";var n=r(294);var s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useSyncExternalStore,a=n.useRef,o=n.useEffect,u=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,c){var h=a(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=u((function(){function e(e){if(!o){if(o=!0,i=e,e=n(e),void 0!==c&&f.hasValue){var t=f.value;if(c(t,e))return a=t}return a=e}if(t=a,s(i,e))return t;var r=n(e);return void 0!==c&&c(t,r)?t:(i=e,a=r)}var i,a,o=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,r,n,c]);var p=i(e,h[0],h[1]);return o((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},103:(e,t,r)=>{"use strict";e.exports=r(771)},262:e=>{var t;self,t=()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{X:()=>be,XSound:()=>be});class AudioWorkletProcessor{port=new MessagePort}function r(e,t,r){return e.audioWorklet.addModule(function(e){return`data:text/javascript,${encodeURIComponent(e.toString())}; registerProcessor('${e.name}', ${e.name})`}(t),r)}class SoundModuleProcessor extends AudioWorkletProcessor{constructor(){super()}process(e,t){const r=e[0],n=t[0];for(let e=0,t=r.length;e<t;e++)n[e].set(r[e]);return!0}}class OscillatorModuleProcessor extends AudioWorkletProcessor{constructor(){super()}process(e,t){const r=e[0],n=t[0];for(let e=0,t=r.length;e<t;e++)n[e].set(r[e]);return!0}}class n{static XMLNS="http://www.w3.org/2000/svg";static XLINK="http://www.w3.org/1999/xlink";static SVG_LINEAR_GRADIENT_ID_TIME_OVERVIEW="svg-linear-gradient-time-overview";static SVG_LINEAR_GRADIENT_ID_TIME="svg-linear-gradient-time";static SVG_LINEAR_GRADIENT_ID_FFT="svg-linear-gradient-fft";sampleRate;channel;isActive=!1;graphics="";canvas=null;context=null;svg=null;interval=1e3;styles={shape:"line",gradients:[{offset:0,color:"rgba(0, 128, 255, 1.0)"},{offset:1,color:"rgba(0, 0, 255, 1.0)"}],wave:"rgba(0, 0, 255, 1.0)",grid:"rgba(255, 0, 0, 1.0)",text:"rgba(255, 255, 255, 1.0)",font:{family:"Arial",size:"13px",style:"normal",weight:"normal"},width:1.5,cap:"round",join:"miter",top:15,right:30,bottom:15,left:30};constructor(e,t){this.sampleRate=e,this.channel=t}setup(e){return e instanceof HTMLCanvasElement?(this.graphics="canvas",this.canvas=e,this.context=this.canvas.getContext("2d")):e instanceof SVGSVGElement&&(this.graphics="svg",this.svg=e),this}start(e,t,r){switch(this.graphics){case"canvas":this.visualizeOnCanvas(e,t,r);break;case"svg":this.visualizeBySVG(e,t,r)}return this}param(e){if("string"==typeof e)switch(e){case"interval":return this.interval;case"styles":return this.styles}for(const[t,r]of Object.entries(e))switch(t){case"interval":"number"==typeof r&&(this.interval=r);break;case"styles":"object"==typeof r&&(this.styles={...this.styles,...r})}}get(){switch(this.graphics){case"canvas":return this.canvas;case"svg":return this.svg;default:return null}}clear(){switch(this.graphics){case"canvas":this.canvas&&this.context&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height);break;case"svg":this.svg&&(this.svg.innerHTML="")}return this}create(){switch(this.graphics){case"canvas":return null===this.canvas?"":this.canvas.toDataURL("image/png").replace("image/png","image/octet-stream");case"svg":return null===this.svg?"":this.svg.outerHTML;default:return""}}state(){return this.isActive}activate(){return this.isActive=!0,this}deactivate(){return this.isActive=!1,this}visualizeTimeDomainFloat32ArrayOnCanvas(e,t,r,n,s,i){const a=this.styles.top??15,o=this.styles.left??30,u=this.styles.width??1.5,l=this.styles.cap??"round",c=this.styles.join??"miter",h=this.styles.wave??"rgba(0, 0, 255, 1.0)";switch(this.styles.shape){case"line":e.strokeStyle=h,e.lineWidth=u,e.lineCap=l,e.lineJoin=c,e.beginPath();for(let s=0,u=t.length;s<u;s++)if(!i||s%i==0){const i=s/u*r+o,l=(1-t[s])*(n/2)+a;0===s?e.moveTo(i+e.lineWidth/2,l):e.lineTo(i,l)}e.stroke();break;case"rect":for(let l=0,c=t.length;l<c;l++)if(!i||l%i==0){const i=l/c*r+o,f=t[l]*(n/2)*-1;if(this.styles.gradients){const t=n/2+a,r=e.createLinearGradient(0,t,0,t+f);for(const e of this.styles.gradients)r.addColorStop(e.offset,e.color);e.fillStyle=r}else e.fillStyle=h;e.fillRect(i,s,u,f)}}}visualizeTimeDomainFloat32ArrayBySVG(e,t,r,s,i,a){const o=this.styles.top??15,u=this.styles.left??30,l=this.styles.width??1.5,c=this.styles.cap??"round",h=this.styles.join??"miter",f=this.styles.wave??"rgba(0, 0, 255, 1.0)";switch(this.styles.shape){case"line":{const s=document.createElementNS(n.XMLNS,"path");let a="";for(let n=0,s=e.length;n<s;n++)if(n%i==0){const i=n/s*t+u,l=(1-e[n])*(r/2)+o;a+=0===n?`M${i+(this.styles.width??1.5)/2} ${l}`:` L${i} ${l}`}return s.setAttribute("d",a),s.setAttribute("stroke",f),s.setAttribute("fill","none"),s.setAttribute("stroke-width",l.toString(10)),s.setAttribute("stroke-linecap",c),s.setAttribute("stroke-linejoin",h),s}case"rect":{let o=null;this.styles.gradients&&(o=this.createSVGLinearGradient(a));const c=document.createElementNS(n.XMLNS,"g");null!==o&&c.appendChild(o);for(let h=0,p=e.length;h<p;h++)if(h%i==0){const i=document.createElementNS(n.XMLNS,"rect"),d=h/p*t+u,m=e[h]*(r/2);i.setAttribute("x",d.toString(10)),i.setAttribute("y",s.toString(10)),i.setAttribute("width",l.toString(10)),i.setAttribute("height",Math.abs(m).toString(10)),m>=0&&i.setAttribute("transform",`rotate(180 ${d+l/2} ${s})`),i.setAttribute("stroke","none"),i.setAttribute("fill",null===o?f:`url(#${a})`),c.appendChild(i)}return c}default:return null}}createSVGLinearGradient(e){if(!this.styles.gradients)return null;const t=document.createElementNS(n.XMLNS,"defs"),r=document.createElementNS(n.XMLNS,"linearGradient");r.setAttribute("id",e),r.setAttribute("x1","0%"),r.setAttribute("y1","0%"),r.setAttribute("x2","0%"),r.setAttribute("y2","100%");for(const e of this.styles.gradients){const t=document.createElementNS(n.XMLNS,"stop");t.setAttribute("offset",e.offset.toString(10)),t.setAttribute("stop-color",e.color),r.appendChild(t)}return t.appendChild(r),t}createFontString(){const{style:e,weight:t,size:r,family:n}=this.styles.font??{};return`${e??"normal"} ${t??"normal"} ${r??"13px"} "${n??"Arial"}"`}}const s="xsound-svg-current-time",i="xsound-svg-sprite";class a extends n{callback=()=>{};currentImageData=null;currentSVGElement=null;currentDataSize=0;currentTime={width:1,color:"rgba(0, 0, 0, 0.5)"};sprite="rgba(255, 255, 255, 0.25)";plotInterval=.0625;textInterval=60;isDown=!1;mode="update";offsetX=0;startTime=0;endTime=0;constructor(e,t){super(e,t),this.onMouseStart=this.onMouseStart.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)}setup(e){return super.setup(e),this}param(e){if("string"==typeof e)switch(e){case"currentTime":return this.currentTime;case"sprite":return this.sprite;case"plotInterval":return this.plotInterval;case"textInterval":return this.textInterval;case"mode":return this.mode;case"interval":case"styles":return super.param(e)}for(const[t,r]of Object.entries(e))switch(t){case"currentTime":"object"==typeof r&&(this.currentTime={...this.currentTime,...r});break;case"sprite":"string"==typeof r&&(this.sprite=r);break;case"plotInterval":"number"==typeof r&&(this.plotInterval=r);break;case"textInterval":"number"==typeof r&&(this.textInterval=r);break;case"mode":"string"==typeof r&&("update"!==r&&"sprite"!==r||(this.mode=r))}return super.param(e),this}update(e){switch(this.graphics){case"canvas":{if(null===this.currentImageData)return this;if(null===this.canvas||null===this.context)return this;const t=this.context,r=this.canvas.width,n=this.canvas.height,s=r-((this.styles.left??30)+(this.styles.right??30)),i=n-((this.styles.top??15)+(this.styles.bottom??15)),a=e*this.sampleRate/this.currentDataSize*s,o=this.styles.left??30,u=this.styles.top??15,l=this.currentTime.color??"rgba(0, 0, 0, 0.5)";switch(t.clearRect(0,0,r,n),t.putImageData(this.currentImageData,0,0),this.mode){case"update":t.fillStyle=l,t.fillRect(o,u+1,a,i-1);break;case"sprite":if(0!==this.endTime){const e=Math.trunc(Math.abs(this.endTime-this.startTime)*this.sampleRate/this.currentDataSize*s);t.fillStyle=this.sprite,a>=this.offsetX?t.fillRect(o+this.offsetX,u+1,e,i-1):t.fillRect(o+this.offsetX-e,u+1,e,i-1)}t.fillStyle=l,a>=this.offsetX?t.fillRect(o+this.offsetX,u+1,Math.abs(a-this.offsetX),i-1):t.fillRect(o+a,u+1,Math.abs(a-this.offsetX),i-1)}break}case"svg":if(null===this.currentSVGElement)return this;if(this.svg){const t=this.svg.querySelector(`.${s}`);if(null===t)return this;const r=Number(this.svg.getAttribute("width")??"0"),n=this.styles.top??15,o=this.styles.left??30,u=r-(o+(this.styles.right??30)),l=e*this.sampleRate/this.currentDataSize*u;if("update"===this.mode){const e=this.svg.querySelector(`.${i}`);e&&e.parentNode?.removeChild(e),t.setAttribute("x",o.toString(10)),t.setAttribute("width",l.toString(10)),t.setAttribute("aria-label","current time")}else if("sprite"===this.mode){if(0!==this.endTime){const e=this.svg.querySelector(`.${i}`);e&&e.parentNode?.removeChild(e);const r=document.createElementNS(a.XMLNS,"rect");r.classList.add(i);const s=Math.trunc(Math.abs(this.endTime-this.startTime)*this.sampleRate/this.currentDataSize*u);r.setAttribute("y",(n+1).toString(10)),r.setAttribute("height",t.getAttribute("height")??"0"),r.setAttribute("stroke","none"),r.setAttribute("fill",this.sprite),r.setAttribute("aria-label","current time"),l>=this.offsetX?r.setAttribute("x",(o+this.offsetX).toString(10)):r.setAttribute("x",(o+this.offsetX-s).toString(10)),r.setAttribute("width",s.toString(10)),this.svg.appendChild(r),this.svg.appendChild(t)}l>=this.offsetX?t.setAttribute("x",(o+this.offsetX).toString(10)):t.setAttribute("x",(o+l).toString(10)),t.setAttribute("width",Math.abs(l-this.offsetX).toString(10)),t.setAttribute("aria-label","sprite time")}}}return this}drag(e){let t=null;switch(this.graphics){case"canvas":if(null===this.canvas)return this;t=this.canvas;break;case"svg":if(null===this.svg)return this;t=this.svg}return null===t||(e&&(this.callback=e),t.removeEventListener("mousedown",{handleEvent:this.onMouseStart},!1),t.removeEventListener("mousemove",{handleEvent:this.onMouseMove},!1),window.removeEventListener("mouseup",{handleEvent:this.onMouseUp},!1),t.removeEventListener("touchstart",{handleEvent:this.onTouchStart},!1),t.removeEventListener("touchmove",{handleEvent:this.onTouchMove},!1),window.removeEventListener("touchend",{handleEvent:this.onTouchEnd},!1),t.addEventListener("mousedown",{handleEvent:this.onMouseStart},!1),t.addEventListener("mousemove",{handleEvent:this.onMouseMove},!1),window.addEventListener("mouseup",{handleEvent:this.onMouseUp},!1),t.addEventListener("touchstart",{handleEvent:this.onTouchStart},!1),t.addEventListener("touchmove",{handleEvent:this.onTouchMove},!1),window.addEventListener("touchend",{handleEvent:this.onTouchEnd},!1)),this}clear(){return super.clear(),this}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}visualizeOnCanvas(e,t,r){if(null===this.canvas||null===this.context||!this.isActive||e instanceof Uint8Array)return;const n=this.context,s=this.canvas.width,i=this.canvas.height,a=this.styles.top??15,o=this.styles.bottom??15,u=this.styles.left??30,l=s-(u+(this.styles.right??30)),c=i-(a+o),h=Math.trunc(c/2)+a,f=this.styles.grid??"none",p=this.styles.text??"none",d=parseInt(this.styles.font?.size??"13px",10),m=Math.trunc(this.plotInterval*this.sampleRate),v=Math.trunc(this.textInterval*this.sampleRate);if(n.clearRect(0,0,s,i),this.visualizeTimeDomainFloat32ArrayOnCanvas(n,e,l,c,h,m),"none"!==f||"none"!==p){for(let t=0,r=e.length;t<r;t++)if(t%v==0){const e=Math.trunc(t/r*l)+u,s=`${Math.trunc(t/this.sampleRate/60)} min`;"none"!==f&&(n.fillStyle=f,n.fillRect(e,a,1,c)),"none"!==p&&(n.fillStyle=p,n.font=this.createFontString(),n.fillText(s,e-n.measureText(s).width/2,a+c+d))}for(const e of["-1.00","-0.50"," 0.00"," 0.50"," 1.00"]){const t=Math.trunc(u-n.measureText(e).width),r=Math.trunc((1-Number(e.trim()))*(c/2))+a;"none"!==f&&(n.fillStyle=f,n.fillRect(u,r,l,1)),"none"!==p&&(n.fillStyle=p,n.font=this.createFontString(),n.fillText(e,t,r-Math.trunc(d/4)))}}this.currentImageData=n.getImageData(0,0,s,i),this.currentDataSize=e.length,n.fillStyle=this.currentTime.color??"rgba(0, 0, 0, 0.5)",n.fillRect(u,a,1,c)}visualizeBySVG(e,t,r){if(null===this.svg||!this.isActive||e instanceof Uint8Array)return;const n=this.svg,i=Number(n.getAttribute("width")??"0"),o=Number(n.getAttribute("height")??"0"),u=this.styles.top??15,l=this.styles.bottom??15,c=this.styles.left??30,h=i-(c+(this.styles.right??30)),f=o-(u+l),p=Math.trunc(f/2)+u,d=this.styles.grid??"none",m=this.styles.text??"none",v=parseInt(this.styles.font?.size??"13px",10),y=Math.trunc(this.plotInterval*this.sampleRate),g=Math.trunc(this.textInterval*this.sampleRate);n.innerHTML="";const b=this.visualizeTimeDomainFloat32ArrayBySVG(e,h,f,p,y,`${a.SVG_LINEAR_GRADIENT_ID_TIME_OVERVIEW}-${this.channel}`);if(b&&n.appendChild(b),"none"!==d||"none"!==m){for(let t=0,r=e.length;t<r;t++)if(t%g==0){const e=Math.trunc(t/r*h)+c,s=`${Math.trunc(t/this.sampleRate/60)} min`;if("none"!==d){const t=document.createElementNS(a.XMLNS,"rect");t.setAttribute("x",e.toString(10)),t.setAttribute("y",u.toString(10)),t.setAttribute("width","1"),t.setAttribute("height",f.toString(10)),t.setAttribute("stroke","none"),t.setAttribute("fill",d),n.appendChild(t)}if("none"!==m){const t=document.createElementNS(a.XMLNS,"text");t.textContent=s,t.setAttribute("x",e.toString(10)),t.setAttribute("y",(u+f+v).toString(10)),t.setAttribute("text-anchor","middle"),t.setAttribute("stroke","none"),t.setAttribute("fill",m),t.setAttribute("font-family",this.styles.font?.family??"Arial"),t.setAttribute("font-size",v.toString(10)),t.setAttribute("font-style",this.styles.font?.style??"normal"),t.setAttribute("font-weight",this.styles.font?.weight??"normal"),n.appendChild(t)}}for(const e of["-1.00","-0.50"," 0.00"," 0.50"," 1.00"]){const t=c,r=Math.trunc((1-Number(e.trim()))*(f/2))+u;if("none"!==d){const e=document.createElementNS(a.XMLNS,"rect");e.setAttribute("x",t.toString(10)),e.setAttribute("y",r.toString(10)),e.setAttribute("width",h.toString(10)),e.setAttribute("height","1"),e.setAttribute("stroke","none"),e.setAttribute("fill",d),n.appendChild(e)}if("none"!==m){const s=document.createElementNS(a.XMLNS,"text");s.textContent=e,s.setAttribute("x",t.toString(10)),s.setAttribute("y",(r-Math.trunc(v/4)).toString(10)),s.setAttribute("text-anchor","end"),s.setAttribute("stroke","none"),s.setAttribute("fill",m),s.setAttribute("font-family",this.styles.font?.family??"Arial"),s.setAttribute("font-size",v.toString(10)),s.setAttribute("font-style",this.styles.font?.style??"normal"),s.setAttribute("font-weight",this.styles.font?.weight??"normal"),n.appendChild(s)}}}const w=document.createElementNS(a.XMLNS,"rect");w.classList.add(s),w.setAttribute("y",(u+1).toString(10)),w.setAttribute("height",(f-1).toString(10)),w.setAttribute("stroke","none"),w.setAttribute("fill",this.currentTime.color??"rgba(0, 0, 0, 0.5)"),n.appendChild(w),this.currentSVGElement=n,this.currentDataSize=e.length}visualize(e,t,r){let n=0,s=0;switch(this.graphics){case"canvas":if(null===this.canvas)return;n=this.canvas.offsetLeft,s=this.canvas.width;break;case"svg":if(null===this.svg)return;n=this.svg.parentElement?.offsetLeft??0,s=Number(this.svg.getAttribute("width")??"0")}let i=r-(n+(this.styles.left??30));"canvas"===this.graphics&&this.canvas?.parentElement&&(i+=this.canvas.parentElement.scrollLeft),"svg"===this.graphics&&this.svg?.parentElement&&(i+=this.svg.parentElement.scrollLeft),s-=(this.styles.left??30)+(this.styles.right??30),i<0&&(i=0),i>s&&(i=s);const a=i/s*this.currentDataSize/this.sampleRate;"mousedown"!==t&&"touchstart"!==t||(this.offsetX=i,this.startTime=a,this.endTime=0),"mouseup"!==t&&"touchend"!==t||(this.endTime=a),this.update(a),this.startTime<=a?this.callback(e,this.startTime,a,this.mode,!0):this.startTime>a&&this.callback(e,a,this.startTime,this.mode,!1)}onMouseStart(e){"mousedown"===e.type&&this.visualize(e,e.type,this.getOffsetX(e)),this.isDown=!0}onMouseMove(e){this.isDown&&(e.stopPropagation(),"mousemove"===e.type&&this.visualize(e,e.type,this.getOffsetX(e)))}onMouseUp(e){this.isDown&&("mouseup"===e.type&&this.visualize(e,e.type,this.getOffsetX(e)),this.isDown=!1)}onTouchStart(e){"touchstart"===e.type&&this.visualize(e,e.type,this.getOffsetX(e)),this.isDown=!0}onTouchMove(e){this.isDown&&(e.stopPropagation(),e.preventDefault(),"touchmove"===e.type&&this.visualize(e,e.type,this.getOffsetX(e)))}onTouchEnd(e){this.isDown&&("touchend"===e.type&&this.visualize(e,e.type,this.getOffsetX(e)),this.isDown=!1)}getOffsetX(e){return e instanceof MouseEvent?e.pageX:e instanceof TouchEvent?e.touches[0].pageX:0}}class o extends n{type="uint";textInterval=.005;constructor(e,t){super(e,t)}setup(e){return super.setup(e),this}param(e){if("string"==typeof e)switch(e){case"type":return this.type;case"textInterval":return this.textInterval;case"interval":case"styles":return super.param(e)}for(const[t,r]of Object.entries(e))switch(t){case"type":"string"==typeof r&&("uint"!==r&&"float"!==r||(this.type=r));break;case"textInterval":"number"==typeof r&&(this.textInterval=r)}return super.param(e),this}clear(){return super.clear(),this}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}visualizeOnCanvas(e,t,r){if(null===this.canvas||null===this.context||!this.isActive)return;const n=this.context,s=this.canvas.width,i=this.canvas.height,a=this.styles.top??15,o=this.styles.bottom??15,u=this.styles.left??30,l=s-(u+(this.styles.right??30)),c=i-(a+o),h=Math.trunc(c/2)+a,f=this.styles.width??1.5,p=this.styles.cap??"round",d=this.styles.join??"miter",m=this.styles.wave??"rgba(0, 0, 255, 1.0)",v=this.styles.grid??"none",y=this.styles.text??"none",g=parseInt(this.styles.font?.size??"13px",10),b=Math.trunc(this.textInterval*this.sampleRate);switch(n.clearRect(0,0,s,i),this.type){case"float":e instanceof Float32Array&&this.visualizeTimeDomainFloat32ArrayOnCanvas(n,e,l,c,h);break;case"uint":switch(this.styles.shape){case"line":n.strokeStyle=m,n.lineWidth=f,n.lineCap=p,n.lineJoin=d,n.beginPath();for(let t=0,r=e.length;t<r;t++){const s=t/r*l+u,i=(1-e[t]/255)*c+a;0===t?n.moveTo(s+f/2,i):n.lineTo(s,i)}n.stroke();break;case"rect":for(let t=0,r=e.length;t<r;t++){const s=t/r*l+u,i=(.5-e[t]/255)*c;if(this.styles.gradients){const e=c/2+a,t=n.createLinearGradient(0,e,0,e+i);for(const e of this.styles.gradients)t.addColorStop(e.offset,e.color);n.fillStyle=t}else n.fillStyle=m;n.fillRect(s,h,1,i)}}}if("none"!==v||"none"!==y){for(let t=0,r=e.length;t<r;t++)if(t%b==0){const e=Math.trunc(t/r*l)+u,s=`${Math.ceil(t/this.sampleRate*1e3)} ms`;"none"!==v&&(n.fillStyle=v,n.fillRect(e,a,1,c)),"none"!==y&&(n.fillStyle=y,n.font=this.createFontString(),n.fillText(s,e-n.measureText(s).width/2,a+c+g))}for(const e of["-1.00","-0.50"," 0.00"," 0.50"," 1.00"]){const t=Math.trunc(u-n.measureText(e).width),r=Math.trunc((1-Number(e.trim()))*(c/2))+a;"none"!==v&&(n.fillStyle=v,n.fillRect(u,r,l,1)),"none"!==y&&(n.fillStyle=y,n.font=this.createFontString(),n.fillText(e,t,r-Math.trunc(g/4)))}}}visualizeBySVG(e,t,r){if(null===this.svg||!this.isActive)return;const n=this.svg,s=Number(n.getAttribute("width")??"0"),i=Number(n.getAttribute("height")??"0"),a=this.styles.top??15,u=this.styles.bottom??15,l=this.styles.left??30,c=s-(l+(this.styles.right??30)),h=i-(a+u),f=Math.trunc(h/2)+a,p=this.styles.width??1.5,d=this.styles.cap??"round",m=this.styles.join??"miter",v=this.styles.wave??"rgba(0, 0, 255, 1.0)",y=this.styles.grid??"none",g=this.styles.text??"none",b=parseInt(this.styles.font?.size??"13px",10),w=Math.trunc(this.textInterval*this.sampleRate);switch(n.innerHTML="",this.type){case"float":if(e instanceof Float32Array){const t=this.visualizeTimeDomainFloat32ArrayBySVG(e,c,h,f,0,o.SVG_LINEAR_GRADIENT_ID_TIME);null!==t&&n.appendChild(t)}break;case"uint":switch(this.styles.shape){case"line":{const t=document.createElementNS(o.XMLNS,"path");let r="";for(let t=0,n=e.length;t<n;t++){const s=t/n*c+l,i=(1-e[t]/255)*h+a;r+=0===t?`M${s+p/2} ${i}`:` L${s} ${i}`}t.setAttribute("d",r),t.setAttribute("stroke",v),t.setAttribute("fill","none"),t.setAttribute("stroke-width",p.toString(10)),t.setAttribute("stroke-linecap",d),t.setAttribute("stroke-linejoin",m),n.appendChild(t);break}case"rect":{let t=null;this.styles.gradients&&(t=this.createSVGLinearGradient(`${o.SVG_LINEAR_GRADIENT_ID_TIME}-${this.channel}`));const r=document.createElementNS(o.XMLNS,"g");null!==t&&r.appendChild(t);for(let n=0,s=e.length;n<s;n++){const i=document.createElementNS(o.XMLNS,"rect"),a=n/s*c+l,u=(e[n]/255-.5)*h;i.setAttribute("x",a.toString(10)),i.setAttribute("y",f.toString(10)),i.setAttribute("width",p.toString(10)),i.setAttribute("height",Math.abs(u).toString(10)),u>=0&&i.setAttribute("transform",`rotate(180 ${a+p/2} ${f})`),i.setAttribute("stroke","none"),i.setAttribute("fill",null===t?v:`url(#${o.SVG_LINEAR_GRADIENT_ID_TIME}-${this.channel})`),r.appendChild(i)}n.appendChild(r);break}}}if("none"!==y||"none"!==g){for(let t=0,r=e.length;t<r;t++)if(t%w==0){const e=Math.trunc(t/r*c)+l,s=`${Math.ceil(t/this.sampleRate*1e3)} ms`;if("none"!==y){const t=document.createElementNS(o.XMLNS,"rect");t.setAttribute("x",e.toString(10)),t.setAttribute("y",a.toString(10)),t.setAttribute("width","1"),t.setAttribute("height",h.toString(10)),t.setAttribute("stroke","none"),t.setAttribute("fill",y),n.appendChild(t)}if("none"!==g){const t=document.createElementNS(o.XMLNS,"text");t.textContent=s,t.setAttribute("x",e.toString(10)),t.setAttribute("y",(a+h+b).toString(10)),t.setAttribute("text-anchor","middle"),t.setAttribute("stroke","none"),t.setAttribute("fill",g),t.setAttribute("font-family",this.styles.font?.family??"Arial"),t.setAttribute("font-size",b.toString(10)),t.setAttribute("font-style",this.styles.font?.style??"normal"),t.setAttribute("font-weight",this.styles.font?.weight??"normal"),n.appendChild(t)}}for(const e of["-1.00","-0.50"," 0.00"," 0.50"," 1.00"]){const t=l,r=Math.trunc((1-Number(e.trim()))*(h/2))+a;if("none"!==y){const e=document.createElementNS(o.XMLNS,"rect");e.setAttribute("x",t.toString(10)),e.setAttribute("y",r.toString(10)),e.setAttribute("width",c.toString(10)),e.setAttribute("height","1"),e.setAttribute("stroke","none"),e.setAttribute("fill",y),n.appendChild(e)}if("none"!==g){const s=document.createElementNS(o.XMLNS,"text");s.textContent=e,s.setAttribute("x",t.toString(10)),s.setAttribute("y",(r-Math.trunc(b/4)).toString(10)),s.setAttribute("text-anchor","end"),s.setAttribute("stroke","none"),s.setAttribute("fill",g),s.setAttribute("font-family",this.styles.font?.family??"Arial"),s.setAttribute("font-size",b.toString(10)),s.setAttribute("font-style",this.styles.font?.style??"normal"),s.setAttribute("font-weight",this.styles.font?.weight??"normal"),n.appendChild(s)}}}}}class u extends n{static MIN_FREQUENCY=62.5;static MAX_FREQUENCY=8e3;static LOGARITHMIC_FREQUENCIES=[62.5,125,250,500,1e3,2e3,4e3,8e3];type="uint";size=256;textInterval=1e3;scale="linear";constructor(e,t){super(e,t)}setup(e){return super.setup(e),this}param(e){if("string"==typeof e)switch(e){case"type":return this.type;case"size":return this.size;case"textInterval":return this.textInterval;case"scale":return this.scale;case"minFrequency":return u.MIN_FREQUENCY;case"maxFrequency":return u.MAX_FREQUENCY;case"interval":case"styles":return super.param(e)}for(const[t,r]of Object.entries(e))switch(t){case"type":"string"==typeof r&&("uint"!==r&&"float"!==r||(this.type=r));break;case"size":"number"==typeof r&&(this.size=r);break;case"textInterval":"number"==typeof r&&(this.textInterval=r);break;case"scale":"string"==typeof r&&("linear"!==r&&"logarithmic"!==r||(this.scale=r))}return super.param(e),this}clear(){return super.clear(),this}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}visualizeOnCanvas(e,t,r){if(null===this.canvas||null===this.context||!this.isActive)return;const n=t??-100,s=r??-30,i=s-n,a=this.context,o=this.canvas.width,l=this.canvas.height,c=this.styles.top??0,h=this.styles.bottom??0,f=this.styles.left??30,p=this.styles.right??30,d=o-(f+p),m=l-(c+h),v=this.styles.width??1.5,y=this.styles.cap??"round",g=this.styles.join??"miter",b=this.styles.wave??"rgba(0, 0, 255, 1.0)",w=this.styles.grid??"none",k=this.styles.text??"none",S=parseInt(this.styles.font?.size??"13px",10),x=this.size>e.length?e.length:this.size,E=this.sampleRate/(2*e.length),T=Math.trunc(this.textInterval/E);switch(a.clearRect(0,0,o,l),this.type){case"float":switch(a.strokeStyle=b,a.lineWidth=v,a.lineCap=y,a.lineJoin=g,a.beginPath(),this.scale){case"linear":for(let t=0;t<x;t++){const r=t/x*d+f,n=Math.trunc(-1*(e[t]-s)*(m/i))+c;0===t?a.moveTo(r+v/2,n):a.lineTo(r,n)}break;case"logarithmic":for(let t=0;t<e.length;t++){if(0===t)continue;const r=t*E,n=Math.trunc(Math.log10(r/u.MIN_FREQUENCY)/Math.log10(u.MAX_FREQUENCY/u.MIN_FREQUENCY)*d)+f,o=Math.trunc(-1*(e[t]-s)*(m/i))+c;n<f||n>f+d||(1===t?a.moveTo(f+v/2,o):a.lineTo(n,o))}}a.stroke();break;case"uint":switch(this.styles.shape){case"line":a.strokeStyle=b,a.lineWidth=v,a.lineCap=y,a.lineJoin=g,a.beginPath();for(let t=0;t<x;t++){const r=t/x*d+f,n=(1-e[t]/255)*m+c;0===t?a.moveTo(r+v/2,n):a.lineTo(r,n)}a.stroke();break;case"rect":for(let t=0;t<x;t++){const r=t/x*d+f,n=e[t]/255*m*-1;if(this.styles.gradients){const e=m+c,t=a.createLinearGradient(0,e,0,e+n);for(const e of this.styles.gradients)t.addColorStop(e.offset,e.color);a.fillStyle=t}else a.fillStyle=b;a.fillRect(r,m+c,v,n)}}}if("none"!==w||"none"!==k){if("uint"===this.type||"float"===this.type&&"linear"===this.scale){for(let e=0;e<x;e++)if(e%T==0){const t=Math.trunc(e/x*d)+f,r=Math.trunc(this.textInterval*(e/T)),n=r<1e3?`${r} Hz`:`${(r/1e3).toString(10).slice(0,3)} kHz`;"none"!==w&&(a.fillStyle=w,a.fillRect(t,c,1,m)),"none"!==k&&(a.fillStyle=k,a.font=this.createFontString(),a.fillText(n,t-a.measureText(n).width/2,c+m+S))}}else u.LOGARITHMIC_FREQUENCIES.forEach((e=>{const t=Math.trunc(Math.log10(e/u.MIN_FREQUENCY)/Math.log10(u.MAX_FREQUENCY/u.MIN_FREQUENCY)*d)+f,r=e<1e3?`${e} Hz`:`${(e/1e3).toString(10).slice(0,3)} kHz`;"none"!==w&&(a.fillStyle=w,a.fillRect(t,c,1,m)),"none"!==k&&(a.fillStyle=k,a.font=this.createFontString(),a.fillText(r,t-a.measureText(r).width/2,c+m+S))}));switch(this.type){case"float":for(let e=n;e<=s;e+=10){const t=`${e} dB`,r=Math.trunc(f-a.measureText(t).width),n=Math.trunc(-1*(e-s)/i*m)+c;"none"!==w&&(a.fillStyle=w,a.fillRect(f,n,d,1)),"none"!==k&&(a.fillStyle=k,a.font=this.createFontString(),a.fillText(t,r,n))}break;case"uint":for(const e of["0.00","0.25","0.50","0.75","1.00"]){const t=Math.trunc(f-a.measureText(e).width),r=(1-Number(e))*m+c;"none"!==w&&(a.fillStyle=w,a.fillRect(f,r,d,1)),"none"!==k&&(a.fillStyle=k,a.font=this.createFontString(),a.fillText(e,t,r))}}}}visualizeBySVG(e,t,r){if(null===this.svg||!this.isActive)return;const n=t??-100,s=r??-30,i=s-n,a=this.svg,o=Number(a.getAttribute("width")??"0"),l=Number(a.getAttribute("height")??"0"),c=this.styles.top??0,h=this.styles.bottom??0,f=this.styles.left??30,p=this.styles.right??30,d=o-(f+p),m=l-(c+h),v=this.styles.wave??"rgba(0, 0, 255, 1.0)",y=this.styles.width??1.5,g=this.styles.cap??"round",b=this.styles.join??"miter",w=this.styles.grid??"none",k=this.styles.text??"none",S=parseInt(this.styles.font?.size??"13px",10),x=this.size>e.length?e.length:this.size,E=this.sampleRate/(2*e.length),T=Math.trunc(this.textInterval/E);switch(a.innerHTML="",this.type){case"float":{const t=document.createElementNS(u.XMLNS,"path");let r="";switch(this.scale){case"linear":for(let t=0;t<x;t++){const n=Math.trunc(t/x*d)+f,a=Math.trunc(-1*(e[t]-s)*(m/i))+c;Number.isFinite(n)&&Number.isFinite(a)&&(r+=""===r?`M${n+y/2} ${a}`:` L${n} ${a}`)}break;case"logarithmic":for(let t=0;t<e.length;t++){if(0==t)continue;const n=t*E,a=Math.trunc(Math.log10(n/u.MIN_FREQUENCY)/Math.log10(u.MAX_FREQUENCY/u.MIN_FREQUENCY)*d)+f,o=Math.trunc(-1*(e[t]-s)*(m/i))+c;Number.isFinite(a)&&Number.isFinite(o)&&(a<f||a>f+d||(r+=""===r?`M${a} ${o}`:` L${a} ${o}`))}}t.setAttribute("d",r),t.setAttribute("stroke",v),t.setAttribute("fill","none"),t.setAttribute("stroke-width",y.toString(10)),t.setAttribute("stroke-linecap",g),t.setAttribute("stroke-linejoin",b),a.appendChild(t);break}case"uint":switch(this.styles.shape){case"line":{const t=document.createElementNS(u.XMLNS,"path");let r="";for(let t=0;t<x;t++){const n=Math.trunc(t/x*d)+f,s=Math.trunc((1-e[t]/255)*m)+c;r+=0===t?`M${n+y/2} ${s}`:` L${n} ${s}`}t.setAttribute("d",r),t.setAttribute("stroke",v),t.setAttribute("fill","none"),t.setAttribute("stroke-width",y.toString(10)),t.setAttribute("stroke-linecap",g),t.setAttribute("stroke-linejoin",b),a.appendChild(t);break}case"rect":{let t=null;this.styles.gradients&&(t=this.createSVGLinearGradient(`${u.SVG_LINEAR_GRADIENT_ID_FFT}-${this.channel}`));const r=document.createElementNS(u.XMLNS,"g");null!==t&&r.appendChild(t);for(let n=0;n<x;n++){const s=document.createElementNS(u.XMLNS,"rect"),i=Math.trunc(n/x*d)+f,a=Math.trunc(e[n]/255*m);s.setAttribute("x",i.toString(10)),s.setAttribute("y",(c+m).toString(10)),s.setAttribute("width",y.toString(10)),s.setAttribute("height",Math.abs(a).toString(10)),a>=0&&s.setAttribute("transform",`rotate(180 ${i+y/2} ${c+m})`),s.setAttribute("stroke","none"),s.setAttribute("fill",null===t?v:`url(#${u.SVG_LINEAR_GRADIENT_ID_FFT}-${this.channel})`),r.appendChild(s)}a.appendChild(r);break}}}if("none"!==w||"none"!==k){if("uint"===this.type||"float"===this.type&&"linear"===this.scale){for(let e=0;e<x;e++)if(e%T==0){const t=Math.trunc(e/x*d)+f,r=Math.trunc(this.textInterval*(e/T)),n=r<1e3?`${r} Hz`:`${(r/1e3).toString(10).slice(0,3)} kHz`;if("none"!==w){const e=document.createElementNS(u.XMLNS,"rect");e.setAttribute("x",t.toString(10)),e.setAttribute("y",c.toString(10)),e.setAttribute("width","1"),e.setAttribute("height",m.toString(10)),e.setAttribute("stroke","none"),e.setAttribute("fill",w),a.appendChild(e)}if("none"!==k){const e=document.createElementNS(u.XMLNS,"text");e.textContent=n,e.setAttribute("x",t.toString(10)),e.setAttribute("y",(c+m+h).toString(10)),e.setAttribute("text-anchor","middle"),e.setAttribute("stroke","none"),e.setAttribute("fill",k),e.setAttribute("font-family",this.styles.font?.family??"Arial"),e.setAttribute("font-size",S.toString(10)),e.setAttribute("font-style",this.styles.font?.style??"normal"),e.setAttribute("font-weight",this.styles.font?.weight??"normal"),a.appendChild(e)}}}else u.LOGARITHMIC_FREQUENCIES.forEach((e=>{const t=Math.trunc(Math.log10(e/u.MIN_FREQUENCY)/Math.log10(u.MAX_FREQUENCY/u.MIN_FREQUENCY)*d)+f,r=e<1e3?`${e} Hz`:`${(e/1e3).toString(10).slice(0,3)} kHz`;if("none"!==w){const e=document.createElementNS(u.XMLNS,"rect");e.setAttribute("x",t.toString(10)),e.setAttribute("y",c.toString(10)),e.setAttribute("width","1"),e.setAttribute("height",m.toString(10)),e.setAttribute("stroke","none"),e.setAttribute("fill",w),a.appendChild(e)}if("none"!==k){const e=document.createElementNS(u.XMLNS,"text");e.textContent=r,e.setAttribute("x",t.toString(10)),e.setAttribute("y",(c+m+h).toString(10)),e.setAttribute("text-anchor","middle"),e.setAttribute("stroke","none"),e.setAttribute("fill",k),e.setAttribute("font-family",this.styles.font?.family??"Arial"),e.setAttribute("font-size",S.toString(10)),e.setAttribute("font-style",this.styles.font?.style??"normal"),e.setAttribute("font-weight",this.styles.font?.weight??"normal"),a.appendChild(e)}}));switch(this.type){case"float":for(let e=n;e<=s;e+=10){const t=`${e}dB`,r=f,n=Math.trunc(-1*(e-s)/i*m)+c;if("none"!==w){const e=document.createElementNS(u.XMLNS,"rect");e.setAttribute("x",r.toString(10)),e.setAttribute("y",n.toString(10)),e.setAttribute("width",d.toString(10)),e.setAttribute("height","1"),e.setAttribute("stroke","none"),e.setAttribute("fill",w),a.appendChild(e)}if("none"!==w){const e=document.createElementNS(u.XMLNS,"text");e.textContent=t,e.setAttribute("x",r.toString(10)),e.setAttribute("y",(n-Math.trunc(S/4)).toString(10)),e.setAttribute("text-anchor","end"),e.setAttribute("stroke","none"),e.setAttribute("fill",k),e.setAttribute("font-family",this.styles.font?.family??"Arial"),e.setAttribute("font-size",S.toString(10)),e.setAttribute("font-style",this.styles.font?.style??"normal"),e.setAttribute("font-weight",this.styles.font?.weight??"normal"),a.appendChild(e)}}break;case"uint":for(const e of["0.00","0.25","0.50","0.75","1.00"]){const t=f,r=(1-Number(e))*m+c;if("none"!==w){const e=document.createElementNS(u.XMLNS,"rect");e.setAttribute("x",t.toString(10)),e.setAttribute("y",r.toString(10)),e.setAttribute("width",d.toString(10)),e.setAttribute("height","1"),e.setAttribute("stroke","none"),e.setAttribute("fill",w),a.appendChild(e)}if("none"!==k){const n=document.createElementNS(u.XMLNS,"text");n.textContent=e,n.setAttribute("x",t.toString(10)),n.setAttribute("y",(r-Math.trunc(S/4)).toString(10)),n.setAttribute("text-anchor","end"),n.setAttribute("stroke","none"),n.setAttribute("fill",k),n.setAttribute("font-family",this.styles.font?.family??"Arial"),n.setAttribute("font-size",S.toString(10)),n.setAttribute("font-style",this.styles.font?.style??"normal"),n.setAttribute("font-weight",this.styles.font?.weight??"normal"),a.appendChild(n)}}}}}}class l{analyser;input;timeOverviewL;timeOverviewR;time;fft;timeDomainAnimationId=null;timeDomainTimerId=null;frequencyDomainAnimationId=null;frequencyDomainTimerId=null;constructor(e){this.analyser=e.createAnalyser(),this.input=e.createGain(),this.input.connect(this.analyser),this.timeOverviewL=new a(e.sampleRate,0),this.timeOverviewR=new a(e.sampleRate,1),this.time=new o(e.sampleRate,0),this.fft=new u(e.sampleRate,0),this.analyser.fftSize=2048,this.analyser.minDecibels=-100,this.analyser.maxDecibels=-30,this.analyser.smoothingTimeConstant=.8}start(e,t,r){switch(e){case"timeoverview":if((0===t||1===t)&&r)switch(t){case 0:if(r.numberOfChannels>t){const e=new Float32Array(r.length);e.set(r.getChannelData(t)),this.timeOverviewL.start(e)}break;case 1:if(r.numberOfChannels>t){const e=new Float32Array(r.length);e.set(r.getChannelData(t)),this.timeOverviewR.start(e)}}break;case"time":{const t=this.time.param("interval");switch(this.time.param("type")){case"uint":{const e=new Uint8Array(this.analyser.fftSize);this.analyser.getByteTimeDomainData(e),this.time.start(e);break}case"float":{const e=new Float32Array(this.analyser.fftSize);this.analyser.getFloatTimeDomainData(e),this.time.start(e);break}}"number"==typeof t&&(this.stop(e),t<0?this.timeDomainAnimationId=window.requestAnimationFrame((()=>{this.start(e)})):this.timeDomainTimerId=window.setTimeout((()=>{this.start(e)}),t));break}case"fft":{const t=this.fft.param("interval");switch(this.fft.param("type")){case"uint":{const e=new Uint8Array(this.analyser.frequencyBinCount);this.analyser.getByteFrequencyData(e),this.fft.start(e);break}case"float":{const e=new Float32Array(this.analyser.frequencyBinCount);this.analyser.getFloatFrequencyData(e),this.fft.start(e,this.analyser.minDecibels,this.analyser.maxDecibels);break}}"number"==typeof t&&(this.stop(e),t<0?this.frequencyDomainAnimationId=window.requestAnimationFrame((()=>{this.start(e)})):this.frequencyDomainTimerId=window.setTimeout((()=>{this.start(e)}),t));break}}return this}stop(e){switch(e){case"time":{const e=this.time.param("interval");"number"==typeof e&&(e<0&&this.timeDomainAnimationId?(window.cancelAnimationFrame(this.timeDomainAnimationId),this.timeDomainAnimationId=null):this.timeDomainTimerId&&(window.clearTimeout(this.timeDomainTimerId),this.timeDomainTimerId=null));break}case"fft":{const e=this.fft.param("interval");"number"==typeof e&&(e<0&&this.frequencyDomainAnimationId?(window.cancelAnimationFrame(this.frequencyDomainAnimationId),this.frequencyDomainAnimationId=null):this.frequencyDomainTimerId&&(window.clearTimeout(this.frequencyDomainTimerId),this.frequencyDomainTimerId=null));break}}return this}param(e){if("string"==typeof e)switch(e){case"fftSize":return this.analyser.fftSize;case"frequencyBinCount":return this.analyser.frequencyBinCount;case"minDecibels":return this.analyser.minDecibels;case"maxDecibels":return this.analyser.maxDecibels;case"smoothingTimeConstant":return this.analyser.smoothingTimeConstant}for(const[t,r]of Object.entries(e))switch(t){case"fftSize":this.analyser.fftSize=r;break;case"minDecibels":this.analyser.minDecibels=r;break;case"maxDecibels":this.analyser.maxDecibels=r;break;case"smoothingTimeConstant":this.analyser.smoothingTimeConstant=r}return this}domain(e,t){switch(e){case"timeoverview":switch(t){case 0:return this.timeOverviewL;case 1:return this.timeOverviewR}return this;case"time":return this.time;case"fft":return this.fft}return this}get(){return this.analyser}get INPUT(){return this.input}get OUTPUT(){return this.input}}class c{id;dataBlocks=[];constructor(e){this.id=e}get(){return this.dataBlocks}append(e){return this.dataBlocks.push(e),this}clear(){this.dataBlocks.length=0}has(){return this.dataBlocks.length>0}toString(){return this.id}}class h{id;tracks=[];channelGain=1;constructor(e){this.id=e}append(e){return this.tracks.push(e),this}get(e){return"number"==typeof e&&e>=0&&e<this.tracks.length?this.tracks[e]:this.tracks}gain(e){if(!("number"==typeof e&&e>=0&&e<=1))return this.channelGain;this.channelGain=e}length(){return this.tracks.length}toString(){return this.id}}class RecorderProcessor extends AudioWorkletProcessor{static BUFFER_SIZE=128;constructor(){super()}process(e){if(0===e.length||0===e[0].length)return!0;const t={inputs:e};return this.port.postMessage(t),!0}}class f{processor;sampleRate;channels=[];activeTrack=-1;paused=!0;constructor(e){this.processor=new AudioWorkletNode(e,RecorderProcessor.name),this.sampleRate=e.sampleRate,this.processor.port.onmessage=e=>{if(-1===this.activeTrack)return;if(0===e.data.inputs.length)return;const t=e.data.inputs[0];if(0===t.length)return;const r=RecorderProcessor.BUFFER_SIZE;if(1===t.length){const e=t[0],n=this.channels[0].gain(),s=this.channels[0].get(this.activeTrack),i=new Float32Array(r);for(let t=0;t<r;t++)i[t]=n*e[t];return void s?.append(i)}const n=t[0],s=t[1],i=this.channels[0].gain(),a=this.channels[1].gain(),o=this.channels[0].get(this.activeTrack),u=this.channels[1].get(this.activeTrack),l=new Float32Array(r),c=new Float32Array(r);for(let e=0;e<r;e++)l[e]=i*n[e],c[e]=a*s[e];o?.append(l),u?.append(c)}}setup(e,t){this.channels.push(new h("0")),this.channels.push(new h("1"));for(const e of this.channels)for(let r=0;r<t;r++)e.append(new c(r.toString(10)));return this}ready(e){return this.hasTrack(e)?this.activeTrack=e:this.activeTrack=-1,this}start(){return-1!==this.activeTrack&&this.paused?(this.paused=!1,this):this}stop(){return this.activeTrack=-1,this.paused=!0,this.processor.disconnect(0),this}param(e){if("string"==typeof e)switch(e){case"0":if(this.channels[0])return this.channels[0].gain();break;case"1":if(this.channels[1])return this.channels[1].gain()}for(const[t,r]of Object.entries(e))switch(t){case"0":this.channels[0]&&"number"==typeof r&&this.channels[0].gain(r);break;case"1":this.channels[1]&&"number"==typeof r&&this.channels[1].gain(r)}return this}get(){return this.activeTrack}clear(e){if(-1!==this.activeTrack&&this.stop(),-1===e)for(const e of this.channels){const t=e.get();for(const e of t)e.clear()}else if(this.hasTrack(e))for(const t of this.channels){const r=t.get(e);r?.clear()}return this}create(e,t,r,n){-1!==this.activeTrack&&this.stop();let s=null,i=null;if(-1===e&&this.has(-1,-1))s=this.mixTrack(0),i=this.mixTrack(1);else{if(!this.has(0,e)||!this.has(1,e))return"";s=this.flatTrack(0,e),i=this.flatTrack(1,e)}if(null===s||null===i)return"";const a=this.sampleRate,o=r,u=t,l=u*Math.min(s.length,i.length),c=8+l*(o/8)+36,h=c-8,f=a*u*(o/8),p=l*(o/8);let d=null;switch(o){case 8:d=new Uint8Array(l);for(let e=0;e<l;e++){let t=0;t=e%u==0?Math.round((s[Math.trunc(e/u)]+1)/2*255):Math.round((i[Math.trunc(e/u)]+1)/2*255),t>255&&(t=255),t<0&&(t=0),d[e]=t}break;case 16:d=new Int16Array(l);for(let e=0;e<l;e++){let t=0;t=e%u==0?Math.round(32768*s[Math.trunc(e/u)]):Math.round(32768*i[Math.trunc(e/u)]),t>32767&&(t=32767),t<-32768&&(t=-32768),d[e]=t}}if(null===d)return"";const m=new Uint8Array(c);m[0]=82,m[1]=73,m[2]=70,m[3]=70,m[4]=h>>0&255,m[5]=h>>8&255,m[6]=h>>16&255,m[7]=h>>24&255,m[8]=87,m[9]=65,m[10]=86,m[11]=69,m[12]=102,m[13]=109,m[14]=116,m[15]=32,m[16]=16,m[17]=0,m[18]=0,m[19]=0,m[20]=1,m[21]=0,m[22]=u,m[23]=0,m[24]=a>>0&255,m[25]=a>>8&255,m[26]=a>>16&255,m[27]=a>>24&255,m[28]=f>>0&255,m[29]=f>>8&255,m[30]=f>>16&255,m[31]=f>>24&255,m[32]=u*(o/8),m[33]=0,m[34]=o,m[35]=0,m[36]=100,m[37]=97,m[38]=116,m[39]=97,m[40]=p>>0&255,m[41]=p>>8&255,m[42]=p>>16&255,m[43]=p>>24&255;for(let e=0;e<l;e++){const t=c-p;switch(o){case 8:m[t+e]=d[e];break;case 16:m[t+2*e+0]=d[e]>>0&255,m[t+2*e+1]=d[e]>>8&255}}switch(n){case"base64":case"dataURL":{const e=window.btoa(Array.from(m).map((e=>String.fromCodePoint(e))).join(""));return"base64"===n?e:`data:audio/wav;base64,${e}`}case"blob":case"objectURL":{const e=new Blob([m],{type:"audio/wav"});return"blob"===n?e:window.URL.createObjectURL(e)}}}has(e,t){if(!this.hasChannel(e))return this.channels.some((e=>e.get().some((e=>e.has()))));const r=this.channels[e].get();if(!this.hasTrack(t))return r.some((e=>e.has()));const n=this.channels[e].get(t);return n?.has()??!1}hasChannel(e){return e>=0&&e<this.channels.length}hasTrack(e){return e>=0&&this.channels.every((t=>e<t.length()))}get INPUT(){return this.processor}get OUTPUT(){return this.processor}flatTrack(e,t){if(!this.hasChannel(e)||!this.hasTrack(t))return null;const r=this.channels[e].get(t);if(null===r)return null;const n=r.get(),s=RecorderProcessor.BUFFER_SIZE,i=new Float32Array(n.length*s);for(let e=0,t=n.length;e<t;e++){const t=n[e];for(let r=0;r<s;r++)i[e*s+r]=t[r]}return i}mixTrack(e){if(!this.hasChannel(e))return null;const t=this.channels[e].get(),r=RecorderProcessor.BUFFER_SIZE;let n=0,s=0,i=0,a=0,o=0;for(const e of t){const t=e.get();o<t.length&&(o=t.length)}const u=new Float32Array(o*r);for(;;){for(let e=0,r=t.length;e<r;e++){const r=t[e].get()[i];r&&a>=0&&a<=r.length&&(n+=r[a],s++)}if(s<=0)return u;u[i*r+a]=n/s,n=0,s=0,a<r-1?a++:(i++,a=0)}}}class p{context;input;output;lfo;depth;rate;isActive=!0;paused=!0;constructor(e){this.context=e,this.input=e.createGain(),this.output=e.createGain(),this.lfo=e.createOscillator(),this.depth=e.createGain(),this.rate=this.lfo.frequency}start(e){this.isActive&&this.paused&&(this.lfo.start(e??this.context.currentTime),this.paused=!1)}stop(e,t){if(!this.isActive||this.paused)return;const r=this.lfo.type,n=this.lfo.frequency.value;this.lfo.stop((e??this.context.currentTime)+(t??0)),this.lfo=this.context.createOscillator(),this.lfo.type=r,this.lfo.frequency.value=n,this.rate=this.lfo.frequency,this.paused=!0}toJSON(){return JSON.stringify(this.params())}state(){return this.isActive}activate(){return this.isActive=!0,this.connect(),this.start(0),this}deactivate(){return this.stop(0),this.isActive=!1,this.connect(),this}get INPUT(){return this.input}get OUTPUT(){return this.output}}class d extends p{panner;constructor(e){super(e),this.panner=this.context.createStereoPanner(),this.panner.pan.value=0,this.depth.gain.value=0,this.rate.value=0,this.deactivate(),this.lfo.connect(this.depth),this.depth.connect(this.panner.pan)}stop(e,t){super.stop(e,t),this.isActive&&(this.lfo.connect(this.depth),this.depth.connect(this.panner.pan))}connect(){return this.input.disconnect(0),this.panner.disconnect(0),this.isActive?(this.input.connect(this.panner),this.panner.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"depth":return this.depth.gain.value;case"rate":return this.rate.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"depth":"number"==typeof r&&(this.depth.gain.value=r);break;case"rate":"number"==typeof r&&(this.rate.value=r)}return this}params(){return{state:this.isActive,depth:this.depth.gain.value,rate:this.rate.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class m extends p{shaper;inputShaper;outputShaper;inputLevel;outputLevel;bitsInput;bitsGain;bits=0;constructor(e){super(e),this.shaper=this.context.createWaveShaper(),this.inputShaper=this.context.createWaveShaper(),this.outputShaper=this.context.createWaveShaper(),this.inputLevel=this.context.createGain(),this.outputLevel=this.context.createGain(),this.bitsInput=this.context.createConstantSource(),this.bitsGain=this.context.createGain();const t=new Float32Array(1023);for(let e=0;e<512;e++){const r=(e/512*128|0)/128;t[511+e]=r,t[511-e]=-r}const r=new Float32Array(10),n=new Float32Array(10);for(let e=0,t=64;e<6;e++,t*=.5)r[0+e]=1/64,r[4+e]=1/t,n[0+e]=64,n[4+e]=t;this.shaper.curve=t,this.inputShaper.curve=r,this.outputShaper.curve=n,this.inputLevel.gain.value=0,this.outputLevel.gain.value=0,this.bitsInput.offset.value=this.bits,this.bitsGain.gain.value=1/8,this.deactivate()}start(e){this.isActive&&this.paused&&(this.bitsInput.start(this.context.currentTime),this.paused=!1)}stop(e,t){this.isActive&&!this.paused&&(this.bitsInput.stop(this.context.currentTime),this.bitsInput=this.context.createConstantSource(),this.bitsInput.offset.value=this.bits,this.paused=!0,this.connect())}connect(){return this.input.disconnect(0),this.shaper.disconnect(0),this.inputShaper.disconnect(0),this.outputShaper.disconnect(0),this.inputLevel.disconnect(0),this.outputLevel.disconnect(0),this.bitsInput.disconnect(0),this.bitsGain.disconnect(0),this.isActive?(this.input.connect(this.inputLevel),this.inputLevel.connect(this.shaper),this.shaper.connect(this.outputLevel),this.outputLevel.connect(this.output),this.bitsInput.connect(this.bitsGain),this.bitsGain.connect(this.inputShaper),this.inputShaper.connect(this.inputLevel.gain),this.bitsGain.connect(this.outputShaper),this.outputShaper.connect(this.outputLevel.gain)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"bits":return this.bits}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"bits":"number"==typeof r&&(this.bits=r,this.bitsInput.offset.value=this.bits)}return this}params(){return{state:this.isActive,bits:this.bits}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class v extends p{delay;tone;mix;feedback;depthRate=0;constructor(e){super(e),this.delay=e.createDelay(),this.mix=e.createGain(),this.tone=e.createBiquadFilter(),this.feedback=e.createGain(),this.delay.delayTime.value=0,this.depth.gain.value=0,this.rate.value=0,this.mix.gain.value=0,this.tone.type="lowpass",this.tone.frequency.value=350,this.tone.Q.value=Math.SQRT1_2,this.tone.gain.value=0,this.feedback.gain.value=0,this.depthRate=0,this.deactivate(),this.lfo.connect(this.depth),this.depth.connect(this.delay.delayTime)}stop(e,t){super.stop(e,t),this.isActive&&(this.lfo.connect(this.depth),this.depth.connect(this.delay.delayTime))}connect(){return this.input.disconnect(0),this.delay.disconnect(0),this.mix.disconnect(0),this.tone.disconnect(0),this.feedback.disconnect(0),this.input.connect(this.output),this.isActive&&(this.input.connect(this.tone),this.tone.connect(this.delay),this.delay.connect(this.mix),this.mix.connect(this.output),this.delay.connect(this.feedback),this.feedback.connect(this.delay)),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"time":return this.delay.delayTime.value;case"depth":return this.depthRate;case"rate":return this.rate.value;case"mix":return this.mix.gain.value;case"tone":return this.tone.frequency.value;case"feedback":return this.feedback.gain.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"time":"number"==typeof r&&(this.delay.delayTime.value=r,this.depth.gain.value=this.delay.delayTime.value*this.depthRate);break;case"depth":"number"==typeof r&&(this.depthRate=r,this.depth.gain.value=this.delay.delayTime.value*r);break;case"rate":"number"==typeof r&&(this.rate.value=r);break;case"mix":"number"==typeof r&&(this.mix.gain.value=r);break;case"tone":"number"==typeof r&&(this.tone.frequency.value=r);break;case"feedback":"number"==typeof r&&(this.feedback.gain.value=r)}return this}params(){return{state:this.isActive,time:this.delay.delayTime.value,depth:this.depthRate,rate:this.rate.value,mix:this.mix.gain.value,tone:this.tone.frequency.value,feedback:this.feedback.gain.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class y extends p{compressor;constructor(e){super(e),this.compressor=e.createDynamicsCompressor(),this.compressor.threshold.value=-24,this.compressor.knee.value=30,this.compressor.ratio.value=12,this.compressor.attack.value=.003,this.compressor.release.value=.25,this.activate()}connect(){return this.input.disconnect(0),this.compressor.disconnect(0),this.isActive?(this.input.connect(this.compressor),this.compressor.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"threshold":return this.compressor.threshold.value;case"knee":return this.compressor.knee.value;case"ratio":return this.compressor.ratio.value;case"attack":return this.compressor.attack.value;case"release":return this.compressor.release.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"threshold":"number"==typeof r&&(this.compressor.threshold.value=r);break;case"knee":"number"==typeof r&&(this.compressor.knee.value=r);break;case"ratio":"number"==typeof r&&(this.compressor.ratio.value=r);break;case"attack":"number"==typeof r&&(this.compressor.attack.value=r);break;case"release":"number"==typeof r&&(this.compressor.release.value=r)}return this}params(){return{state:this.isActive,threshold:this.compressor.threshold.value,knee:this.compressor.knee.value,ratio:this.compressor.ratio.value,attack:this.compressor.attack.value,release:this.compressor.release.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class g extends p{static MAX_DELAY_TIME=5;delay;dry;wet;tone;feedback;constructor(e){super(e),this.delay=e.createDelay(g.MAX_DELAY_TIME),this.dry=e.createGain(),this.wet=e.createGain(),this.tone=e.createBiquadFilter(),this.feedback=e.createGain(),this.delay.delayTime.value=0,this.dry.gain.value=1,this.wet.gain.value=0,this.tone.type="lowpass",this.tone.frequency.value=350,this.tone.Q.value=Math.SQRT1_2,this.tone.gain.value=0,this.feedback.gain.value=0,this.deactivate()}connect(){return this.input.disconnect(0),this.delay.disconnect(0),this.dry.disconnect(0),this.wet.disconnect(0),this.tone.disconnect(0),this.feedback.disconnect(0),this.isActive?(this.input.connect(this.dry),this.dry.connect(this.output),this.input.connect(this.tone),this.tone.connect(this.delay),this.delay.connect(this.wet),this.wet.connect(this.output),this.delay.connect(this.feedback),this.feedback.connect(this.delay)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"time":return this.delay.delayTime.value;case"dry":return this.dry.gain.value;case"wet":return this.wet.gain.value;case"tone":return this.tone.frequency.value;case"feedback":return this.feedback.gain.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"time":"number"==typeof r&&(this.delay.delayTime.value=r);break;case"dry":"number"==typeof r&&(this.dry.gain.value=r);break;case"wet":"number"==typeof r&&(this.wet.gain.value=r);break;case"tone":"number"==typeof r&&(this.tone.frequency.value=r);break;case"feedback":"number"==typeof r&&(this.feedback.gain.value=r)}return this}params(){return{state:this.isActive,time:this.delay.delayTime.value,dry:this.dry.gain.value,wet:this.wet.gain.value,tone:this.tone.frequency.value,feedback:this.feedback.gain.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class b{static MIN_GAIN=.001;context;generators=[];activeIndexes=[];activeCounter=0;attack=.01;decay=.3;sustain=.5;release=1;isActive=!0;constructor(e){this.context=e}ready(e,t,r){t&&r&&this.generators[e]?(t.connect(this.generators[e]),this.generators[e].connect(r)):t&&null===r&&this.generators[e]?t.connect(this.generators[e]):null===t&&r&&this.generators[e]&&this.generators[e].connect(r),this.activeIndexes[e]=e,this.activeCounter++}start(e){const t=e,r=t+this.attack,n=this.decay,s=this.sustain;for(const e of this.activeIndexes)void 0!==e&&(this.isActive?(this.generators[e].gain.cancelScheduledValues(t),this.generators[e].gain.setValueAtTime(0,t),this.generators[e].gain.linearRampToValueAtTime(1,r),this.generators[e].gain.setTargetAtTime(s,r,n)):this.generators[e].gain.value=1)}stop(e,t){const r=e-this.release,n=r>=this.context.currentTime?r:this.context.currentTime,s=this.release;for(const e of this.activeIndexes)void 0!==e&&(this.isActive?(this.generators[e].gain.cancelScheduledValues(n),t?this.generators[e].gain.setValueCurveAtTime(new Float32Array([1,.5,.25,0]),n,s):this.generators[e].gain.setTargetAtTime(0,n,s)):this.generators[e].gain.value=0)}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"attack":return this.attack;case"decay":return this.decay;case"sustain":return this.sustain;case"release":return this.release}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"attack":"number"==typeof r&&(this.attack=r);break;case"decay":"number"==typeof r&&(this.decay=r);break;case"sustain":"number"==typeof r&&(this.sustain=r);break;case"release":"number"==typeof r&&(this.release=r)}return this}getGenerator(e){return e>=0&&e<this.generators.length?this.generators[e]:null}setGenerator(e){this.generators[e]=this.context.createGain()}paused(){let e=0;for(const t of this.activeIndexes)if(void 0!==t){if(this.generators[t].gain.value>b.MIN_GAIN)return!1;if(e++,e===this.activeCounter)return!0}return!1}clear(e){this.activeIndexes.length=0,this.activeCounter=0;for(const t of this.generators)t.gain.cancelScheduledValues(this.context.currentTime),t.gain.value=1,e&&t.disconnect(0)}params(){return{state:this.isActive,attack:this.attack,decay:this.decay,sustain:this.sustain,release:this.release}}toJSON(){return JSON.stringify(this.params())}state(){return this.isActive}activate(){return this.isActive=!0,this}deactivate(){return this.isActive=!1,this}}class w extends p{bass;middle;treble;presence;constructor(e){super(e),this.bass=e.createBiquadFilter(),this.middle=e.createBiquadFilter(),this.treble=e.createBiquadFilter(),this.presence=e.createBiquadFilter(),this.bass.type="lowshelf",this.middle.type="peaking",this.treble.type="highshelf",this.presence.type="highshelf",this.bass.frequency.value=500,this.middle.frequency.value=1e3,this.treble.frequency.value=2e3,this.presence.frequency.value=4e3,this.bass.Q.value=Math.SQRT1_2,this.middle.Q.value=Math.SQRT1_2,this.treble.Q.value=Math.SQRT1_2,this.presence.Q.value=Math.SQRT1_2,this.bass.gain.value=0,this.middle.gain.value=0,this.treble.gain.value=0,this.presence.gain.value=0,this.deactivate()}connect(){return this.input.disconnect(0),this.bass.disconnect(0),this.middle.disconnect(0),this.treble.disconnect(0),this.presence.disconnect(0),this.isActive?(this.input.connect(this.bass),this.bass.connect(this.middle),this.middle.connect(this.treble),this.treble.connect(this.presence),this.presence.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"bass":return this.bass.gain.value;case"middle":return this.middle.gain.value;case"treble":return this.treble.gain.value;case"presence":return this.presence.gain.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"bass":"number"==typeof r&&(this.bass.gain.value=r);break;case"middle":"number"==typeof r&&(this.middle.gain.value=r);break;case"treble":"number"==typeof r&&(this.treble.gain.value=r);break;case"presence":"number"==typeof r&&(this.presence.gain.value=r)}return this}params(){return{state:this.isActive,bass:this.bass.gain.value,middle:this.middle.gain.value,treble:this.treble.gain.value,presence:this.presence.gain.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class k extends p{filter;maxFrequency;range=.1;attack=.01;decay=.3;sustain=1;release=1;constructor(e){super(e),this.filter=e.createBiquadFilter(),this.filter.type="lowpass",this.filter.frequency.value=350,this.filter.Q.value=1,this.filter.gain.value=0,this.maxFrequency=this.filter.frequency.value,this.deactivate()}start(e){if(!this.isActive)return;const t=e??this.context.currentTime,r=t+this.attack,n=this.decay,s=this.sustain*this.maxFrequency,i=this.maxFrequency*this.range;this.filter.frequency.cancelScheduledValues(t),this.filter.frequency.setValueAtTime(i,t),this.filter.frequency.linearRampToValueAtTime(this.maxFrequency,r),this.filter.frequency.setTargetAtTime(s,r,n)}stop(e){if(!this.isActive)return;const t=e??this.context.currentTime,r=this.release,n=this.maxFrequency*this.range;this.filter.frequency.cancelScheduledValues(t),this.filter.frequency.setValueAtTime(this.filter.frequency.value,t),this.filter.frequency.setTargetAtTime(n,t,r)}connect(){return this.input.disconnect(0),this.filter.disconnect(0),this.isActive?(this.input.connect(this.filter),this.filter.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"type":return this.filter.type;case"frequency":return this.filter.frequency.value;case"Q":return this.filter.Q.value;case"gain":return this.filter.gain.value;case"range":return this.range;case"attack":return this.attack;case"decay":return this.decay;case"sustain":return this.sustain;case"release":return this.release}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"type":"string"==typeof r&&(this.filter.type=r);break;case"frequency":"number"==typeof r&&(this.filter.frequency.value=r,this.maxFrequency=r);break;case"Q":"number"==typeof r&&(this.filter.Q.value=r);break;case"gain":"number"==typeof r&&(this.filter.gain.value=r);break;case"range":"number"==typeof r&&(this.range=r);break;case"attack":"number"==typeof r&&(this.attack=r);break;case"decay":"number"==typeof r&&(this.decay=r);break;case"sustain":"number"==typeof r&&(this.sustain=r);break;case"release":"number"==typeof r&&(this.release=r)}return this}params(){return{state:this.isActive,type:this.filter.type,frequency:this.filter.frequency.value,Q:this.filter.Q.value,gain:this.filter.gain.value,range:this.range,attack:this.attack,decay:this.decay,sustain:this.sustain,release:this.release}}activate(){return this.isActive=!0,this.connect(),this}deactivate(){return this.isActive=!1,this.connect(),this}}class S extends p{delay;tone;mix;feedback;depthRate=0;constructor(e){super(e),this.delay=e.createDelay(),this.mix=e.createGain(),this.tone=e.createBiquadFilter(),this.feedback=e.createGain(),this.delay.delayTime.value=0,this.depth.gain.value=0,this.rate.value=0,this.mix.gain.value=0,this.tone.type="lowpass",this.tone.frequency.value=350,this.tone.Q.value=Math.SQRT1_2,this.tone.gain.value=0,this.feedback.gain.value=0,this.depthRate=0,this.deactivate(),this.lfo.connect(this.depth),this.depth.connect(this.delay.delayTime)}stop(e,t){super.stop(e,t),this.isActive&&(this.lfo.connect(this.depth),this.depth.connect(this.delay.delayTime))}connect(){return this.input.disconnect(0),this.delay.disconnect(0),this.mix.disconnect(0),this.tone.disconnect(0),this.feedback.disconnect(0),this.input.connect(this.output),this.isActive&&(this.input.connect(this.tone),this.tone.connect(this.delay),this.delay.connect(this.mix),this.mix.connect(this.output),this.delay.connect(this.feedback),this.feedback.connect(this.delay)),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"time":return this.delay.delayTime.value;case"depth":return this.depthRate;case"rate":return this.rate.value;case"mix":return this.mix.gain.value;case"tone":return this.tone.frequency.value;case"feedback":return this.feedback.gain.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"time":"number"==typeof r&&(this.delay.delayTime.value=r,this.depth.gain.value=this.delay.delayTime.value*this.depthRate);break;case"depth":"number"==typeof r&&(this.depthRate=r,this.depth.gain.value=this.delay.delayTime.value*r);break;case"rate":"number"==typeof r&&(this.rate.value=r);break;case"mix":"number"==typeof r&&(this.mix.gain.value=r);break;case"tone":"number"==typeof r&&(this.tone.frequency.value=r);break;case"feedback":"number"==typeof r&&(this.feedback.gain.value=r)}return this}params(){return{state:this.isActive,time:this.delay.delayTime.value,depth:this.depthRate,rate:this.rate.value,mix:this.mix.gain.value,tone:this.tone.frequency.value,feedback:this.feedback.gain.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class x extends p{positiveShaper;negativeShaper;positiveInputGain;negativeInputGain;positiveOutputGain;negativeOutputGain;outFilter;driveInput;level;drive=0;constructor(e){super(e),this.positiveShaper=this.context.createWaveShaper(),this.negativeShaper=this.context.createWaveShaper(),this.positiveInputGain=this.context.createGain(),this.negativeInputGain=this.context.createGain(),this.positiveOutputGain=this.context.createGain(),this.negativeOutputGain=this.context.createGain(),this.driveInput=this.context.createConstantSource(),this.outFilter=this.context.createBiquadFilter(),this.level=this.context.createGain();const t=new Float32Array(1024);for(let e=0;e<512;e++){const r=.5*Math.tanh(4*e/512),n=1-e/512;t[512+e]=r,t[511-e]=r*n**4}this.positiveShaper.curve=t,this.negativeShaper.curve=t,this.positiveInputGain.gain.value=1,this.negativeInputGain.gain.value=-1,this.positiveOutputGain.gain.value=1,this.negativeOutputGain.gain.value=-1,this.driveInput.offset.value=this.drive,this.outFilter.type="highpass",this.outFilter.frequency.value=80,this.outFilter.Q.value=1,this.outFilter.gain.value=0,this.level.gain.value=1,this.deactivate()}start(e){this.isActive&&this.paused&&(this.driveInput.start(this.context.currentTime),this.paused=!1)}stop(e,t){this.isActive&&!this.paused&&(this.driveInput.stop(this.context.currentTime),this.driveInput=this.context.createConstantSource(),this.driveInput.offset.value=this.drive,this.paused=!0,this.connect())}connect(){return this.input.disconnect(0),this.positiveShaper.disconnect(0),this.negativeShaper.disconnect(0),this.positiveInputGain.disconnect(0),this.negativeInputGain.disconnect(0),this.positiveOutputGain.disconnect(0),this.negativeOutputGain.disconnect(0),this.driveInput.disconnect(0),this.outFilter.disconnect(0),this.level.disconnect(0),this.isActive?(this.input.connect(this.positiveInputGain),this.positiveInputGain.connect(this.positiveShaper),this.positiveShaper.connect(this.positiveOutputGain),this.positiveOutputGain.connect(this.outFilter),this.input.connect(this.negativeInputGain),this.negativeInputGain.connect(this.negativeShaper),this.negativeShaper.connect(this.negativeOutputGain),this.negativeOutputGain.connect(this.outFilter),this.driveInput.connect(this.negativeOutputGain.gain),this.outFilter.connect(this.level),this.level.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"drive":return this.drive;case"level":return this.level.gain.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"drive":"number"==typeof r&&(this.drive=r,this.driveInput.offset.value=this.drive);break;case"level":"number"==typeof r&&(this.level.gain.value=r)}return this}params(){return{state:this.isActive,drive:this.drive,level:this.level.gain.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class E extends p{listener;positions;forwards;ups;constructor(e){super(e),this.listener=e.listener,this.positions={x:0,y:0,z:0},this.forwards={x:0,y:0,z:-1},this.ups={x:0,y:1,z:0},this.listener.setPosition(this.positions.x,this.positions.y,this.positions.z),this.listener.setOrientation(this.forwards.x,this.forwards.y,this.forwards.z,this.ups.x,this.ups.y,this.ups.z)}connect(){return this.output}param(e){if("string"==typeof e)switch(e){case"x":return this.positions.x;case"y":return this.positions.y;case"z":return this.positions.z;case"fx":return this.forwards.x;case"fy":return this.forwards.y;case"fz":return this.forwards.z;case"ux":return this.ups.x;case"uy":return this.ups.y;case"uz":return this.ups.z}for(const[t,r]of Object.entries(e))switch(t){case"x":"number"==typeof r&&(this.positions.x=r,this.listener.setPosition(this.positions.x,this.positions.y,this.positions.z));break;case"y":"number"==typeof r&&(this.positions.y=r,this.listener.setPosition(this.positions.x,this.positions.y,this.positions.z));break;case"z":"number"==typeof r&&(this.positions.z=r,this.listener.setPosition(this.positions.x,this.positions.y,this.positions.z));break;case"fx":"number"==typeof r&&(this.forwards.x=r,this.listener.setOrientation(this.forwards.x,this.forwards.y,this.forwards.z,this.ups.x,this.ups.y,this.ups.z));break;case"fy":"number"==typeof r&&(this.forwards.y=r,this.listener.setOrientation(this.forwards.x,this.forwards.y,this.forwards.z,this.ups.x,this.ups.y,this.ups.z));break;case"fz":"number"==typeof r&&(this.forwards.z=r,this.listener.setOrientation(this.forwards.x,this.forwards.y,this.forwards.z,this.ups.x,this.ups.y,this.ups.z));break;case"ux":"number"==typeof r&&(this.ups.x=r,this.listener.setOrientation(this.forwards.x,this.forwards.y,this.forwards.z,this.ups.x,this.ups.y,this.ups.z));break;case"uy":"number"==typeof r&&(this.ups.y=r,this.listener.setOrientation(this.forwards.x,this.forwards.y,this.forwards.z,this.ups.x,this.ups.y,this.ups.z));break;case"uz":"number"==typeof r&&(this.ups.z=r,this.listener.setOrientation(this.forwards.x,this.forwards.y,this.forwards.z,this.ups.x,this.ups.y,this.ups.z))}return this}params(){return{x:this.positions.x,y:this.positions.y,z:this.positions.z,fx:this.forwards.x,fy:this.forwards.y,fz:this.forwards.z,ux:this.ups.x,uy:this.ups.y,uz:this.ups.z}}}class NoiseGateProcessor extends AudioWorkletProcessor{level=0;isActive=!0;constructor(){super(),this.port.onmessage=e=>{for(const[t,r]of Object.entries(e.data))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"level":"number"==typeof r&&(this.level=r)}}}process(e,t){const r=e[0],n=t[0];if(0===r.length||0===n.length)return!0;const s=r[0].length;for(let e=0,t=r.length;e<t;e++)for(let t=0;t<s;t++)n[e][t]=this.gate(r[e][t]);return!0}gate(e){return this.isActive?Math.abs(e)>this.level?e:0:e}}class T extends p{processor;level=0;constructor(e){super(e),this.processor=new AudioWorkletNode(this.context,NoiseGateProcessor.name),this.activate()}start(){}stop(){}connect(){return this.input.disconnect(0),this.processor.disconnect(0),this.isActive?(this.input.connect(this.processor),this.processor.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"level":return this.level}for(const[t,r]of Object.entries(e))switch(t){case"state":if("boolean"==typeof r){this.isActive=r;const e={state:r};this.processor.port.postMessage(e)}break;case"level":if("number"==typeof r){this.level=r;const e={level:r};this.processor.port.postMessage(e)}}return this}params(){return{state:this.isActive,level:this.level}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class NoiseSuppressorProcessor extends AudioWorkletProcessor{static FFT(e,t,r){const n=e=>2**e,s=new Uint16Array(r),i=Math.log2(r);for(let s=1;s<=i;s++)for(let a=0;a<n(s-1);a++){const o=i-s;for(let u=0;u<n(o);u++){const l=a*n(o+1)+u,c=n(o)+l,h=u*n(s-1),f=e[l],p=t[l],d=e[c],m=t[c],v=Math.cos(2*Math.PI*h/r),y=-1*Math.sin(2*Math.PI*h/r);s<i?(e[l]=f+d,t[l]=p+m,e[c]=v*(f-d)-y*(p-m),t[c]=v*(p-m)+y*(f-d)):(e[l]=f+d,t[l]=p+m,e[c]=f-d,t[c]=p-m)}}for(let e=1;e<=i;e++){const t=i-e;for(let r=0;r<n(e-1);r++)s[n(e-1)+r]=s[r]+n(t)}for(let n=0;n<r;n++){if(s[n]<=n)continue;const r=e[s[n]],i=t[s[n]];e[s[n]]=e[n],t[s[n]]=t[n],e[n]=r,t[n]=i}}static IFFT(e,t,r){const n=e=>2**e,s=new Uint16Array(r),i=Math.log2(r);for(let s=1;s<=i;s++)for(let a=0;a<n(s-1);a++){const o=i-s;for(let u=0;u<n(o);u++){const l=a*n(o+1)+u,c=n(o)+l,h=u*n(s-1),f=e[l],p=t[l],d=e[c],m=t[c],v=Math.cos(2*Math.PI*h/r),y=Math.sin(2*Math.PI*h/r);s<i?(e[l]=f+d,t[l]=p+m,e[c]=v*(f-d)-y*(p-m),t[c]=v*(p-m)+y*(f-d)):(e[l]=f+d,t[l]=p+m,e[c]=f-d,t[c]=p-m)}}for(let e=1;e<=i;e++){const t=i-e;for(let r=0;r<n(e-1);r++)s[n(e-1)+r]=s[r]+n(t)}for(let n=0;n<r;n++){if(s[n]<=n)continue;const r=e[s[n]],i=t[s[n]];e[s[n]]=e[n],t[s[n]]=t[n],e[n]=r,t[n]=i}for(let n=0;n<r;n++)e[n]/=r,t[n]/=r}threshold=0;isActive=!0;constructor(){super(),this.port.onmessage=e=>{for(const[t,r]of Object.entries(e.data))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"threshold":"number"==typeof r&&(this.threshold=r)}}}process(e,t){const r=e[0],n=t[0];if(0===r.length||0===n.length)return!0;const s=r[0].length;for(let e=0,t=r.length;e<t;e++)this.suppress(r[e],n[e],s);return!0}suppress(e,t,r){if(!this.isActive||0===this.threshold)return void t.set(e);const n=new Float32Array(e),s=new Float32Array(r),i=new Float32Array(r),a=new Float32Array(r),o=new Float32Array(r),u=new Float32Array(r);NoiseSuppressorProcessor.FFT(n,s,r);for(let e=0;e<r;e++)o[e]=Math.sqrt(n[e]**2+s[e]**2),0!==n[e]&&0!==s[e]&&(u[e]=Math.atan2(s[e],n[e]));for(let e=0;e<r;e++)o[e]-=this.threshold,o[e]<0&&(o[e]=0);for(let e=0;e<r;e++)i[e]=o[e]*Math.cos(u[e]),a[e]=o[e]*Math.sin(u[e]);NoiseSuppressorProcessor.IFFT(i,a,r),t.set(i)}}class A extends p{processor;threshold=0;constructor(e){super(e),this.processor=new AudioWorkletNode(this.context,NoiseSuppressorProcessor.name),this.activate()}start(){}stop(){}connect(){return this.input.disconnect(0),this.processor.disconnect(0),this.isActive?(this.input.connect(this.processor),this.processor.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"threshold":return this.threshold}for(const[t,r]of Object.entries(e))switch(t){case"state":if("boolean"==typeof r){this.isActive=r;const e={state:r};this.processor.port.postMessage(e)}break;case"threshold":if("number"==typeof r&&r>=0){this.threshold=r;const e={threshold:r};this.processor.port.postMessage(e)}}return this}params(){return{state:this.isActive,threshold:this.threshold}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class C extends p{shaper;inputShaper;outputShaper;inputGain;outputGain;driveInput;level;drive=0;constructor(e){super(e),this.shaper=this.context.createWaveShaper(),this.inputShaper=this.context.createWaveShaper(),this.outputShaper=this.context.createWaveShaper(),this.inputGain=this.context.createGain(),this.outputGain=this.context.createGain(),this.driveInput=this.context.createConstantSource(),this.level=this.context.createGain();const t=new Float32Array(1024);for(let e=0;e<512;e++){const r=.5*Math.tanh(4*e/512);t[512+e]=r,t[511-e]=-r}const r=new Float32Array(101);for(let e=0;e<101;e++)r[e]=.25;for(let e=52,t=.25;e<101;e++,t*=1.1)r[e]=t;const n=new Float32Array([2,2,2,2,2,.9,.5,.35,.3]);this.shaper.curve=t,this.inputShaper.curve=r,this.outputShaper.curve=n,this.inputGain.gain.value=0,this.outputGain.gain.value=0,this.driveInput.offset.value=this.drive,this.level.gain.value=1,this.deactivate()}start(e){this.isActive&&this.paused&&(this.driveInput.start(this.context.currentTime),this.paused=!1)}stop(e,t){this.isActive&&!this.paused&&(this.driveInput.stop(this.context.currentTime),this.driveInput=this.context.createConstantSource(),this.driveInput.offset.value=this.drive,this.paused=!0,this.connect())}connect(){return this.input.disconnect(0),this.shaper.disconnect(0),this.inputShaper.disconnect(0),this.outputShaper.disconnect(0),this.inputGain.disconnect(0),this.outputGain.disconnect(0),this.driveInput.disconnect(0),this.level.disconnect(0),this.isActive?(this.input.connect(this.inputGain),this.inputGain.connect(this.shaper),this.shaper.connect(this.outputGain),this.outputGain.connect(this.level),this.level.connect(this.output),this.driveInput.connect(this.inputShaper),this.inputShaper.connect(this.inputGain.gain),this.driveInput.connect(this.outputShaper),this.outputShaper.connect(this.outputGain.gain)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"drive":return this.drive;case"level":return this.level.gain.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"drive":"number"==typeof r&&(this.drive=r,this.driveInput.offset.value=this.drive);break;case"level":"number"==typeof r&&(this.level.gain.value=r)}return this}params(){return{state:this.isActive,drive:this.drive,level:this.level.gain.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class _ extends p{panner;positions;orientations;constructor(e){super(e),this.panner=e.createPanner(),this.positions={x:0,y:0,z:0},this.orientations={x:1,y:0,z:0},this.panner.refDistance=1,this.panner.maxDistance=1e4,this.panner.rolloffFactor=1,this.panner.coneInnerAngle=360,this.panner.coneOuterAngle=360,this.panner.coneOuterGain=0,this.panner.panningModel="HRTF",this.panner.distanceModel="inverse",this.panner.positionX.value=this.positions.x,this.panner.positionY.value=this.positions.y,this.panner.positionZ.value=this.positions.z,this.panner.orientationX.value=this.orientations.x,this.panner.orientationY.value=this.orientations.y,this.panner.orientationZ.value=this.orientations.z,this.deactivate()}connect(){return this.input.disconnect(0),this.panner.disconnect(0),this.isActive?(this.input.connect(this.panner),this.panner.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"x":return this.panner.positionX.value;case"y":return this.panner.positionY.value;case"z":return this.panner.positionZ.value;case"ox":return this.panner.orientationX.value;case"oy":return this.panner.orientationY.value;case"oz":return this.panner.orientationZ.value;case"refDistance":return this.panner.refDistance;case"maxDistance":return this.panner.maxDistance;case"rolloffFactor":return this.panner.rolloffFactor;case"coneInnerAngle":return this.panner.coneInnerAngle;case"coneOuterAngle":return this.panner.coneOuterAngle;case"coneOuterGain":return this.panner.coneOuterGain;case"panningModel":return this.panner.panningModel;case"distanceModel":return this.panner.distanceModel}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"x":"number"==typeof r&&(this.panner.positionX.value=r);break;case"y":"number"==typeof r&&(this.panner.positionY.value=r);break;case"z":"number"==typeof r&&(this.panner.positionZ.value=r);break;case"ox":"number"==typeof r&&(this.panner.orientationX.value=r);break;case"oy":"number"==typeof r&&(this.panner.orientationY.value=r);break;case"oz":"number"==typeof r&&(this.panner.orientationZ.value=r);break;case"refDistance":"number"==typeof r&&(this.panner.refDistance=r);break;case"maxDistance":"number"==typeof r&&(this.panner.maxDistance=r);break;case"rolloffFactor":"number"==typeof r&&(this.panner.rolloffFactor=r);break;case"coneInnerAngle":"number"==typeof r&&(this.panner.coneInnerAngle=r);break;case"coneOuterAngle":"number"==typeof r&&(this.panner.coneOuterAngle=r);break;case"coneOuterGain":"number"==typeof r&&(this.panner.coneOuterGain=r);break;case"panningModel":"HRTF"!==r&&"equalpower"!==r||(this.panner.panningModel=r);break;case"distanceModel":"linear"!==r&&"inverse"!==r&&"exponential"!==r||(this.panner.distanceModel=r)}return this}params(){return{state:this.isActive,x:this.positions.x,y:this.positions.y,z:this.positions.z,ox:this.orientations.x,oy:this.orientations.y,oz:this.orientations.z,refDistance:this.panner.refDistance,maxDistance:this.panner.maxDistance,rolloffFactor:this.panner.rolloffFactor,coneInnerAngle:this.panner.coneInnerAngle,coneOuterAngle:this.panner.coneOuterAngle,coneOuterGain:this.panner.coneOuterGain,panningModel:this.panner.panningModel,distanceModel:this.panner.distanceModel}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class N extends p{static MAX_STAGES=24;numberOfStages=12;filters=[];mix;depthRate=0;constructor(e){super(e);for(let t=0;t<N.MAX_STAGES;t++){const t=e.createBiquadFilter();t.type="allpass",t.frequency.value=350,t.Q.value=1,t.gain.value=0,this.filters.push(t)}this.mix=e.createGain(),this.depth.gain.value=0,this.rate.value=0,this.mix.gain.value=0,this.deactivate(),this.lfo.connect(this.depth);for(let e=0;e<N.MAX_STAGES;e++)this.depth.connect(this.filters[e].frequency)}stop(e,t){if(super.stop(e,t),this.isActive){this.lfo.connect(this.depth);for(let e=0;e<N.MAX_STAGES;e++)this.depth.connect(this.filters[e].frequency)}}connect(){this.input.disconnect(0);for(let e=0;e<N.MAX_STAGES;e++)this.filters[e].disconnect(0);if(this.mix.disconnect(0),this.input.connect(this.output),this.isActive&&this.numberOfStages>0){this.input.connect(this.filters[0]);for(let e=0;e<this.numberOfStages;e++)e<this.numberOfStages-1?this.filters[e].connect(this.filters[e+1]):(this.filters[e].connect(this.mix),this.mix.connect(this.output))}return this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"stage":return this.numberOfStages;case"frequency":return this.filters[0].frequency.value;case"resonance":return this.filters[0].Q.value;case"depth":return this.depthRate;case"rate":return this.rate.value;case"mix":return this.mix.gain.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"stage":switch(r){case 0:case 2:case 4:case 8:case 12:case 24:this.numberOfStages=r,this.connect()}break;case"frequency":if("number"==typeof r){for(const e of this.filters)e.frequency.value=r;this.depth.gain.value=r*this.depthRate}break;case"resonance":if("number"==typeof r)for(const e of this.filters)e.Q.value=r;break;case"depth":"number"==typeof r&&(this.depthRate=r,this.depth.gain.value=this.filters[0].frequency.value*r);break;case"rate":"number"==typeof r&&(this.rate.value=r);break;case"mix":"number"==typeof r&&(this.mix.gain.value=r)}return this}params(){return{state:this.isActive,stage:this.numberOfStages,frequency:this.filters[0].frequency.value,resonance:this.filters[0].Q.value,depth:this.depthRate,rate:this.rate.value,mix:this.mix.gain.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class PitchShifterProcessor extends AudioWorkletProcessor{static GAIN_CORRECTION=2;static FFT(e,t,r){const n=e=>2**e,s=new Uint16Array(r),i=Math.log2(r);for(let s=1;s<=i;s++)for(let a=0;a<n(s-1);a++){const o=i-s;for(let u=0;u<n(o);u++){const l=a*n(o+1)+u,c=n(o)+l,h=u*n(s-1),f=e[l],p=t[l],d=e[c],m=t[c],v=Math.cos(2*Math.PI*h/r),y=-1*Math.sin(2*Math.PI*h/r);s<i?(e[l]=f+d,t[l]=p+m,e[c]=v*(f-d)-y*(p-m),t[c]=v*(p-m)+y*(f-d)):(e[l]=f+d,t[l]=p+m,e[c]=f-d,t[c]=p-m)}}for(let e=1;e<=i;e++){const t=i-e;for(let r=0;r<n(e-1);r++)s[n(e-1)+r]=s[r]+n(t)}for(let n=0;n<r;n++){if(s[n]<=n)continue;const r=e[s[n]],i=t[s[n]];e[s[n]]=e[n],t[s[n]]=t[n],e[n]=r,t[n]=i}}static IFFT(e,t,r){const n=e=>2**e,s=new Uint16Array(r),i=Math.log2(r);for(let s=1;s<=i;s++)for(let a=0;a<n(s-1);a++){const o=i-s;for(let u=0;u<n(o);u++){const l=a*n(o+1)+u,c=n(o)+l,h=u*n(s-1),f=e[l],p=t[l],d=e[c],m=t[c],v=Math.cos(2*Math.PI*h/r),y=Math.sin(2*Math.PI*h/r);s<i?(e[l]=f+d,t[l]=p+m,e[c]=v*(f-d)-y*(p-m),t[c]=v*(p-m)+y*(f-d)):(e[l]=f+d,t[l]=p+m,e[c]=f-d,t[c]=p-m)}}for(let e=1;e<=i;e++){const t=i-e;for(let r=0;r<n(e-1);r++)s[n(e-1)+r]=s[r]+n(t)}for(let n=0;n<r;n++){if(s[n]<=n)continue;const r=e[s[n]],i=t[s[n]];e[s[n]]=e[n],t[s[n]]=t[n],e[n]=r,t[n]=i}for(let n=0;n<r;n++)e[n]/=r,t[n]/=r}isActive=!0;pitch=1;constructor(){super(),this.port.onmessage=e=>{for(const[t,r]of Object.entries(e.data))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"pitch":"number"==typeof r&&(this.pitch=r)}}}process(e,t){const r=e[0],n=t[0];if(0===r.length||0===n.length)return!0;if(this.isActive){const e=r[0].length;for(let t=0,s=r.length;t<s;t++)this.shift(r[t],n[t],e)}else n[0].set(r[0]),n[1].set(r[1]);return!0}shift(e,t,r){if(1===this.pitch)return void t.set(e);const n=new Float32Array(e),s=new Float32Array(r);PitchShifterProcessor.FFT(n,s,r);const i=new Float32Array(r),a=new Float32Array(r);for(let e=0;e<r;e++){const t=Math.trunc(this.pitch*e);let o=1;e>r/2&&(o=0),t>=0&&t<r&&(i[t]+=PitchShifterProcessor.GAIN_CORRECTION*o*n[e],a[t]+=PitchShifterProcessor.GAIN_CORRECTION*o*s[e])}PitchShifterProcessor.IFFT(i,a,r),t.set(i)}}class M extends p{processor;pitch=1;constructor(e){super(e),this.processor=new AudioWorkletNode(this.context,PitchShifterProcessor.name),this.activate()}start(){}stop(){}connect(){return this.input.disconnect(0),this.processor.disconnect(0),this.isActive?(this.input.connect(this.processor),this.processor.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"pitch":return this.pitch}for(const[t,r]of Object.entries(e))switch(t){case"state":if("boolean"==typeof r){this.isActive=r;const e={state:r};this.processor.port.postMessage(e)}break;case"pitch":if("number"==typeof r&&r>0){this.pitch=r;const e={pitch:r};this.processor.port.postMessage(e)}}return this}params(){return{state:this.isActive,pitch:this.pitch}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class P extends p{shaper;gain;leadGain;lowpass;highpass1;highpass2;highpass3;constructor(e){super(e),this.shaper=e.createWaveShaper(),this.gain=e.createGain(),this.leadGain=e.createGain(),this.lowpass=e.createBiquadFilter(),this.highpass1=e.createBiquadFilter(),this.highpass2=e.createBiquadFilter(),this.highpass3=e.createBiquadFilter(),this.gain.gain.value=.5,this.leadGain.gain.value=.5,this.lowpass.type="lowpass",this.lowpass.frequency.value=3200,this.lowpass.Q.value=Math.SQRT1_2,this.lowpass.gain.value=0,this.highpass1.type="highpass",this.highpass1.frequency.value=80,this.highpass1.Q.value=Math.SQRT1_2,this.highpass1.gain.value=0,this.highpass2.type="highpass",this.highpass2.frequency.value=640,this.highpass2.Q.value=Math.SQRT1_2,this.highpass2.gain.value=0,this.highpass3.type="highpass",this.highpass3.frequency.value=80,this.highpass3.Q.value=Math.SQRT1_2,this.highpass3.gain.value=0,this.deactivate()}connect(){return this.input.disconnect(0),this.isActive?(this.input.connect(this.highpass1),this.highpass1.connect(this.gain),this.gain.connect(this.highpass3),this.input.connect(this.highpass2),this.highpass2.connect(this.leadGain),this.leadGain.connect(this.highpass3),this.highpass3.connect(this.shaper),this.shaper.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"curve":return this.shaper.curve;case"gain":return this.gain.gain.value;case"lead":return this.leadGain.gain.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(r?this.activate():this.deactivate());break;case"curve":"number"!=typeof r&&"boolean"!=typeof r&&(r instanceof Float32Array||null===r)&&(this.shaper.curve=r);break;case"gain":"number"==typeof r&&(this.gain.gain.value=r);break;case"lead":"number"==typeof r&&(this.leadGain.gain.value=r)}}params(){return{state:this.isActive,curve:this.shaper.curve,gain:this.gain.gain.value,lead:this.leadGain.gain.value}}}class O extends p{shaper;bass;middle;treble;lowpass;highpass;constructor(e){super(e),this.shaper=e.createWaveShaper(),this.bass=e.createBiquadFilter(),this.middle=e.createBiquadFilter(),this.treble=e.createBiquadFilter(),this.bass.type="lowshelf",this.middle.type="peaking",this.treble.type="highshelf",this.bass.frequency.value=240,this.middle.frequency.value=500,this.treble.frequency.value=1600,this.bass.Q.value=Math.SQRT1_2,this.middle.Q.value=Math.SQRT1_2,this.treble.Q.value=Math.SQRT1_2,this.bass.gain.value=0,this.middle.gain.value=0,this.treble.gain.value=0,this.lowpass=e.createBiquadFilter(),this.highpass=e.createBiquadFilter(),this.lowpass.type="lowpass",this.lowpass.frequency.value=2e4,this.lowpass.Q.value=Math.SQRT1_2,this.lowpass.gain.value=0,this.highpass.type="highpass",this.highpass.frequency.value=40,this.highpass.Q.value=Math.SQRT1_2,this.highpass.gain.value=0,this.deactivate()}connect(){return this.input.disconnect(0),this.isActive?(this.input.connect(this.lowpass),this.lowpass.connect(this.highpass),this.highpass.connect(this.shaper),this.shaper.connect(this.bass),this.bass.connect(this.middle),this.middle.connect(this.treble),this.treble.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"curve":return this.shaper.curve;case"bass":return this.bass.gain.value;case"middle":return this.middle.gain.value;case"treble":return this.treble.gain.value;case"frequency":return this.middle.frequency.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(r?this.activate():this.deactivate());break;case"curve":"number"!=typeof r&&"boolean"!=typeof r&&(r instanceof Float32Array||null===r)&&(this.shaper.curve=r);break;case"bass":"number"==typeof r&&(this.bass.gain.value=r);break;case"middle":"number"==typeof r&&(this.middle.gain.value=r);break;case"treble":"number"==typeof r&&(this.treble.gain.value=r);break;case"frequency":"number"==typeof r&&(this.middle.frequency.value=r)}}params(){return{state:this.isActive,curve:this.shaper.curve,bass:this.bass.gain.value,middle:this.middle.gain.value,treble:this.treble.gain.value,frequency:this.middle.frequency.value}}}class R extends p{lowpass;notch;constructor(e){super(e),this.lowpass=e.createBiquadFilter(),this.notch=e.createBiquadFilter(),this.lowpass.type="lowpass",this.lowpass.frequency.value=3200,this.lowpass.Q.value=6,this.lowpass.gain.value=0,this.notch.type="notch",this.notch.frequency.value=8e3,this.notch.Q.value=1,this.notch.gain.value=0,this.activate()}connect(){return this.input.disconnect(0),this.isActive?(this.input.connect(this.notch),this.notch.connect(this.lowpass),this.lowpass.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e&&"state"===e)return this.isActive;for(const[t,r]of Object.entries(e))"state"===t&&"boolean"==typeof r&&(r?this.activate():this.deactivate())}params(){return{state:this.isActive}}}class z extends p{static createCurve(e,t){const r=Math.trunc((t-1)/2),n=new Float32Array(t),s=(10**(e/5-1)-.1)/5+1;let i=.4;1===s?i=1:s>1&&s<1.04&&(i=-15.5*s+16.52);for(let e=0;e<r;e++)n[r+e]=i*(1-s**-e+e*s**-r/r),n[r-e]=i*(-1+s**-e-e*s**-r/r);return n[r]=0,n}preEQ;postEQ;cabinet;level=0;numberOfSamples=1024;constructor(e){super(e),this.preEQ=new P(e),this.postEQ=new O(e),this.cabinet=new R(e),this.deactivate()}connect(){return this.input.disconnect(0),this.isActive?(this.input.connect(this.preEQ.INPUT),this.preEQ.OUTPUT.connect(this.postEQ.INPUT),this.postEQ.OUTPUT.connect(this.cabinet.INPUT),this.cabinet.OUTPUT.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"level":return this.level;case"samples":return this.numberOfSamples;case"pre":return this.preEQ.params();case"post":return this.postEQ.params();case"cabinet":return this.cabinet.params()}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"level":if("number"==typeof r){this.level=r;const e=z.createCurve(this.level,this.numberOfSamples);this.preEQ.param({curve:e}),this.postEQ.param({curve:e})}break;case"samples":"number"==typeof r&&(this.numberOfSamples=r);break;case"pre":"object"==typeof r&&this.preEQ.param(r);break;case"post":"object"==typeof r&&this.postEQ.param(r);break;case"cabinet":"object"==typeof r&&this.cabinet.param(r)}return this}params(){return{state:this.isActive,level:this.level,samples:this.numberOfSamples,pre:this.preEQ.params(),post:this.postEQ.params(),cabinet:this.cabinet.params()}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class I extends p{convolver;dry;wet;tone;rirs=[];loadError=!1;constructor(e){super(e),this.convolver=e.createConvolver(),this.dry=e.createGain(),this.wet=e.createGain(),this.tone=e.createBiquadFilter(),this.dry.gain.value=1,this.wet.gain.value=0,this.tone.type="lowpass",this.tone.frequency.value=350,this.tone.Q.value=Math.SQRT1_2,this.tone.gain.value=0,this.deactivate()}connect(){return this.input.disconnect(0),this.convolver.disconnect(0),this.dry.disconnect(0),this.wet.disconnect(0),this.tone.disconnect(0),this.isActive?(this.input.connect(this.dry),this.dry.connect(this.output),this.input.connect(this.tone),this.tone.connect(this.convolver),this.convolver.connect(this.wet),this.wet.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"buffer":return this.convolver.buffer;case"dry":return this.dry.gain.value;case"wet":return this.wet.gain.value;case"tone":return this.tone.frequency.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"buffer":"number"==typeof r?r>=0&&r<this.rirs.length&&(this.convolver.buffer=this.rirs[r],this.connect()):r instanceof AudioBuffer?(this.convolver.buffer=r,this.connect()):null===r&&(this.convolver.buffer=null,this.input.disconnect(0),this.input.connect(this.output));break;case"dry":"number"==typeof r&&(this.dry.gain.value=r);break;case"wet":"number"==typeof r&&(this.wet.gain.value=r);break;case"tone":"number"==typeof r&&(this.tone.frequency.value=r)}return this}add(e,t){if(e instanceof AudioBuffer)this.convolver.buffer=e,this.rirs.push(e);else if(e instanceof ArrayBuffer){const r=e=>{this.convolver.buffer=e,this.rirs.push(e)};this.context.decodeAudioData(e,r,t??(()=>{}))}return this}preset(e){const{rirs:t,timeout:r,successCallback:n,errorCallback:s,progressCallback:i}=e;for(let e=0,a=t.length;e<a;e++){const a=t[e];"string"==typeof a?this.load({rir:a,index:e,timeout:r,successCallback:n,errorCallback:s,progressCallback:i}):this.rirs[e]=a}}params(){return{state:this.isActive,dry:this.dry.gain.value,wet:this.wet.gain.value,tone:this.tone.frequency.value}}activate(){return this.isActive=!0,this.connect(),this}deactivate(){return this.isActive=!1,this.connect(),this}load(e){const{rir:t,index:r,timeout:n,successCallback:s,errorCallback:i,progressCallback:a}=e,o=new XMLHttpRequest;o.timeout=n??6e4,o.ontimeout=e=>{!this.loadError&&i&&i(e,"timeout"),this.loadError=!0},o.onprogress=e=>{this.loadError?o.abort():a&&a(e)},o.onerror=e=>{!this.loadError&&i&&i(e,"error"),this.loadError=!0},o.onload=e=>{if(200===o.status){const t=o.response,n=t=>{this.rirs[r]=t;for(const e of this.rirs)if(void 0===e)return;s&&s(e)},a=e=>{i&&i(e,"decode")};this.context.decodeAudioData(t,n,a)}},o.open("GET",t,!0),o.responseType="arraybuffer",o.send(null)}}class F extends p{amplitude;constructor(e){super(e),this.amplitude=e.createGain(),this.amplitude.gain.value=0,this.depth.gain.value=1,this.rate.value=0,this.deactivate(),this.lfo.connect(this.depth),this.depth.connect(this.amplitude.gain)}stop(e,t){super.stop(e,t),this.isActive&&(this.lfo.connect(this.depth),this.depth.connect(this.amplitude.gain))}connect(){return this.input.disconnect(0),this.amplitude.disconnect(0),this.isActive?(this.input.connect(this.amplitude),this.amplitude.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"depth":return this.depth.gain.value;case"rate":return this.rate.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"depth":"number"==typeof r&&(this.depth.gain.value=r);break;case"rate":"number"==typeof r&&(this.rate.value=r)}return this}params(){return{state:this.isActive,depth:this.depth.gain.value,rate:this.rate.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class StereoProcessor extends AudioWorkletProcessor{isActive=!1;constructor(){super(),this.port.onmessage=e=>{for(const[t,r]of Object.entries(e.data))"state"===t&&"boolean"==typeof r&&(this.isActive=r)}}process(e,t){const r=e[0],n=t[0];if(0===r.length||0===n.length)return!0;if(2!==r.length||2!==n.length)return n[0].set(r[0]),!0;if(this.isActive){const e=r[0].length;for(let t=0;t<e;t++)n[0][t]=r[0][t],n[1][t]=-r[1][t]}else n[0].set(r[0]),n[1].set(r[1]);return!0}}class L extends p{static MAX_DELAY_TIME=1;processor;splitter;merger;delayL;delayR;constructor(e){super(e),this.splitter=e.createChannelSplitter(2),this.merger=e.createChannelMerger(2),this.delayL=e.createDelay(L.MAX_DELAY_TIME),this.delayR=e.createDelay(L.MAX_DELAY_TIME),this.delayL.delayTime.value=0,this.delayR.delayTime.value=0,this.processor=new AudioWorkletNode(this.context,StereoProcessor.name),this.deactivate()}start(){}stop(){}connect(){return this.input.disconnect(0),this.splitter.disconnect(0),this.delayL.disconnect(0),this.delayR.disconnect(0),this.merger.disconnect(0),this.processor.disconnect(0),this.isActive?(this.input.connect(this.splitter),this.splitter.connect(this.delayL,0,0),this.splitter.connect(this.delayR,1,0),this.delayL.connect(this.processor),this.delayR.connect(this.processor),this.processor.connect(this.merger),this.merger.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"time":return this.delayL.delayTime.value}for(const[t,r]of Object.entries(e))switch(t){case"state":if("boolean"==typeof r){this.isActive=r;const e={state:r};this.processor.port.postMessage(e)}break;case"time":"number"==typeof r&&(this.delayL.delayTime.value=r,this.delayR.delayTime.value=r)}return this}params(){return{state:this.isActive,time:this.delayL.delayTime.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class D extends p{amplitude;constructor(e){super(e),this.amplitude=e.createGain(),this.amplitude.gain.value=1,this.lfo.type="sine",this.depth.gain.value=0,this.rate.value=0,this.deactivate(),this.lfo.connect(this.depth),this.depth.connect(this.amplitude.gain)}stop(e,t){super.stop(e,t),this.isActive&&(this.lfo.connect(this.depth),this.depth.connect(this.amplitude.gain))}connect(){return this.input.disconnect(0),this.amplitude.disconnect(0),this.isActive?(this.input.connect(this.amplitude),this.amplitude.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"type":return this.lfo.type;case"depth":return this.depth.gain.value;case"rate":return this.rate.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"type":"string"==typeof r&&(this.lfo.type=r);break;case"depth":"number"==typeof r&&(this.depth.gain.value=r);break;case"rate":"number"==typeof r&&(this.rate.value=r)}return this}params(){return{state:this.isActive,type:this.lfo.type,depth:this.depth.gain.value,rate:this.rate.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class VocalCancelerProcessor extends AudioWorkletProcessor{depth=0;isActive=!0;constructor(){super(),this.port.onmessage=e=>{for(const[t,r]of Object.entries(e.data))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"depth":"number"==typeof r&&(this.depth=r)}}}process(e,t){const r=e[0],n=t[0];if(0===r.length||0===n.length)return!0;if(2!==r.length||2!==n.length)return n[0].set(r[0]),!0;const s=r[0].length;for(let e=0;e<s;e++)n[0][e]=this.cancel(r[0][e],r[1][e]),n[1][e]=this.cancel(r[1][e],r[0][e]);return!0}cancel(e,t){return this.isActive?e-this.depth*t:e}}class U extends p{processor;constructor(e){super(e),this.depth.gain.value=0,this.processor=new AudioWorkletNode(this.context,VocalCancelerProcessor.name),this.activate()}start(){}stop(){}connect(){return this.input.disconnect(0),this.processor.disconnect(0),this.isActive?(this.input.connect(this.processor),this.processor.connect(this.output)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"depth":return this.depth.gain.value}for(const[t,r]of Object.entries(e))switch(t){case"state":if("boolean"==typeof r){this.isActive=r;const e={state:r};this.processor.port.postMessage(e)}break;case"depth":if("number"==typeof r){this.depth.gain.value=r;const e={depth:r};this.processor.port.postMessage(e)}}return this}params(){return{state:this.isActive,depth:this.depth.gain.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class q extends p{auto=!1;lowpass;envelopeFollower;sensitivity;depthRate=0;constructor(e){super(e),this.lowpass=e.createBiquadFilter(),this.envelopeFollower=e.createWaveShaper(),this.sensitivity=e.createBiquadFilter(),this.lowpass.type="lowpass",this.lowpass.frequency.value=this.auto?20:350,this.lowpass.Q.value=1,this.lowpass.gain.value=0,this.envelopeFollower.curve=new Float32Array([1,0,1]),this.sensitivity.type="lowpass",this.sensitivity.frequency.value=350,this.sensitivity.Q.value=1,this.sensitivity.gain.value=0,this.depth.gain.value=0,this.rate.value=0,this.deactivate(),this.connect()}stop(e,t){super.stop(e,t),!this.auto&&this.isActive&&(this.lfo.connect(this.depth),this.depth.connect(this.lowpass.frequency))}connect(){return this.input.disconnect(0),this.sensitivity.disconnect(0),this.envelopeFollower.disconnect(0),this.lowpass.disconnect(0),this.depth.disconnect(0),this.isActive?this.auto?(this.input.connect(this.sensitivity),this.sensitivity.connect(this.output),this.input.connect(this.envelopeFollower),this.envelopeFollower.connect(this.lowpass),this.lowpass.connect(this.depth),this.depth.connect(this.sensitivity.frequency)):(this.input.connect(this.lowpass),this.lowpass.connect(this.output),this.lfo.connect(this.depth),this.depth.connect(this.lowpass.frequency)):this.input.connect(this.output),this.output}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"auto":return this.auto;case"cutoff":return this.auto?this.sensitivity.frequency.value:this.lowpass.frequency.value;case"depth":return this.depthRate;case"rate":return this.rate.value;case"resonance":return this.auto?this.sensitivity.Q.value:this.lowpass.Q.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"auto":"boolean"==typeof r&&(this.auto=r,this.connect());break;case"cutoff":"number"==typeof r&&(this.auto?(this.sensitivity.frequency.value=r,this.lowpass.frequency.value=20):this.lowpass.frequency.value=r);break;case"depth":"number"==typeof r&&(this.depthRate=r,this.depth.gain.value=this.auto?1e4*r:this.lowpass.frequency.value*r);break;case"rate":"number"==typeof r&&(this.rate.value=r);break;case"resonance":"number"==typeof r&&(this.auto?(this.sensitivity.Q.value=r,this.lowpass.Q.value=1):this.lowpass.Q.value=r)}return this}params(){return{state:this.isActive,auto:this.auto,cutoff:this.auto?this.sensitivity.frequency.value:this.lowpass.frequency.value,depth:this.auto?this.depth.gain.value:this.depthRate,rate:this.rate.value,resonance:this.auto?this.sensitivity.Q.value:this.lowpass.Q.value}}activate(){return super.activate(),this}deactivate(){return super.deactivate(),this}}class j{static NUMBER_OF_INPUTS=2;static NUMBER_OF_OUTPUTS=2;context;modules=[];mastervolume;processor;analyser;recorder;autopanner;bitcrusher;chorus;compressor;delay;envelopegenerator;equalizer;filter;flanger;fuzz;listener;noisegate;noisesuppressor;overdrive;panner;phaser;pitchshifter;preamp;reverb;ringmodulator;stereo;tremolo;vocalcanceler;wah;runningAnalyser=!1;mixed=!1;constructor(e){this.context=e,this.mastervolume=e.createGain(),this.processor=new AudioWorkletNode(e,SoundModuleProcessor.name),this.analyser=new l(e),this.recorder=new f(e),this.autopanner=new d(e),this.bitcrusher=new m(e),this.chorus=new v(e),this.compressor=new y(e),this.delay=new g(e),this.envelopegenerator=new b(e),this.equalizer=new w(e),this.filter=new k(e),this.flanger=new S(e),this.fuzz=new x(e),this.listener=new E(e),this.noisegate=new T(e),this.noisesuppressor=new A(e),this.overdrive=new C(e),this.panner=new _(e),this.phaser=new N(e),this.pitchshifter=new M(e),this.preamp=new z(e),this.reverb=new I(e),this.ringmodulator=new F(e),this.stereo=new L(e),this.tremolo=new D(e),this.vocalcanceler=new U(e),this.wah=new q(e),this.modules=[this.compressor,this.wah,this.bitcrusher,this.overdrive,this.fuzz,this.preamp,this.equalizer,this.filter,this.pitchshifter,this.tremolo,this.ringmodulator,this.phaser,this.flanger,this.chorus,this.delay,this.reverb,this.panner,this.autopanner]}connect(e){if(e.disconnect(0),this.modules.length>0){const t=this.modules[0].INPUT;if(null===t)return;e.connect(t)}else e.connect(this.mastervolume);for(let e=0,t=this.modules.length;e<t;e++){const t=this.modules[e].OUTPUT;if(null!==t)if(t.disconnect(0),e<this.modules.length-1){const r=this.modules[e+1].INPUT;if(null===r)continue;t.connect(r)}else t.connect(this.mastervolume)}this.mastervolume.connect(this.context.destination),this.mastervolume.connect(this.analyser.INPUT),this.mastervolume.connect(this.recorder.INPUT),this.recorder.OUTPUT.connect(this.context.destination)}disconnect(){this.processor.disconnect(0)}install(e,t){return this.modules.every((e=>e!==t))&&this.modules.push(t),t}on(e){const t=e??this.context.currentTime;return this.autopanner.start(t),this.bitcrusher.start(t),this.chorus.start(t),this.filter.start(t),this.flanger.start(t),this.fuzz.start(t),this.overdrive.start(t),this.phaser.start(t),this.ringmodulator.start(t),this.tremolo.start(t),this.wah.start(t),this}off(e){const t=e??this.context.currentTime;return this.autopanner.stop(t),this.bitcrusher.stop(t),this.chorus.stop(t),this.filter.stop(t),this.flanger.stop(t),this.fuzz.stop(t),this.overdrive.stop(t),this.phaser.stop(t),this.ringmodulator.stop(t),this.tremolo.stop(t),this.wah.stop(t),this}suspend(){return this.analyser.stop("time"),this.analyser.stop("fft"),this.runningAnalyser=!1,this.recorder.stop(),this}mix(){return this.mixed=!0,this}demix(){return this.mixed=!1,this}params(){return{mastervolume:this.mastervolume.gain.value,stereo:this.stereo.params(),compressor:this.compressor.params(),bitcrusher:this.bitcrusher.params(),overdrive:this.overdrive.params(),fuzz:this.fuzz.params(),preamp:this.preamp.params(),wah:this.wah.params(),pitchshifter:this.pitchshifter.params(),equalizer:this.equalizer.params(),filter:this.filter.params(),autopanner:this.autopanner.params(),tremolo:this.tremolo.params(),ringmodulator:this.ringmodulator.params(),phaser:this.phaser.params(),flanger:this.flanger.params(),chorus:this.chorus.params(),delay:this.delay.params(),reverb:this.reverb.params(),panner:this.panner.params(),listener:this.listener.params(),envelopegenerator:this.envelopegenerator.params(),noisegate:this.noisegate.params(),noisesuppressor:this.noisesuppressor.params(),vocalcanceler:this.vocalcanceler.params()}}edit(e){const t=this.modules;return this.modules=e,t}toJSON(){return JSON.stringify(this.params())}init(e){this.mastervolume.disconnect(0),this.processor.disconnect(0),this.analyser.INPUT.disconnect(0),this.recorder.INPUT.disconnect(0);for(const e of this.modules)e.INPUT&&e.INPUT.disconnect(0),e.OUTPUT&&e.OUTPUT.disconnect(0);this.modules.length=0,this.analyser=new l(e),this.recorder=new f(e),this.autopanner=new d(e),this.bitcrusher=new m(e),this.chorus=new v(e),this.compressor=new y(e),this.delay=new g(e),this.envelopegenerator=new b(e),this.equalizer=new w(e),this.filter=new k(e),this.flanger=new S(e),this.fuzz=new x(e),this.listener=new E(e),this.noisegate=new T(e),this.noisesuppressor=new A(e),this.overdrive=new C(e),this.panner=new _(e),this.phaser=new N(e),this.pitchshifter=new M(e),this.preamp=new z(e),this.reverb=new I(e),this.ringmodulator=new F(e),this.stereo=new L(e),this.tremolo=new D(e),this.vocalcanceler=new U(e),this.wah=new q(e),this.modules=[this.compressor,this.wah,this.bitcrusher,this.overdrive,this.fuzz,this.preamp,this.equalizer,this.filter,this.pitchshifter,this.tremolo,this.ringmodulator,this.phaser,this.flanger,this.chorus,this.delay,this.reverb,this.panner,this.autopanner]}}class ${context;type="linear";time=0;prevFrequency=-1;nextFrequency=0;isActive=!0;constructor(e){this.context=e}ready(e){this.nextFrequency=e;const t=-1===this.prevFrequency?0:this.nextFrequency-this.prevFrequency;this.isActive&&0!==this.time&&0!==t||(this.prevFrequency=this.nextFrequency)}start(e,t){const r=t??this.context.currentTime,n=r+this.time;e.frequency.cancelScheduledValues(r),e.frequency.setValueAtTime(this.prevFrequency,r),"exponential"===this.type?e.frequency.exponentialRampToValueAtTime(this.nextFrequency,n):e.frequency.linearRampToValueAtTime(this.nextFrequency,n)}stop(){this.prevFrequency=this.nextFrequency}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"type":return this.type;case"time":return this.time}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"type":"string"==typeof r&&(this.type=r);break;case"time":"number"==typeof r&&(this.time=r)}return this}params(){return{state:this.isActive,type:this.type,time:this.time}}state(){return this.isActive}activate(){return this.isActive=!0,this}deactivate(){return this.isActive=!1,this}}class B{static OCTAVE=1200;context;source;volume;octave=0;fine=0;custom={real:new Float32Array([0,1]),imag:new Float32Array([0,1])};isActive;paused=!0;constructor(e,t){this.context=e,this.source=e.createOscillator(),this.volume=e.createGain(),this.isActive=t}ready(e){if(!this.isActive)return;const t=this.source.type,r=this.source.frequency.value,n=this.source.detune.value;if(this.paused||(this.source.stop(this.context.currentTime),this.source.disconnect(0)),this.source=this.context.createOscillator(),"custom"===t){const e=this.custom.real,t=this.custom.imag,r=this.context.createPeriodicWave(e,t);this.source.setPeriodicWave(r)}else this.source.type=t;this.source.frequency.value=r,this.source.detune.value=n,this.volume.connect(e)}start(e){this.isActive?(this.source.start(e??this.context.currentTime),this.paused=!1):(this.paused||(this.source.stop(this.context.currentTime),this.paused=!0),this.source.disconnect(0))}stop(e){this.paused||(this.source.stop(e??this.context.currentTime),this.source.disconnect(0),this.paused=!0)}param(e){if("string"==typeof e)switch(e){case"state":return this.isActive;case"type":return this.source.type;case"octave":return this.octave;case"fine":return this.fine;case"volume":return this.volume.gain.value}for(const[t,r]of Object.entries(e))switch(t){case"state":"boolean"==typeof r&&(this.isActive=r);break;case"type":if("string"==typeof r)this.source.type=r;else if("object"==typeof r){let{real:e,imag:t}=r;const n=4096;e.length>n&&(e=e.subarray(0,n)),t.length>n&&(t=t.subarray(0,n)),0!==e[0]&&(e[0]=0),0!==t[0]&&(t[0]=0);const s=this.context.createPeriodicWave(e,t);this.source.setPeriodicWave(s),this.custom.real=e,this.custom.imag=t}break;case"octave":"number"==typeof r&&(this.octave=r,this.source.detune.value=this.fine+r*B.OCTAVE);break;case"fine":"number"==typeof r&&(this.fine=r,this.source.detune.value=r+this.octave*B.OCTAVE);break;case"volume":"number"==typeof r&&(this.volume.gain.value=r)}return this}get(){return this.source}state(){return this.isActive}activate(){return this.isActive=!0,this}deactivate(){return this.isActive=!1,this}params(){return{state:this.isActive,type:this.source.type,octave:this.octave,fine:this.fine,volume:this.volume.gain.value}}get INPUT(){return this.source}get OUTPUT(){return this.volume}}class G extends j{sources=[];glide;startTime=0;duration=0;constructor(e){super(e),this.processor=new AudioWorkletNode(e,OscillatorModuleProcessor.name),this.glide=new $(e)}setup(e){this.sources.length=0;for(let t=0,r=e.length;t<r;t++)this.sources[t]=new B(this.context,e[t]),this.envelopegenerator.setGenerator(t);return this}ready(e,t){return this.startTime=e??this.context.currentTime,this.duration=t??0,this.envelopegenerator.clear(!0),this}start(e){const t=this.context.currentTime+this.startTime;this.mixed||(this.envelopegenerator.clear(!0),this.connect(this.processor));for(let r=0,n=e.length;r<n&&!(r>=this.sources.length);r++){const n=this.sources[r],s=e[r];n.ready(this.processor),this.envelopegenerator.ready(r,n.INPUT,n.OUTPUT),this.glide.ready(s),this.glide.start(n.INPUT,t),n.start(t)}return this.envelopegenerator.start(t),this.on(t),this.runningAnalyser||(this.analyser.start("time"),this.analyser.start("fft"),this.runningAnalyser=!0),this}stop(){const e=this.context.currentTime+this.startTime+this.duration;return this.envelopegenerator.stop(e,!1),this.glide.stop(),this.filter.stop(e),this}param(e){if("string"==typeof e&&"mastervolume"===e)return this.mastervolume.gain.value;for(const[t,r]of Object.entries(e))"mastervolume"===t&&"number"==typeof r&&(this.mastervolume.gain.value=r);return this}get(e){return"number"==typeof e&&e>=0&&e<this.sources.length?this.sources[e]:this.sources}length(){return this.sources.length}module(e){switch(e){case"analyser":return this.analyser;case"recorder":return this.recorder;case"autopanner":return this.autopanner;case"bitcrusher":return this.bitcrusher;case"chorus":return this.chorus;case"compressor":return this.compressor;case"delay":return this.delay;case"envelopegenerator":return this.envelopegenerator;case"equalizer":return this.equalizer;case"filter":return this.filter;case"flanger":return this.flanger;case"fuzz":return this.fuzz;case"listener":return this.listener;case"noisegate":return this.noisegate;case"noisesuppressor":return this.noisesuppressor;case"overdrive":return this.overdrive;case"panner":return this.panner;case"phaser":return this.phaser;case"pitchshifter":return this.pitchshifter;case"preamp":return this.preamp;case"reverb":return this.reverb;case"ringmodulator":return this.ringmodulator;case"stereo":return this.stereo;case"tremolo":return this.tremolo;case"vocalcanceler":return this.vocalcanceler;case"wah":return this.wah;case"glide":return this.glide}}on(e){return super.on(e),this}off(e){return super.off(e),this}suspend(){return super.suspend(),this}mix(){return super.mix(),this}demix(){return super.demix(),this}params(){return{...super.params(),oscillator:{glide:this.glide.params(),params:this.sources.map((e=>e.params()))}}}get INPUT(){return this.processor}get OUTPUT(){return this.mastervolume}}class OneshotModuleProcessor extends AudioWorkletProcessor{constructor(){super()}process(e,t){const r=e[0],n=t[0];for(let e=0,t=r.length;e<t;e++)n[e].set(r[e]);return!0}}class W extends j{sources=[];resources=[];buffers=[];volumes=[];states=[];settings=[];startTime=0;duration=0;transpose=0;loadError=!1;constructor(e){super(e),this.processor=new AudioWorkletNode(e,OneshotModuleProcessor.name)}setup(e){const{resources:t,settings:r,timeout:n,successCallback:s,errorCallback:i,progressCallback:a}=e;for(let e=0,t=r.length;e<t;e++)this.states[e]=!1,this.volumes[e]=this.context.createGain(),this.settings[e]=r[e],this.envelopegenerator.setGenerator(e);for(let e=0,r=t.length;e<r;e++){this.resources[e]=t[e];const r=this.resources[e];"string"==typeof r?this.load({url:r,index:e,timeout:n,successCallback:s,errorCallback:i,progressCallback:a}):this.buffers[e]=r}return this}ready(e,t){return this.startTime=e??0,this.duration=t??0,this.envelopegenerator.clear(!1),this}start(e){const t=this.context.currentTime+this.startTime;this.mixed||(this.envelopegenerator.clear(!1),this.connect(this.processor));for(const r of e){if(r<0||r>=this.settings.length)continue;const{bufferIndex:e,playbackRate:n,loop:s,loopStart:i,loopEnd:a,volume:o}=this.settings[r],u=this.context.createBufferSource();u.buffer=this.buffers[e],u.playbackRate.value=n??1,u.detune.value=100*this.transpose,u.loop=s??!1,u.loopStart=i??0,u.loopEnd=a??u.buffer.duration,this.volumes[r].gain.value=o??1,this.envelopegenerator.ready(r,u,this.volumes[r]),this.volumes[r].connect(this.processor),u.loop?u.start(t,t+u.loopStart,u.loopEnd-t):u.start(t),this.sources[r]=u,this.states[r]=!0}return this.envelopegenerator.start(t),this.on(t),this.runningAnalyser||(this.analyser.start("time"),this.analyser.start("fft"),this.runningAnalyser=!0),this}stop(e){const t=this.context.currentTime+this.startTime+this.duration;return e.forEach((e=>{this.states[e]&&(this.sources[e].stop(t),this.states[e]=!1)})),this.envelopegenerator.stop(t),this.envelopegenerator.clear(!1),this.off(t),this}param(e){if("string"==typeof e)switch(e){case"mastervolume":return this.mastervolume.gain.value;case"transpose":return this.transpose}for(const[t,r]of Object.entries(e))switch(t){case"mastervolume":"number"==typeof r&&(this.mastervolume.gain.value=r);break;case"transpose":"number"==typeof r&&(this.transpose=r)}return this}get(e){return"number"==typeof e&&e>=0&&e<this.buffers.length?this.buffers[e]:this.buffers}reset(e,t,r){if(e>=0&&e<this.settings.length)switch(t){case"bufferIndex":case"playbackRate":case"loopStart":case"loopEnd":case"volume":"number"==typeof r&&(this.settings[e][t]=r);break;case"loop":"boolean"==typeof r&&(this.settings[e][t]=r)}return this}module(e){switch(e){case"analyser":return this.analyser;case"recorder":return this.recorder;case"autopanner":return this.autopanner;case"bitcrusher":return this.bitcrusher;case"chorus":return this.chorus;case"compressor":return this.compressor;case"delay":return this.delay;case"envelopegenerator":return this.envelopegenerator;case"equalizer":return this.equalizer;case"filter":return this.filter;case"flanger":return this.flanger;case"fuzz":return this.fuzz;case"listener":return this.listener;case"noisegate":return this.noisegate;case"noisesuppressor":return this.noisesuppressor;case"overdrive":return this.overdrive;case"panner":return this.panner;case"phaser":return this.phaser;case"pitchshifter":return this.pitchshifter;case"preamp":return this.preamp;case"reverb":return this.reverb;case"ringmodulator":return this.ringmodulator;case"stereo":return this.stereo;case"tremolo":return this.tremolo;case"vocalcanceler":return this.vocalcanceler;case"wah":return this.wah}}on(e){return super.on(e),this}off(e){return super.off(e),this}suspend(){return super.suspend(),this}mix(){return super.mix(),this}demix(){return super.demix(),this}params(){return{...super.params(),transpose:this.transpose}}get INPUT(){return this.processor}get OUTPUT(){return this.mastervolume}load(e){const{url:t,index:r,timeout:n,successCallback:s,errorCallback:i,progressCallback:a}=e,o=new XMLHttpRequest;o.timeout=n??6e4,o.ontimeout=e=>{!this.loadError&&i&&i(e,"timeout"),this.loadError=!0},o.onprogress=e=>{this.loadError?o.abort():a&&a(e)},o.onerror=e=>{!this.loadError&&i&&i(e,"error"),this.loadError=!0},o.onload=e=>{if(200===o.status){const t=o.response;if(!(t instanceof ArrayBuffer))return;const n=t=>{this.buffers[r]=t;for(const e of this.buffers)if(void 0===e)return;s&&s(e,this.buffers)},a=e=>{i&&i(e,"decode")};this.context.decodeAudioData(t,n,a)}},o.open("GET",t,!0),o.responseType="arraybuffer",o.send(null)}}class NoiseModuleProcessor extends AudioWorkletProcessor{processing=!1;type="whitenoise";b0=0;b1=0;b2=0;b3=0;b4=0;b5=0;b6=0;lastOut=0;constructor(){super(),this.port.onmessage=e=>{"boolean"==typeof e.data.processing&&(this.processing=e.data.processing),e.data.type&&(this.type=e.data.type)}}process(e,t){if(!this.processing)return!0;const r=t[0];for(let e=0,t=r.length;e<t;e++){const t=r[e].length;switch(this.type){case"whitenoise":this.generateWhiteNoise(r[e],t);break;case"pinknoise":this.generatePinkNoise(r[e],t);break;case"browniannoise":this.generateBrownianNoise(r[e],t)}}return!0}generateWhiteNoise(e,t){for(let r=0;r<t;r++)e[r]=2*Math.random()-1}generatePinkNoise(e,t){for(let r=0;r<t;r++){const t=2*Math.random()-1;this.b0=.99886*this.b0+.0555179*t,this.b1=.99332*this.b1+.0750759*t,this.b2=.969*this.b2+.153852*t,this.b3=.8665*this.b3+.3104856*t,this.b4=.55*this.b4+.5329522*t,this.b5=-.7616*this.b5-.016898*t,e[r]=this.b0+this.b1+this.b2+this.b3+this.b4+this.b5+this.b6+.5362*t,e[r]*=.11,this.b6=.115926*t}}generateBrownianNoise(e,t){for(let r=0;r<t;r++){const t=2*Math.random()-1;e[r]=(this.lastOut+.02*t)/1.02,this.lastOut=(this.lastOut+.02*t)/1.02,e[r]*=3.5}}}class Q extends j{type="whitenoise";constructor(e){super(e),this.processor=new AudioWorkletNode(e,NoiseModuleProcessor.name),this.envelopegenerator.setGenerator(0)}setup(){return this}ready(){return this}start(){const e=this.context.currentTime;if(!this.mixed){const e=this.envelopegenerator.getGenerator(0);e&&this.connect(e)}return this.envelopegenerator.ready(0,this.processor,null),this.envelopegenerator.start(e),this.runningAnalyser||(this.analyser.start("time"),this.analyser.start("fft"),this.runningAnalyser=!0),this.on(e),this.processor.port.postMessage({processing:!0}),this}stop(){const e=this.context.currentTime;return this.envelopegenerator.stop(e),this.off(e),this.processor.port.postMessage({processing:!1}),this}param(e){if("string"==typeof e)switch(e){case"mastervolume":return this.mastervolume.gain.value;case"type":return this.type}for(const[t,r]of Object.entries(e))switch(t){case"mastervolume":"number"==typeof r&&(this.mastervolume.gain.value=r);break;case"type":if("string"==typeof r&&("whitenoise"===r||"pinknoise"===r||"browniannoise"===r)){this.type=r;const e={type:r};this.processor.port.postMessage(e)}}return this}module(e){switch(e){case"analyser":return this.analyser;case"recorder":return this.recorder;case"autopanner":return this.autopanner;case"bitcrusher":return this.bitcrusher;case"chorus":return this.chorus;case"compressor":return this.compressor;case"delay":return this.delay;case"envelopegenerator":return this.envelopegenerator;case"equalizer":return this.equalizer;case"filter":return this.filter;case"flanger":return this.flanger;case"fuzz":return this.fuzz;case"listener":return this.listener;case"noisegate":return this.noisegate;case"noisesuppressor":return this.noisesuppressor;case"overdrive":return this.overdrive;case"panner":return this.panner;case"phaser":return this.phaser;case"pitchshifter":return this.pitchshifter;case"preamp":return this.preamp;case"reverb":return this.reverb;case"ringmodulator":return this.ringmodulator;case"stereo":return this.stereo;case"tremolo":return this.tremolo;case"vocalcanceler":return this.vocalcanceler;case"wah":return this.wah}}disconnect(){const e=this.envelopegenerator.getGenerator(0);e&&e.disconnect(0)}on(e){return super.on(e),this}off(e){return super.off(e),this}suspend(){return super.suspend(),this}mix(){return super.mix(),this}demix(){return super.demix(),this}params(){return{...super.params(),type:this.type}}get INPUT(){return this.envelopegenerator.getGenerator(0)||null}get OUTPUT(){return this.mastervolume}}class AudioModuleProcessor extends AudioWorkletProcessor{constructor(){super()}process(e,t){const r=e[0],n=t[0];for(let e=0,t=r.length;e<t;e++)n[e].set(r[e]);return!0}}class V extends j{source;buffer=null;currentTime=0;stopped=!0;updateId=null;constructor(e){super(e),this.processor=new AudioWorkletNode(e,AudioModuleProcessor.name),this.source=e.createBufferSource()}setup(e){const{decodeCallback:t,updateCallback:r,endedCallback:n,errorCallback:s}=e??{};return t&&(this.decodeCallback=t),r&&(this.updateCallback=r),n&&(this.endedCallback=n),s&&(this.errorCallback=s),this.envelopegenerator.setGenerator(0),this.envelopegenerator.param({attack:0,decay:.01,sustain:1,release:.01}),this}ready(e){if(e instanceof ArrayBuffer){this.buffer=null;const t=e=>{this.buffer=e,this.analyser.start("timeoverview",0,this.buffer),this.analyser.start("timeoverview",1,this.buffer),this.decodeCallback&&this.decodeCallback(this.buffer)};this.context.decodeAudioData(e,t,this.errorCallback)}else e instanceof AudioBuffer&&(this.buffer=e);return this}start(e,t){if(null===this.buffer||!this.stopped)return this;const r=this.context.currentTime,n=e??0,s=t??this.buffer.duration;this.currentTime=s>=0?n>=0&&n<=s?n:0:n>=0&&n<=this.buffer.duration?n:0;const i=this.source.playbackRate.value,a=this.source.detune.value,o=this.source.loop;if(this.source=this.context.createBufferSource(),this.source.buffer=this.buffer,this.source.playbackRate.value=i,this.source.detune.value=a,this.source.loop=o,this.source.loopStart=this.currentTime,this.source.loopEnd=s>=0?s:this.buffer.duration,this.envelopegenerator.ready(0,this.source,this.processor),this.connect(this.processor),s>=0?this.source.start(r,this.currentTime,s-n):this.source.start(r,this.currentTime,this.buffer.duration-this.currentTime),this.analyser.start("time"),this.analyser.start("fft"),this.stopped=!1,this.envelopegenerator.start(r),s>=0?this.envelopegenerator.stop(r+(s-n)/this.source.playbackRate.value,!0):this.envelopegenerator.stop(r+(this.buffer.duration-n)/this.source.playbackRate.value,!0),this.on(r),this.updateId)return this;const u=this.analyser.domain("timeoverview",0),l=this.analyser.domain("timeoverview",1);return this.updateId=window.setInterval((()=>{if(null!==this.buffer)if(this.currentTime<this.source.loopEnd){const e=this.source.detune.value,t=this.source.playbackRate.value+e/1200;this.currentTime+=.1*t,this.updateCallback&&this.updateCallback(this.source,this.currentTime),u.update(this.currentTime),l.update(this.currentTime)}else this.source.loop?(this.stop(),"sprite"===u.param("mode")?this.start(this.source.loopStart,this.source.loopEnd):this.start(0,this.buffer.duration)):this.end();else this.end()}),100),this}stop(){if(null===this.buffer||this.stopped)return this;this.updateId&&(window.clearInterval(this.updateId),this.updateId=null);const e=this.context.currentTime;return this.source.stop(e),this.off(e),this.analyser.stop("time"),this.analyser.stop("fft"),this.stopped=!0,this}param(e){if("string"==typeof e)switch(e){case"mastervolume":return this.mastervolume.gain.value;case"playbackRate":return this.source.playbackRate.value;case"detune":return this.source.detune.value;case"loop":return this.source.loop;case"currentTime":return this.currentTime;case"duration":return this.source.buffer?.duration??0;case"sampleRate":return this.source.buffer?.sampleRate??this.context.sampleRate;case"numberOfChannels":return this.source.buffer?.numberOfChannels??0}for(const[t,r]of Object.entries(e))switch(t){case"mastervolume":"number"==typeof r&&(this.mastervolume.gain.value=r);break;case"playbackRate":if("number"==typeof r&&r>0){this.source.playbackRate.value=r;const e=r+this.source.detune.value/1200,t=this.context.currentTime,n=this.currentTime,s=this.source.buffer?.duration??0;this.envelopegenerator.start(t),this.envelopegenerator.stop(t+(s-n)/e,!0)}break;case"detune":if("number"==typeof r){this.source.detune.value=r;const e=this.source.playbackRate.value+r/1200,t=this.context.currentTime,n=this.currentTime,s=this.source.buffer?.duration??0;this.envelopegenerator.start(t),this.envelopegenerator.stop(t+(s-n)/e,!0)}break;case"loop":"boolean"==typeof r&&(this.source.loop=r);break;case"currentTime":"number"==typeof r&&(this.currentTime=r,this.stopped||(this.stop(),this.start(r)))}return this}get(){return this.source}end(){return this.stop(),this.currentTime=0,this.endedCallback&&this.endedCallback(this.source,0),this}has(){return null!==this.buffer}paused(){return this.stopped}fadeIn(e){if("number"!=typeof e)return this.envelopegenerator.param("attack");this.envelopegenerator.param({attack:e});const t=this.context.currentTime,r=this.currentTime,n=this.source.buffer?.duration??0,s=this.source.detune.value,i=this.source.playbackRate.value+s/1200;return this.envelopegenerator.start(t),this.envelopegenerator.stop(t+(n-r)/i,!0),this}fadeOut(e){if("number"!=typeof e)return this.envelopegenerator.param("release");this.envelopegenerator.param({release:e});const t=this.context.currentTime,r=this.currentTime,n=this.source.buffer?.duration??0,s=this.source.detune.value,i=this.source.playbackRate.value+s/1200;return this.envelopegenerator.start(t),this.envelopegenerator.stop(t+(n-r)/i,!0),this}slice(e,t){if(null===this.buffer)return null;const r=this.buffer.duration,n=this.buffer.sampleRate,s=this.buffer.numberOfChannels,i=Math.trunc((e??0)*n),a=Math.trunc((t??r)*n),o=s>0?this.buffer.getChannelData(0):null,u=s>1?this.buffer.getChannelData(1):null,l=a-i;switch(s){case 1:{if(null===o)return null;const e=new Float32Array(l);for(let t=i;t<a;t++)e[t-i]=o[t];const t=this.context.createBuffer(1,l,n);return t.copyToChannel(e,0),t}case 2:{if(null===o||null===u)return null;const e=new Float32Array(l),t=new Float32Array(l);for(let r=i;r<a;r++)e[r-i]=o[r],t[r-i]=u[r];const r=this.context.createBuffer(2,l,n);return r.copyToChannel(e,0),r.copyToChannel(t,1),r}}return null}sprite(e){return null===this.buffer?null:Object.keys(e).reduce(((t,r)=>{const n=e[r],s=this.slice(...n);return null!==s&&(t[r]=s),t}),{})}module(e){switch(e){case"analyser":return this.analyser;case"recorder":return this.recorder;case"autopanner":return this.autopanner;case"bitcrusher":return this.bitcrusher;case"chorus":return this.chorus;case"compressor":return this.compressor;case"delay":return this.delay;case"envelopegenerator":return this.envelopegenerator;case"equalizer":return this.equalizer;case"filter":return this.filter;case"flanger":return this.flanger;case"fuzz":return this.fuzz;case"listener":return this.listener;case"noisegate":return this.noisegate;case"noisesuppressor":return this.noisesuppressor;case"overdrive":return this.overdrive;case"panner":return this.panner;case"phaser":return this.phaser;case"pitchshifter":return this.pitchshifter;case"preamp":return this.preamp;case"reverb":return this.reverb;case"ringmodulator":return this.ringmodulator;case"stereo":return this.stereo;case"tremolo":return this.tremolo;case"vocalcanceler":return this.vocalcanceler;case"wah":return this.wah}}on(e){return super.on(e),this}off(e){return super.off(e),this}suspend(){return super.suspend(),this}mix(){return super.mix(),this}demix(){return super.demix(),this}params(){return{...super.params(),playbackRate:this.source.playbackRate.value,detune:this.source.detune.value,loop:this.source.loop,currentTime:this.currentTime,duration:this.buffer?.duration??0,sampleRate:this.buffer?.sampleRate??this.context.sampleRate,numberOfChannels:this.buffer?.numberOfChannels??0,vocalcanceler:this.vocalcanceler.params()}}get INPUT(){return this.processor}get OUTPUT(){return this.mastervolume}}class MediaModuleProcessor extends AudioWorkletProcessor{constructor(){super()}process(e,t){const r=e[0],n=t[0];for(let e=0,t=r.length;e<t;e++)n[e].set(r[e]);return!0}}class X extends j{source=null;media=null;ext="";autoplay=!1;mediaSource=null;sourceBuffer=null;file="";mimeType="";listeners={};constructor(e){super(e),this.processor=new AudioWorkletNode(e,MediaModuleProcessor.name),this.onSourceOpen=this.onSourceOpen.bind(this),this.onSourceEnded=this.onSourceEnded.bind(this),this.onSourceClose=this.onSourceClose.bind(this),this.onSourceBufferUpdateEnd=this.onSourceBufferUpdateEnd.bind(this),this.onSourceBufferError=this.onSourceBufferError.bind(this)}setup(e){this.envelopegenerator.setGenerator(0),this.envelopegenerator.param({attack:0,decay:.01,sustain:1,release:.01});const{media:t,formats:r,listeners:n,autoplay:s}=e;if(!t)return this;this.media=t;for(const e of r??[]){const t=`audio/${e}`,r=`video/${e}`,n=this.media.canPlayType(t),s=this.media.canPlayType(r);if(/^(?:maybe|probably)/.test(n)||/^(?:maybe|probably)/.test(s)){this.ext=e;break}}return n&&(this.listeners=n,Object.keys(n).forEach((e=>{const t=n[e];"function"==typeof t&&(n[e]=t),this.media&&this.media.addEventListener(e,t,!1)}))),this.media.addEventListener("loadstart",(()=>{null!==this.media&&null===this.source&&(this.source=this.context.createMediaElementSource(this.media))}),!1),this.media.addEventListener("ended",(()=>{null!==this.media&&(this.media.pause(),this.off(this.context.currentTime),this.analyser.stop("time"),this.analyser.stop("fft"))}),!1),this.autoplay=s??!1,this.autoplay&&null===this.source&&(this.source=this.context.createMediaElementSource(this.media)),this.autoplay&&this.media.src&&this.context.resume().then((()=>{this.start(this.media?.currentTime??0)})).catch((e=>{this.listeners.error&&this.listeners.error(e)})),this}ready(e,t){if(null===this.media)return this;if(this.mediaSource&&"open"===this.mediaSource.readyState&&(this.mediaSource.endOfStream(),window.URL.revokeObjectURL(this.media.src),this.mediaSource.removeEventListener("sourceopen",this.onSourceOpen,!1),this.mediaSource.removeEventListener("sourceended",this.onSourceEnded,!1),this.mediaSource.removeEventListener("sourceclose",this.onSourceClose,!1),this.sourceBuffer&&(this.sourceBuffer.removeEventListener("updateend",this.onSourceBufferUpdateEnd,!1),this.sourceBuffer.removeEventListener("error",this.onSourceBufferError,!1))),t){if(!MediaSource||!MediaSource.isTypeSupported(t))return this;this.media.removeAttribute("src"),this.media.load(),this.mediaSource=new MediaSource,this.media.src=window.URL.createObjectURL(this.mediaSource),this.mimeType=t,this.file=e,this.mediaSource.addEventListener("sourceopen",this.onSourceOpen,!1),this.mediaSource.addEventListener("sourceended",this.onSourceEnded,!1),this.mediaSource.addEventListener("sourceclose",this.onSourceClose,!1)}else e.startsWith("blob:")||""===this.ext?this.media.src=e:this.media.src=`${e}.${this.ext}`;return this}start(e,t){return null===this.source||null===this.media||(this.envelopegenerator.ready(0,this.source,this.processor),this.connect(this.processor),this.media.play().then((()=>{if(null===this.media)return;const t=this.context.currentTime;this.media.currentTime=e??0,this.envelopegenerator.start(t),Number.isFinite(this.media.duration)&&this.envelopegenerator.stop(t+(this.media.duration-this.media.currentTime)/this.media.playbackRate,!0),this.on(t),this.analyser.start("time"),this.analyser.start("fft")})).catch((()=>{this.stop((()=>{null!==this.media&&(this.autoplay&&(this.media.muted=!0,this.media.volume=0),this.start(e))}),t)}))),this}stop(e,t){return null===this.source||null===this.media||this.media.play().then((()=>{null!==this.media&&(this.media.pause(),this.off(this.context.currentTime),this.analyser.stop("time"),this.analyser.stop("fft"),e&&e())})).catch((e=>{t&&t(e)})),this}param(e){if("string"==typeof e)switch(e){case"mastervolume":return this.mastervolume.gain.value;case"autoplay":return this.autoplay;case"playbackRate":return this.media?.playbackRate??1;case"currentTime":return this.media?.currentTime??0;case"controls":return this.media?.controls??!1;case"loop":return this.media?.loop??!1;case"muted":return this.media?.muted??!1;case"duration":return Number.isNaN(this.media?.duration)?0:this.media?.duration??0}for(const[t,r]of Object.entries(e))switch(t){case"mastervolume":"number"==typeof r&&(this.mastervolume.gain.value=r);break;case"playbackRate":if(this.media&&"number"==typeof r&&r>0){this.media.playbackRate=r;const e=this.context.currentTime,t=this.media.currentTime,n=this.media.duration;this.envelopegenerator.start(e),Number.isFinite(n)&&this.envelopegenerator.stop(e+(n-t)/r,!0)}break;case"currentTime":if(this.media&&"number"==typeof r){this.media.currentTime=r;const e=this.context.currentTime,t=this.media.duration,n=this.media.playbackRate;this.envelopegenerator.start(e),Number.isFinite(t)&&this.envelopegenerator.stop(e+(t-r)/n,!0)}break;case"controls":this.media&&"boolean"==typeof r&&(this.media.controls=r);break;case"loop":this.media&&"boolean"==typeof r&&(this.media.loop=r);break;case"muted":this.media&&"boolean"==typeof r&&(this.media.muted=r)}return this}get(){return this.source}hasMedia(){return null!==this.media}hasSource(){return null!==this.source}paused(){return null===this.media||this.media.paused}fadeIn(e){if("number"!=typeof e)return this.envelopegenerator.param("attack");this.envelopegenerator.param({attack:e});const t=this.context.currentTime,r=this.media?.currentTime??0,n=this.media?.duration??0,s=this.media?.playbackRate??1;return this.envelopegenerator.start(t),this.envelopegenerator.stop(t+(n-r)/s,!0),this}fadeOut(e){if("number"!=typeof e)return this.envelopegenerator.param("release");this.envelopegenerator.param({release:e});const t=this.context.currentTime,r=this.media?.currentTime??0,n=this.media?.duration??0,s=this.media?.playbackRate??1;return this.envelopegenerator.start(t),this.envelopegenerator.stop(t+(n-r)/s,!0),this}requestPictureInPicture(){return this.media instanceof HTMLVideoElement&&"pictureInPictureEnabled"in document&&document.pictureInPictureEnabled?this.media.disablePictureInPicture||0===this.media.readyState||this.media===document.pictureInPictureElement?Promise.reject():this.media.requestPictureInPicture():Promise.reject()}exitPictureInPicture(){return this.media instanceof HTMLVideoElement&&"pictureInPictureEnabled"in document&&document.pictureInPictureEnabled?this.media.disablePictureInPicture||0===this.media.readyState||this.media!==document.pictureInPictureElement?Promise.reject():document.exitPictureInPicture():Promise.reject()}module(e){switch(e){case"analyser":return this.analyser;case"recorder":return this.recorder;case"autopanner":return this.autopanner;case"bitcrusher":return this.bitcrusher;case"chorus":return this.chorus;case"compressor":return this.compressor;case"delay":return this.delay;case"envelopegenerator":return this.envelopegenerator;case"equalizer":return this.equalizer;case"filter":return this.filter;case"flanger":return this.flanger;case"fuzz":return this.fuzz;case"listener":return this.listener;case"noisegate":return this.noisegate;case"noisesuppressor":return this.noisesuppressor;case"overdrive":return this.overdrive;case"panner":return this.panner;case"phaser":return this.phaser;case"pitchshifter":return this.pitchshifter;case"preamp":return this.preamp;case"reverb":return this.reverb;case"ringmodulator":return this.ringmodulator;case"stereo":return this.stereo;case"tremolo":return this.tremolo;case"vocalcanceler":return this.vocalcanceler;case"wah":return this.wah}}on(e){return super.on(e),this}off(e){return super.off(e),this}suspend(){return super.suspend(),this}mix(){return super.mix(),this}demix(){return super.demix(),this}params(){return{...super.params(),autoplay:this.autoplay,playbackRate:this.media?.playbackRate??1,controls:this.media?.controls??!1,loop:this.media?.loop??!1,muted:this.media?.muted??!1,currentTime:this.media?.currentTime??0,duration:Number.isNaN(this.media?.duration??0)?0:this.media?.duration??0,vocalcanceler:this.vocalcanceler.params()}}get INPUT(){return this.processor}get OUTPUT(){return this.mastervolume}onSourceOpen(e){if(null===this.mediaSource)return;this.sourceBuffer=this.mediaSource.addSourceBuffer(this.mimeType),this.sourceBuffer.mode="sequence",this.sourceBuffer.addEventListener("updateend",this.onSourceBufferUpdateEnd,!1),this.sourceBuffer.addEventListener("error",this.onSourceBufferError,!1);const t=new Request(this.file);fetch(t).then((e=>e.arrayBuffer())).then((e=>{this.sourceBuffer&&this.sourceBuffer.appendBuffer(e)})).catch((e=>{this.listeners.error&&this.listeners.error(e)})).finally((()=>{this.listeners.sourceopen&&this.listeners.sourceopen(e)}))}onSourceEnded(e){this.listeners.sourceended&&this.listeners.sourceended(e)}onSourceClose(e){this.listeners.sourceclose&&this.listeners.sourceclose(e)}onSourceBufferUpdateEnd(e){this.listeners.updateend&&this.listeners.updateend(e)}onSourceBufferError(e){this.listeners.error&&this.listeners.error(e)}}class StreamModuleProcessor extends AudioWorkletProcessor{constructor(){super()}process(e,t){const r=e[0],n=t[0];for(let e=0,t=r.length;e<t;e++)n[e].set(r[e]);return!0}}class H extends j{sources=[];stream=null;constraints={audio:!0,video:!1};output=!0;track=!1;paused=!0;constructor(e){super(e),this.processor=new AudioWorkletNode(e,StreamModuleProcessor.name)}setup(e){return e&&(this.constraints={...this.constraints,...e}),this}ready(e){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.MediaStream?(this.paused=!1,e?.stream?(this.stream=e.stream,Promise.resolve(this.stream)):navigator.mediaDevices.getUserMedia(this.constraints).then((t=>(this.paused||(this.stream=t,e?.successCallback&&e.successCallback(t)),t))).catch((t=>(e?.errorCallback&&e.errorCallback(t),t)))):Promise.reject()}start(){if(null===this.stream)return this;if(this.track){const e=this.stream.getAudioTracks();for(let t=0,r=e.length;t<r;t++)this.sources[t]=this.context.createMediaStreamTrackSource(e[t]),this.sources[t].connect(this.processor),this.connect(this.processor)}else this.sources[0]=this.context.createMediaStreamSource(this.stream),this.sources[0].connect(this.processor),this.connect(this.processor);return this.output||(this.mastervolume.disconnect(0),this.mastervolume.connect(this.analyser.INPUT),this.mastervolume.connect(this.recorder.INPUT),this.recorder.OUTPUT.connect(this.context.destination)),this.on(this.context.currentTime),this.analyser.start("time"),this.analyser.start("fft"),this}stop(){return this.sources.length=0,this.off(this.context.currentTime),this.analyser.stop("time"),this.analyser.stop("fft"),this.paused=!0,this}param(e){if("string"==typeof e)switch(e){case"mastervolume":return this.mastervolume.gain.value;case"output":return this.output;case"track":return this.track}for(const[t,r]of Object.entries(e))switch(t){case"mastervolume":"number"==typeof r&&(this.mastervolume.gain.value=r);break;case"output":"boolean"==typeof r&&(this.output=r);break;case"track":"boolean"==typeof r&&(this.track=r)}return this}get(e){return"number"==typeof e&&e>=0&&e<this.sources.length?this.sources[e]:this.sources}getStream(){return this.stream}clear(){return this.stop(),this.clearAudioDevices(),this.clearVideoDevices(),this.stream=null,this}clearAudioDevices(){if(null===this.stream)return this;this.stop();const e=this.stream.getAudioTracks();for(const t of e)t.stop();return this}clearVideoDevices(){if(null===this.stream)return this;this.stop();const e=this.stream.getVideoTracks();for(const t of e)t.stop();return this.stream=null,this}devices(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices():Promise.reject()}streaming(){return!this.paused}module(e){switch(e){case"analyser":return this.analyser;case"recorder":return this.recorder;case"autopanner":return this.autopanner;case"bitcrusher":return this.bitcrusher;case"chorus":return this.chorus;case"compressor":return this.compressor;case"delay":return this.delay;case"envelopegenerator":return this.envelopegenerator;case"equalizer":return this.equalizer;case"filter":return this.filter;case"flanger":return this.flanger;case"fuzz":return this.fuzz;case"listener":return this.listener;case"noisegate":return this.noisegate;case"noisesuppressor":return this.noisesuppressor;case"overdrive":return this.overdrive;case"panner":return this.panner;case"phaser":return this.phaser;case"pitchshifter":return this.pitchshifter;case"preamp":return this.preamp;case"reverb":return this.reverb;case"ringmodulator":return this.ringmodulator;case"stereo":return this.stereo;case"tremolo":return this.tremolo;case"vocalcanceler":return this.vocalcanceler;case"wah":return this.wah}}on(e){return super.on(e),this}off(e){return super.off(e),this}suspend(){return super.suspend(),this}mix(){return super.mix(),this}demix(){return super.demix(),this}params(){return{...super.params(),output:this.output,track:this.track,noisegate:this.noisegate.params(),noisesuppressor:this.noisesuppressor.params()}}get INPUT(){return this.processor}get OUTPUT(){return this.mastervolume}}class Y extends j{processorName="";options={};moduleURL="";constructor(e){super(e),this.envelopegenerator.setGenerator(0)}setup(e,t){return this.processorName=e,this.options=t??{},this}ready(e,t){return this.moduleURL=e,this.context.audioWorklet.addModule(this.moduleURL,t??{credentials:"same-origin"}).then((()=>{this.processor=new AudioWorkletNode(this.context,this.processorName,this.options)}))}start(){const e=this.envelopegenerator.getGenerator(0);if(null===e)return this;const t=this.context.currentTime;return this.mixed||(this.envelopegenerator.clear(!0),this.processor.disconnect(0),this.connect(e)),this.envelopegenerator.ready(0,this.processor,null),this.envelopegenerator.start(t),this.runningAnalyser||(this.analyser.start("time"),this.analyser.start("fft"),this.runningAnalyser=!0),this.on(t),this}stop(){const e=this.context.currentTime;return this.envelopegenerator.stop(e),this.off(e),this}postMessage(e){return this.processor.port.postMessage(e),this}onMessage(e){return this.processor.port.onmessage=e,this}onMessageError(e){return this.processor.port.onmessageerror=e,this}map(){return this.processor.parameters}get(){return this.processor}module(e){switch(e){case"analyser":return this.analyser;case"recorder":return this.recorder;case"autopanner":return this.autopanner;case"bitcrusher":return this.bitcrusher;case"chorus":return this.chorus;case"compressor":return this.compressor;case"delay":return this.delay;case"envelopegenerator":return this.envelopegenerator;case"equalizer":return this.equalizer;case"filter":return this.filter;case"flanger":return this.flanger;case"fuzz":return this.fuzz;case"listener":return this.listener;case"noisegate":return this.noisegate;case"noisesuppressor":return this.noisesuppressor;case"overdrive":return this.overdrive;case"panner":return this.panner;case"phaser":return this.phaser;case"pitchshifter":return this.pitchshifter;case"preamp":return this.preamp;case"reverb":return this.reverb;case"ringmodulator":return this.ringmodulator;case"stereo":return this.stereo;case"tremolo":return this.tremolo;case"vocalcanceler":return this.vocalcanceler;case"wah":return this.wah}}on(e){return super.on(e),this}off(e){return super.off(e),this}suspend(){super.suspend();const e=this.envelopegenerator.getGenerator(0);return this.processor&&e&&(e.disconnect(0),this.processor.connect(e)),this}mix(){return super.mix(),this}demix(){return super.demix(),this}get INPUT(){return this.envelopegenerator.getGenerator(0)||null}get OUTPUT(){return this.mastervolume}}class MixerModuleProcessor extends AudioWorkletProcessor{constructor(){super()}process(e,t){const r=e[0],n=t[0];for(let e=0,t=r.length;e<t;e++)n[e].set(r[e]);return!0}}class K extends j{sources=[];gainNodes=[];constructor(e){super(e),this.processor=new AudioWorkletNode(e,MixerModuleProcessor.name)}setup(){return this}ready(){return this}start(e,t){this.sources=e;for(let e=0,r=this.sources.length;e<r;e++){const r=this.sources[e],n=this.context.currentTime;r.off(n),r.suspend(),r.mix(),r.INPUT&&(this.gainNodes[e]=this.context.createGain(),this.gainNodes[e].gain.value=t?t[e]:1,r.disconnect(),r.INPUT.connect(this.gainNodes[e]),this.gainNodes[e].connect(this.processor))}this.connect(this.processor);const r=this.context.currentTime;return this.on(r),this.runningAnalyser||(this.analyser.start("time"),this.analyser.start("fft"),this.runningAnalyser=!0),this}stop(){const e=this.context.currentTime;this.off(e),this.suspend();for(const e of this.sources)e.demix(),e.INPUT&&(e.disconnect(),e.connect(e.INPUT));for(const e of this.gainNodes)e.disconnect(0);return this}param(e){if("string"==typeof e&&"mastervolume"===e)return this.mastervolume.gain.value;for(const[t,r]of Object.entries(e))"mastervolume"===t&&"number"==typeof r&&(this.mastervolume.gain.value=r);return this}get(){return this.sources}module(e){switch(e){case"analyser":return this.analyser;case"recorder":return this.recorder;case"autopanner":return this.autopanner;case"bitcrusher":return this.bitcrusher;case"chorus":return this.chorus;case"compressor":return this.compressor;case"delay":return this.delay;case"envelopegenerator":return this.envelopegenerator;case"equalizer":return this.equalizer;case"filter":return this.filter;case"flanger":return this.flanger;case"fuzz":return this.fuzz;case"listener":return this.listener;case"noisegate":return this.noisegate;case"noisesuppressor":return this.noisesuppressor;case"overdrive":return this.overdrive;case"panner":return this.panner;case"phaser":return this.phaser;case"pitchshifter":return this.pitchshifter;case"preamp":return this.preamp;case"reverb":return this.reverb;case"ringmodulator":return this.ringmodulator;case"stereo":return this.stereo;case"tremolo":return this.tremolo;case"vocalcanceler":return this.vocalcanceler;case"wah":return this.wah}}on(e){return super.on(e),this}off(e){return super.off(e),this}suspend(){return super.suspend(),this}mix(){return super.mix(),this}demix(){return super.demix(),this}get INPUT(){return this.processor}get OUTPUT(){return this.mastervolume}}class J{midiAccess=null;inputs=[];outputs=[];constructor(){}setup(e){if(!navigator.requestMIDIAccess)return Promise.reject();const{options:t,successCallback:r,errorCallback:n}=e;return navigator.requestMIDIAccess(t).then((e=>{this.midiAccess=e,e.inputs.forEach((e=>{this.inputs.push(e)})),e.outputs.forEach((e=>{this.outputs.push(e)})),r&&r(this.midiAccess,this.inputs,this.outputs)})).catch((e=>{n&&n(e)}))}get(){return this.midiAccess}}function Z(e){return e.replace(/^.+?\{/s,"").replace(/\};?$/s,"")}const ee=new Map([["T","TEMPO"],["O","OCTAVE"],["C","NOTE"],["D","NOTE"],["E","NOTE"],["F","NOTE"],["G","NOTE"],["A","NOTE"],["B","NOTE"],["+","NOTE"],["-","NOTE"],["#","NOTE"],["R","REST"],["0","NUMBER"],["1","NUMBER"],["2","NUMBER"],["3","NUMBER"],["4","NUMBER"],["5","NUMBER"],["6","NUMBER"],["7","NUMBER"],["8","NUMBER"],["9","NUMBER"],[".","NUMBER"],["&","TIE"],[" ","SPACE"],[void 0,"EOS"]]);class te{_id;_type;_token;_value;constructor(e,t,r){this._id=e,this._type=t,this._token=r,this._value=r?Number(r):-1}get type(){return this._type}get token(){return this._token}get value(){return Number.isNaN(this._value)?-1:this._value}toString(){return JSON.stringify({id:this._id,type:this._type,token:this._token,value:this._value})}}class re{static id=0;tokens=[];notes=[];numbers=[];constructor(e){this.tokens=e.trim().toUpperCase().split("").reverse()}get(){let e=this.tokens.pop(),t=ee.get(e);if(re.id++,!t)return new te(re.id.toString(10),"UNKNOWN",e);for(;"SPACE"===t;)if(e=this.tokens.pop(),t=ee.get(e),!t)return new te(re.id.toString(10),"UNKNOWN",e);if("EOS"===t)return new te(re.id.toString(10),"EOS",e);switch(this.notes.length=0,this.numbers.length=0,t){case"TEMPO":if(e)return new te(re.id.toString(10),"TEMPO",e);break;case"OCTAVE":if(e)return new te(re.id.toString(10),"OCTAVE",e);break;case"NOTE":if(e){if(this.notes.push(e),e=this.tokens.pop(),!e)return new te(re.id.toString(10),"NOTE",this.notes.join(""));if(t=ee.get(e),!t)return new te(re.id.toString(10),"UNKNOWN",e);for(;"NOTE"===t;){if(this.notes.push(e),e=this.tokens.pop(),!e)return new te(re.id.toString(10),"NOTE",this.notes.join(""));if(t=ee.get(e),!t)return new te(re.id.toString(10),"UNKNOWN",e)}return this.tokens.push(e),new te(re.id.toString(10),"NOTE",this.notes.join(""))}break;case"REST":if(e)return new te(re.id.toString(10),"REST",e);break;case"NUMBER":if(e){if(this.numbers.push(e),e=this.tokens.pop(),!e)return new te(re.id.toString(10),"NUMBER",this.numbers.join(""));if(t=ee.get(e),!t)return new te(re.id.toString(10),"UNKNOWN",e);for(;"NUMBER"===t;){if(this.numbers.push(e),e=this.tokens.pop(),!e)return new te(re.id.toString(10),"NUMBER",this.numbers.join(""));if(t=ee.get(e),!t)return new te(re.id.toString(10),"UNKNOWN",e)}return this.tokens.push(e),new te(re.id.toString(10),"NUMBER",this.numbers.join(""))}break;case"TIE":if(e)return new te(re.id.toString(10),"TIE",e)}return null}}class ne{static indent=0;_id;_operator;_left;_right;constructor(e,t,r,n){this._id=e,this._operator=t,this._left=r,this._right=n}concat(e){this._right=e}get operator(){return this._operator}get left(){return this._left}get right(){return this._right}clear(){ne.indent=0}toString(){let e="";for(let t=0;t<ne.indent;t++)e+="    ";return ne.indent++,`\n${e}  ${this._operator.token} (id = ${this._id})\n${e}  /\\\n${e}${this._left?.operator.token??""}${null!==this._right&&void 0!==this._right._operator.token?this.toString.call(this._right):"EOS"}\n`}}class se{_token;constructor(e){this._token=e}get token(){return this._token}}class ie{static id=0;tokenizer;syntaxTree=[];constructor(e){this.tokenizer=e}parse(){re.id=0;let e=this.tokenizer.get(),t=this.tokenizer.get();for(;;){if(!e||!t)return this.syntaxTree;switch(ie.id+=2,e.type){case"TEMPO":if("NUMBER"===t.type){const r=new ne((ie.id-0).toString(10),t,null,null),n=new ne((ie.id-1).toString(10),e,r,null);this.syntaxTree.push(n);break}return new se(e);case"OCTAVE":if(this.syntaxTree.length>0&&"NUMBER"===t.type){const r=new ne((ie.id-0).toString(10),t,null,null),n=new ne((ie.id-1).toString(10),e,r,null);this.syntaxTree[this.syntaxTree.length-1].concat(n),this.syntaxTree.push(n);break}return new se(e);case"NOTE":if(this.syntaxTree.length>0&&"NUMBER"===t.type){const r=new ne((ie.id-0).toString(10),t,null,null),n=new ne((ie.id-1).toString(10),e,r,null);this.syntaxTree[this.syntaxTree.length-1].concat(n),this.syntaxTree.push(n);break}return new se(e);case"REST":if(this.syntaxTree.length>0&&"NUMBER"===t.type){const r=new ne((ie.id-0).toString(10),t,null,null),n=new ne((ie.id-1).toString(10),e,r,null);this.syntaxTree[this.syntaxTree.length-1].concat(n),this.syntaxTree.push(n);break}return new se(e);case"NUMBER":ie.id-=2;break;case"TIE":if(this.syntaxTree.length>0){ie.id--;const t=new ne((ie.id-0).toString(10),e,null,null);this.syntaxTree[this.syntaxTree.length-1].concat(t),this.syntaxTree.push(t);break}return new se(e);case"EOS":if(this.syntaxTree.length>0){const t=new ne((ie.id-1).toString(10),e,null,null);this.syntaxTree[this.syntaxTree.length-1].concat(t),this.syntaxTree.push(t)}else{const t=new ne((ie.id-1).toString(10),e,null,null);this.syntaxTree.push(t)}return this.syntaxTree}e=t,t=this.tokenizer.get()}}free(){this.syntaxTree.length=0}}const ae=1.0594630943592953;function oe(e){switch(e.toUpperCase()){case"C":case"D":case"E":case"F":case"G":case"A":case"B":case"R":return!0;default:return!1}}function ue(e,t){let r=0;switch(t){case"C":r=3;break;case"D":r=5;break;case"E":r=7;break;case"F":r=8;break;case"G":r=10;break;case"A":r=12;break;case"B":r=14;break;case"R":return-1}const n=12*(e-1)+r;return n>=0?n:-1}function le(e){return e>=0?27.5*ae**e:0}function ce(e){const{file:t,type:r,successCallback:n,errorCallback:s,progressCallback:i}=e,a=new FileReader;switch(a.onprogress=e=>{i&&i(e)},a.onerror=e=>{if(!s)return;let t;switch(a.error?.code){case a.error?.NOT_FOUND_ERR:t="NOT_FOUND_ERR";break;case a.error?.SECURITY_ERR:t="SECURITY_ERR";break;case a.error?.ABORT_ERR:t="ABORT_ERR";break;case a.error?.NOT_SUPPORTED_ERR:t="NOT_READABLE_ERR";break;default:t="ERR"}s(e,t)},a.onload=e=>{if(!n)return;let t=a.result;switch(r){case"text":"string"==typeof t&&(t=t.replace(/<(\/?script.*?)>/gi,"&lt;$1&gt;"));break;case"json":"string"==typeof t&&(t=JSON.parse(t.replace(/<(\/?script.*?)>/gi,"&lt;$1&gt;")))}n(e,t)},r){case"arraybuffer":a.readAsArrayBuffer(t);break;case"dataURL":a.readAsDataURL(t);break;case"text":case"json":a.readAsText(t,"UTF-8")}}class he{_id;_note;_indexes;_frequencies;_start;_stop;_duration;constructor(e){const{id:t,note:r,indexes:n,frequencies:s,start:i,stop:a,duration:o}=e;this._id=t,this._note=r,this._indexes=n,this._frequencies=s,this._start=i,this._stop=a,this._duration=o}concat(e){return new he({id:this._id,note:`${this._note}&${e.note}`,indexes:this._indexes,frequencies:this._frequencies,start:this._start,duration:this._duration+e.duration,stop:this._start+(this._duration+e.duration)})}get note(){return this._note}get indexes(){return this._indexes}get frequencies(){return this._frequencies}get start(){return this._start}get stop(){return this._stop}get duration(){return this._duration}toString(){return JSON.stringify({id:this._id,note:this._note,indexes:this._indexes,frequencies:this._frequencies,start:this._start,stop:this._stop,duration:this._duration})}}class fe{sequences=[];treeConstructor;syntaxTree="";timeOf4note=0;octave=-1;currentTime=0;errorCallback;constructor(e,t){this.treeConstructor=e,this.errorCallback=t||(e=>{throw e})}get(){ie.id=0;const e=this.treeConstructor.parse();if(!e)return void this.errorCallback(new se(new te("1","UNKNOWN","")));if(e instanceof se)return void this.errorCallback(e);this.timeOf4note=0,this.octave=-1,this.currentTime=0;let t=e[0];for(;null!==t;){if(!t)return void this.errorCallback(new se(new te((this.sequences.length+1).toString(10),"UNKNOWN","")));if(t instanceof se)return void this.errorCallback(t);const e=t.operator,r=e.type,n=t.left,s=null!==n?n.operator.value:-1;switch(r){case"TEMPO":if(s<=0)return void this.errorCallback(new se(e));this.timeOf4note=60/s,t=t.right;break;case"OCTAVE":if(s<0)return void this.errorCallback(new se(e));this.octave=s,t=t.right;break;case"NOTE":case"REST":case"TIE":{const e=this.push("TIE"===r?t.right:t);if(e instanceof se)return void this.errorCallback(e);"TIE"===r?(this.concat(),t=t.right?.right??null):t=t.right;break}case"EOS":t=t.right}}return this.syntaxTree=e[0].toString(),this.treeConstructor.free(),this.sequences}getSyntaxTree(){return this.syntaxTree}push(e){if(null===e)return;const t=e.left,r=e.right;if(null===t||null===r)return;const n=t.operator,s=r.operator;if(null===n&&null===s)return this.push(t),void this.push(r);const i=e.operator.token,a=n.value,o=n.token,u=[],l=[];if(!i)return;for(let e=0,t=i.length;e<t;e++){const t=i.charAt(e);if(!oe(t))continue;let r=ue(this.octave,t);switch(i.charAt(e+1)){case"+":case"#":r++,e++;break;case"-":r--,e++}if(r>=u[0]&&(r-=12),-1!==r&&r<0)return;u.push(r)}for(const e of u){const t=le(e);if(t<0)return;l.push(t)}let c=0;switch(a){case 1:case 2:case 4:case 8:case 16:case 32:case 64:case 128:case 256:if(o){const e=4/a;o.includes(".")?c+=e*this.timeOf4note*1.5:c+=e*this.timeOf4note}break;case 6:c+=2*this.timeOf4note/3;break;case 12:c+=this.timeOf4note/3;break;case 18:c+=2*this.timeOf4note/9;break;case 24:c+=.5*this.timeOf4note/3;break;case 36:c+=this.timeOf4note/9;break;case 48:c+=.25*this.timeOf4note/3;break;case 72:c+=.5*this.timeOf4note/9;break;case 96:c+=.125*this.timeOf4note/3;break;case 144:c+=.25*this.timeOf4note/9;break;case 192:c+=.0625*this.timeOf4note/3;break;default:return void this.errorCallback(new se(n))}const h=(this.sequences.length+1).toString(10),f=`${i}${o}`,p=this.currentTime,d=p+c;this.sequences.push(new he({id:h,note:f,indexes:u,frequencies:l,start:p,stop:d,duration:c})),this.currentTime+=c}concat(){const e=this.sequences.pop(),t=this.sequences.pop();t&&e&&this.sequences.push(t.concat(e))}}const pe=()=>{let e=null;self.onmessage=t=>{switch(t.data.type){case"schedule":"number"==typeof t.data.duration&&(e=self.setTimeout((()=>{self.postMessage({type:"next"})}),1e3*t.data.duration));break;case"next":break;case"stop":null!==e&&(self.clearTimeout(e),self.close(),e=null)}}};class de{sequences=[];source;mml;syntaxTree;previous=null;scheduleWorker=null;currentIndex=0;currentPosition=0;offset=0;constructor(e){const{source:t,mml:r,offset:n,startCallback:s,stopCallback:i,endedCallback:a,errorCallback:o}=e;this.source=t,this.mml=r,this.offset=n??0,s&&(this.startCallback=s),i&&(this.stopCallback=i),a&&(this.endedCallback=a),o&&(this.errorCallback=o);const u=new re(r),l=new ie(u),c=new fe(l,this.errorCallback),h=c.get();h&&(this.sequences=h),this.syntaxTree=c.getSyntaxTree();const f=function(e){return window.URL.createObjectURL(function(e){return new Blob([Z(e)],{type:"text/javascript"})}(e))}(pe.toString());this.scheduleWorker=new Worker(f),window.URL.revokeObjectURL(f)}start(e){if(null===this.scheduleWorker)return;if(!this.sequences[this.currentIndex])return this.stop(),void(this.endedCallback&&this.endedCallback());const t=this.sequences[this.currentIndex++];if(e){const e=this.mml.slice(0,this.currentPosition),r=this.mml.slice(this.currentPosition).replace(t.note,`<span class="x-highlight">${t.note}</span>`);this.mml=`${e}${r}`,this.currentPosition+=this.mml.slice(this.currentPosition).indexOf("</span>")+7}else{const e=this.mml.slice(0,this.currentPosition),r=t.note;this.mml=`${e}${r}`,this.currentPosition+=r.length}if(this.source instanceof G)this.source.ready(0,t.duration).start(t.frequencies),this.startCallback&&this.startCallback(t);else if(this.source instanceof W){const e=t.indexes.filter((e=>-1!==e)).map((e=>e+this.offset));this.source.ready(0,t.duration).start(e),this.startCallback&&this.startCallback(t,this.offset)}else this.source instanceof Q&&(this.source.start(),this.startCallback&&this.startCallback(t));const r={type:"schedule",duration:t.duration};this.scheduleWorker.postMessage(r),this.scheduleWorker.onmessage=r=>{"next"===r.data.type&&(this.source instanceof G?this.stopCallback&&this.stopCallback(t):this.source instanceof W?this.stopCallback&&this.stopCallback(t,this.offset):this.source instanceof Q&&(this.source.stop(),this.stopCallback&&this.stopCallback(t)),this.previous=t,this.start(e))}}stop(){if(null!==this.scheduleWorker&&null!==this.previous){if(this.source instanceof G)this.source.stop(),this.stopCallback&&this.stopCallback(this.previous);else if(this.source instanceof W){const e=this.previous.indexes.filter((e=>-1!==e)).map((e=>e+this.offset));this.source.stop(e),this.stopCallback&&this.stopCallback(this.previous,this.offset)}else this.source instanceof Q&&(this.source.stop(),this.stopCallback&&this.stopCallback(this.previous));this.scheduleWorker.postMessage({type:"stop"}),this.scheduleWorker.terminate(),this.scheduleWorker=null}}getMML(){return this.mml}getSequences(){return this.sequences}getSyntaxTree(){return this.syntaxTree}has(){return this.sequences.length>0}paused(){return null===this.scheduleWorker}getCurrentIndex(){return this.currentIndex}setCurrentIndex(e){e>=0&&e<this.sequences.length&&(this.currentIndex=e)}}class me{parts=[];constructor(){}setup(e){return e?.startCallback&&(this.startCallback=e.startCallback),e?.stopCallback&&(this.stopCallback=e.stopCallback),e?.endedCallback&&(this.endedCallback=e.endedCallback),e?.errorCallback&&(this.errorCallback=e.errorCallback),this}ready(e){const{source:t,mmls:r,offset:n}=e;this.stop(),this.clear();const s=this.startCallback,i=this.stopCallback,a=this.endedCallback,o=this.errorCallback;for(const e of r)this.parts.push(new de({source:t,mml:e,offset:n,startCallback:s,stopCallback:i,endedCallback:a,errorCallback:o}));return this}start(e,t){return e>=0&&e<this.parts.length&&this.parts[e].start(t??!1),this}stop(){for(const e of this.parts)e.stop();return this}getMML(e){return e>=0&&e<this.parts.length?this.parts[e].getMML():""}getMMLs(){return this.parts.map((e=>e.getMML()))}has(){return this.parts.length>0&&this.parts.every((e=>e.has()))}getSequences(e){return e>=0&&e<this.parts.length?this.parts[e].getSequences():[]}getAllSequences(){return this.parts.map((e=>e.getSequences()))}getSyntaxTree(e){return e>=0&&e<this.parts.length?this.parts[e].getSyntaxTree():""}paused(){return 0===this.parts.length||this.parts.every((e=>e.paused()))}currentIndex(e,t){return e<0||e>=this.parts.length?this:t?(this.parts[e].setCurrentIndex(t),this):this.parts[e].getCurrentIndex()}clear(){for(const e of this.parts)e.stop();return this.parts.length=0,this}toABC(e,t,r,n,s,i){let a="";a+=`X:${t||1}\n`,a+=`T:${r||""}\n`,a+=`M:${n||"4/4"}\n`,a+=`L:${s||"1/256"}\n`,a+=`K:${i||""}\n`;const o=e.match(/\s*(?:T\d+)\s*|\s*(?:O\d+)\s*|\s*(?:(?:[CDEFGABR][#+-]?)+(?:256|192|144|128|96|72|64|48|36|32|24|18|16|12|8|6|4|2|1)\.?)(?:&(?:[CDEFGABR][#+-]?)+(?:256|192|144|128|96|72|64|48|36|32|24|18|16|12|8|6|4|2|1)\.?)*\s*/gi);if(null===o)return a;let u=null,l=0;for(;o.length>0;){const e=o.shift()?.trim();if(!e)return a;if(/T\d+/i.test(e)){const t=Number(e.slice(1));if(t<=0)return a;a+=`Q:1/4=${t}\n`}else if(/O\d+/i.test(e)){if(u=Number(e.slice(1)),u<0)return a}else if(/(?:(?:[CDEFGABR][#+-]?)+)(?:256|192|144|128|96|72|64|48|36|32|24|18|16|12|8|6|4|2|1)(?:&(?:[CDEFGABR][#+-]?)+(?:256|192|144|128|96|72|64|48|36|32|24|18|16|12|8|6|4|2|1)\.?)*/i.test(e)){if(null===u)return a;let t=null;t=e.includes("&")?e.split("&"):[e];let r="";for(;t.length>0;){const e=t.shift();if(!e)return a;let n="",s=0;switch(Number(e.replace(/^.+?(\d+)\.*$/,"$1"))){case 1:n=e.replace("1","256");break;case 2:n=e.replace("2","128");break;case 4:n=e.replace("4","64");break;case 8:n=e.replace("8","32");break;case 16:n=e.replace("16","16");break;case 32:n=e.replace("32","8");break;case 64:n=e.replace("64","4");break;case 128:n=e.replace("128","2");break;case 256:n=e.replace("256","1");break;case 6:n=`(3${e.replace("6","128")}`,s=128/3;break;case 12:n=`(3${e.replace("12","64")}`,s=64/3;break;case 18:n=`(9${e.replace("18","128")}`,s=128/9;break;case 24:n=`(3${e.replace("24","32")}`,s=32/3;break;case 36:n=`(9${e.replace("36","64")}`,s=64/9;break;case 48:n=`(3${e.replace("48","16")}`,s=16/3;break;case 72:n=`(9${e.replace("72","32")}`,s=32/9;break;case 96:n=`(3${e.replace("96","8")}`,s=8/3;break;case 144:n=`(9${e.replace("144","16")}`,s=16/9;break;case 192:n=`(3${e.replace("192","4")}`,s=4/3;break;default:return a}if(n.includes(".")&&(n=n.replace(/^(.+?)\d+\.+$/,"$1"+1.5*Number(n.replace(/^.+?(\d+)\.+$/,"$1")))),n.includes("(")?l+=Number(n.replace(/^.+?(\d+)\.*$/i,"$1")):l+=s,l>=256&&(n+=" | ",l=0),/R/i.test(n)){a+=`${n} `;continue}let i="";switch(u){case 0:i=",,,,";break;case 1:i=",,,";break;case 2:i=",,";break;case 3:i=",";break;case 5:i="'";break;case 6:i="''";break;case 7:i="'''"}const o=n.match(/^(\(\d+)?((?:[CDEFGAB][#+-]?)+)(.*)$/i);if(null===o)return a;const c=o[1]?o[1]:"",h=o[2].length,f=o[3]?o[3]:"";let p=0;if(c.length>0&&(n=n.replace(/^(?:\(\d+)?((?:[CDEFGAB][#+-]?)+)(.*)$/i,"$1$2")),1===h)r+=`${c}${n.slice(0,1)}${i}${f}`;else if(2===h&&/[#+-]/.test(n.charAt(1)))r+=`${c}${n.slice(1,2)}${n.slice(0,1)}${i}${f}`;else for(;p<h;)0===p&&(r+=`${c}[`),/[#+-]/.test(n.charAt(p+1))?(r+=`${n.slice(p+1,p+2)}${n.slice(p,p+1)}${i}`,p+=2):(r+=`${n.slice(p,p+1)}${i}`,p++),p===h&&(r+=`]${f}`);t.length>0?r+="&":a+=`${r} `}}}return a.replace(/R/gi,"z").replace(/[#+]/g,"^").replace(/-/g,"_").replace(/&/g,"-").replace(/\s{2}/g," ").trim()}}window.AudioContext=window.AudioContext||window.webkitAudioContext,window.URL=window.URL||window.webkitURL;const ve=new AudioContext,ye={oscillator:null,oneshot:null,noise:null,audio:null,media:null,stream:null,processor:null,mixer:null,midi:null,mml:null},ge=Promise.all([r(ve,SoundModuleProcessor),r(ve,RecorderProcessor),r(ve,OscillatorModuleProcessor),r(ve,OneshotModuleProcessor),r(ve,NoiseModuleProcessor),r(ve,AudioModuleProcessor),r(ve,MediaModuleProcessor),r(ve,StreamModuleProcessor),r(ve,MixerModuleProcessor),r(ve,NoiseGateProcessor),r(ve,NoiseSuppressorProcessor),r(ve,PitchShifterProcessor),r(ve,StereoProcessor),r(ve,VocalCancelerProcessor)]).then((()=>(ye.oscillator=new G(ve),ye.oneshot=new W(ve),ye.noise=new Q(ve),ye.audio=new V(ve),ye.media=new X(ve),ye.stream=new H(ve),ye.processor=new Y(ve),ye.mixer=new K(ve),ye.midi=new J,ye.mml=new me,ye))).catch((e=>e));function be(e){switch(e){case"oscillator":return ye.oscillator;case"oneshot":return ye.oneshot;case"noise":return ye.noise;case"audio":return ye.audio;case"media":return ye.media;case"stream":return ye.stream;case"processor":return ye.processor;case"mixer":return ye.mixer;case"midi":return ye.midi;case"mml":return ye.mml;default:return null}}be.SAMPLE_RATE=ve.sampleRate,be.EQUAL_TEMPERAMENT=12,be.FREQUENCY_RATIO=ae,be.MIN_A=27.5,be.QUARTER_NOT=4,be.HALF_UP="+",be.HALF_DOWN="-",be.DOT=".",be.isPitchChar=oe,be.computeIndex=ue,be.computeFrequency=le,be.fft=function(e,t,r){const n=e=>2**e,s=new Uint16Array(r),i=Math.log2(r);for(let s=1;s<=i;s++)for(let a=0;a<n(s-1);a++){const o=i-s;for(let u=0;u<n(o);u++){const l=a*n(o+1)+u,c=n(o)+l,h=u*n(s-1),f=e[l],p=t[l],d=e[c],m=t[c],v=Math.cos(2*Math.PI*h/r),y=-1*Math.sin(2*Math.PI*h/r);s<i?(e[l]=f+d,t[l]=p+m,e[c]=v*(f-d)-y*(p-m),t[c]=v*(p-m)+y*(f-d)):(e[l]=f+d,t[l]=p+m,e[c]=f-d,t[c]=p-m)}}for(let e=1;e<=i;e++){const t=i-e;for(let r=0;r<n(e-1);r++)s[n(e-1)+r]=s[r]+n(t)}for(let n=0;n<r;n++){if(s[n]<=n)continue;const r=e[s[n]],i=t[s[n]];e[s[n]]=e[n],t[s[n]]=t[n],e[n]=r,t[n]=i}},be.ifft=function(e,t,r){const n=e=>2**e,s=new Uint16Array(r),i=Math.log2(r);for(let s=1;s<=i;s++)for(let a=0;a<n(s-1);a++){const o=i-s;for(let u=0;u<n(o);u++){const l=a*n(o+1)+u,c=n(o)+l,h=u*n(s-1),f=e[l],p=t[l],d=e[c],m=t[c],v=Math.cos(2*Math.PI*h/r),y=Math.sin(2*Math.PI*h/r);s<i?(e[l]=f+d,t[l]=p+m,e[c]=v*(f-d)-y*(p-m),t[c]=v*(p-m)+y*(f-d)):(e[l]=f+d,t[l]=p+m,e[c]=f-d,t[c]=p-m)}}for(let e=1;e<=i;e++){const t=i-e;for(let r=0;r<n(e-1);r++)s[n(e-1)+r]=s[r]+n(t)}for(let n=0;n<r;n++){if(s[n]<=n)continue;const r=e[s[n]],i=t[s[n]];e[s[n]]=e[n],t[s[n]]=t[n],e[n]=r,t[n]=i}for(let n=0;n<r;n++)e[n]/=r,t[n]/=r},be.ajax=function(e){const{url:t,type:r,timeout:n,successCallback:s,errorCallback:i,progressCallback:a}=e,o=new XMLHttpRequest;o.timeout=n??6e4,o.ontimeout=e=>{i&&i(e,"timeout")},o.onprogress=e=>{a&&a(e)},o.onerror=e=>{i&&i(e,"error")},o.onload=e=>{s&&200===o.status&&s(e,o.response)},o.open("GET",t,!0),o.responseType=r??"arraybuffer",o.send(null)},be.convertTime=function(e){return e<0?{minutes:-1,seconds:-1,milliseconds:-1}:{minutes:Math.trunc(e/60),seconds:Math.trunc(e%60),milliseconds:e-Math.trunc(e)}},be.decode=function(e,t,r,n){r||(r=()=>{}),n||(n=()=>{}),e.decodeAudioData(t,r,n)},be.requestFullscreen=function(e){return e.requestFullscreen()},be.exitFullscreen=function(){return document.exitFullscreen()},be.read=ce,be.drop=function(e){const{event:t,type:r,successCallback:n,errorCallback:s,progressCallback:i}=e;t.preventDefault();const a=t.dataTransfer?.items[0].getAsFile()??null;return null===a?null:"objectURL"===r?window.URL.createObjectURL(a):(ce({file:a,type:r,successCallback:n,errorCallback:s,progressCallback:i}),a)},be.file=function(e){const{event:t,type:r,successCallback:n,errorCallback:s,progressCallback:i}=e,a=t.target.files?.item(0)??null;return null===a?null:"objectURL"===r?window.URL.createObjectURL(a):(ce({file:a,type:r,successCallback:n,errorCallback:s,progressCallback:i}),a)},be.toFrequencies=function(e){return e.map((e=>le(e)))},be.toTextFile=function(e,t){if(t){const t=new Blob([e],{type:"text/plain"});return window.URL.createObjectURL(t)}return`data:,${encodeURIComponent(e)}`},be.Analyser=l,be.Recorder=f,be.Effector=p,be.Autopanner=d,be.BitCrusher=m,be.Chorus=v,be.Compressor=y,be.Delay=g,be.Equalizer=w,be.Filter=k,be.Flanger=S,be.Fuzz=x,be.Listener=E,be.NoiseGate=T,be.NoiseSuppressor=A,be.OverDrive=C,be.Panner=_,be.Phaser=N,be.PitchShifter=M,be.Preamp=z,be.Reverb=I,be.Ringmodulator=F,be.Stereo=L,be.Tremolo=D,be.VocalCanceler=U,be.Wah=q,be.setup=()=>"running"!==ve.state?ve.resume():Promise.resolve(),be.promise=()=>ge,be.clone=()=>{const e={oscillator:null,oneshot:null,noise:null,audio:null,media:null,stream:null,processor:null,mixer:null,midi:null,mml:null};function t(t){switch(t){case"oscillator":return e.oscillator;case"oneshot":return e.oneshot;case"noise":return e.noise;case"audio":return e.audio;case"media":return e.media;case"stream":return e.stream;case"processor":return e.processor;case"mixer":return e.mixer;case"midi":return e.midi;case"mml":return e.mml;default:return null}}return t.free=t=>{for(const r of t)null!==r&&Object.entries(e).forEach((([t,n])=>{r===n&&(e[t]=null)}))},e.oscillator=new G(ve),e.oneshot=new W(ve),e.noise=new Q(ve),e.audio=new V(ve),e.media=new X(ve),e.stream=new H(ve),e.processor=new Y(ve),e.mixer=new K(ve),e.midi=new J,e.mml=new me,t},be.free=e=>{for(const t of e)null!==t&&Object.entries(ye).forEach((([e,r])=>{t===r&&(ye[e]=null)}))},be.noConflict=e=>(window.X===be&&(window.X=void 0),e&&window.XSound===be&&(window.XSound=void 0),be),be.get=()=>ve,be.getCurrentTime=()=>ve.currentTime;const we=e=>{e.stopImmediatePropagation(),be.setup().finally((()=>{document.removeEventListener("mousedown",we,!1),document.removeEventListener("touchstart",we,!1)}))};return document.addEventListener("mousedown",we,!1),document.addEventListener("touchstart",we,!1),t})(),e.exports=t()},816:(e,t,r)=>{"use strict";r.d(t,{xC:()=>Ee,oM:()=>Ne});var n=Symbol.for("immer-nothing"),s=Symbol.for("immer-draftable"),i=Symbol.for("immer-state");function a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var o=Object.getPrototypeOf;function u(e){return!!e&&!!e[i]}function l(e){return!!e&&(h(e)||Array.isArray(e)||!!e[s]||!!e.constructor?.[s]||v(e)||y(e))}var c=Object.prototype.constructor.toString();function h(e){if(!e||"object"!=typeof e)return!1;const t=o(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===c}function f(e,t){0===p(e)?Object.entries(e).forEach((([r,n])=>{t(r,n,e)})):e.forEach(((r,n)=>t(n,r,e)))}function p(e){const t=e[i];return t?t.type_:Array.isArray(e)?1:v(e)?2:y(e)?3:0}function d(e,t){return 2===p(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m(e,t,r){const n=p(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function v(e){return e instanceof Map}function y(e){return e instanceof Set}function g(e){return e.copy_||e.base_}function b(e,t){if(v(e))return new Map(e);if(y(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&h(e)){if(!o(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const r=Object.getOwnPropertyDescriptors(e);delete r[i];let n=Reflect.ownKeys(r);for(let t=0;t<n.length;t++){const s=n[t],i=r[s];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(r[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[s]})}return Object.create(o(e),r)}function w(e,t=!1){return S(e)||u(e)||!l(e)||(p(e)>1&&(e.set=e.add=e.clear=e.delete=k),Object.freeze(e),t&&f(e,((e,t)=>w(t,!0)))),e}function k(){a(2)}function S(e){return Object.isFrozen(e)}var x,E={};function T(e){const t=E[e];return t||a(0),t}function A(){return x}function C(e,t){t&&(T("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _(e){N(e),e.drafts_.forEach(P),e.drafts_=null}function N(e){e===x&&(x=e.parent_)}function M(e){return x={drafts_:[],parent_:x,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function P(e){const t=e[i];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function O(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[i].modified_&&(_(t),a(4)),l(e)&&(e=R(t,e),t.parent_||I(t,e)),t.patches_&&T("Patches").generateReplacementPatches_(r[i].base_,e,t.patches_,t.inversePatches_)):e=R(t,r,[]),_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==n?e:void 0}function R(e,t,r){if(S(t))return t;const n=t[i];if(!n)return f(t,((s,i)=>z(e,n,t,s,i,r))),t;if(n.scope_!==e)return t;if(!n.modified_)return I(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let s=t,i=!1;3===n.type_&&(s=new Set(t),t.clear(),i=!0),f(s,((s,a)=>z(e,n,t,s,a,r,i))),I(e,t,!1),r&&e.patches_&&T("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function z(e,t,r,n,s,i,a){if(u(s)){const a=R(e,s,i&&t&&3!==t.type_&&!d(t.assigned_,n)?i.concat(n):void 0);if(m(r,n,a),!u(a))return;e.canAutoFreeze_=!1}else a&&r.add(s);if(l(s)&&!S(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;R(e,s),t&&t.scope_.parent_||I(e,s)}}function I(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&w(t,r)}var F={get(e,t){if(t===i)return e;const r=g(e);if(!d(r,t))return function(e,t,r){const n=U(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!l(n)?n:n===D(e.base_,t)?(j(e),e.copy_[t]=$(n,e)):n},has:(e,t)=>t in g(e),ownKeys:e=>Reflect.ownKeys(g(e)),set(e,t,r){const n=U(g(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=D(g(e),t),o=n?.[i];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((s=r)===(a=n)?0!==s||1/s==1/a:s!=s&&a!=a)&&(void 0!==r||d(e.base_,t)))return!0;j(e),q(e)}var s,a;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==D(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,j(e),q(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=g(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){a(11)},getPrototypeOf:e=>o(e.base_),setPrototypeOf(){a(12)}},L={};function D(e,t){const r=e[i];return(r?g(r):e)[t]}function U(e,t){if(!(t in e))return;let r=o(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=o(r)}}function q(e){e.modified_||(e.modified_=!0,e.parent_&&q(e.parent_))}function j(e){e.copy_||(e.copy_=b(e.base_,e.scope_.immer_.useStrictShallowCopy_))}f(F,((e,t)=>{L[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),L.deleteProperty=function(e,t){return L.set.call(this,e,t,void 0)},L.set=function(e,t,r){return F.set.call(this,e[0],t,r,e[0])};function $(e,t){const r=v(e)?T("MapSet").proxyMap_(e,t):y(e)?T("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:A(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=F;r&&(s=[n],i=L);const{revoke:a,proxy:o}=Proxy.revocable(s,i);return n.draft_=o,n.revoke_=a,o}(e,t);return(t?t.scope_:A()).drafts_.push(r),r}function B(e){return u(e)||a(10),G(e)}function G(e){if(!l(e)||S(e))return e;const t=e[i];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=b(e,t.scope_.immer_.useStrictShallowCopy_)}else r=b(e,!0);return f(r,((e,t)=>{m(r,e,G(t))})),t&&(t.finalized_=!1),r}var W=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...s){return n.produce(e,(e=>t.call(this,e,...s)))}}let s;if("function"!=typeof t&&a(6),void 0!==r&&"function"!=typeof r&&a(7),l(e)){const n=M(this),i=$(e,void 0);let a=!0;try{s=t(i),a=!1}finally{a?_(n):N(n)}return C(n,r),O(s,n)}if(!e||"object"!=typeof e){if(s=t(e),void 0===s&&(s=e),s===n&&(s=void 0),this.autoFreeze_&&w(s,!0),r){const t=[],n=[];T("Patches").generateReplacementPatches_(e,s,t,n),r(t,n)}return s}a(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,(t=>e(t,...r)));let r,n;return[this.produce(e,t,((e,t)=>{r=e,n=t})),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){l(e)||a(8),u(e)&&(e=B(e));const t=M(this),r=$(e,void 0);return r[i].isManual_=!0,N(t),r}finishDraft(e,t){const r=e&&e[i];r&&r.isManual_||a(9);const{scope_:n}=r;return C(n,t),O(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=T("Patches").applyPatches_;return u(e)?n(e,t):this.produce(e,(e=>n(e,t)))}},Q=W.produce;W.produceWithPatches.bind(W),W.setAutoFreeze.bind(W),W.setUseStrictShallowCopy.bind(W),W.applyPatches.bind(W),W.createDraft.bind(W),W.finishDraft.bind(W);function V(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var X=e=>Array.isArray(e)?e:[e];function H(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const r=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Y="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},K=0,J=1;function Z(){return{s:K,v:void 0,o:null,p:null}}function ee(e,t={}){let r=Z();const{resultEqualityCheck:n}=t;let s,i=0;function a(){let t=r;const{length:a}=arguments;for(let e=0,r=a;e<r;e++){const r=arguments[e];if("function"==typeof r||"object"==typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t=Z(),e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t=Z(),e.set(r,t)):t=n}}const o=t;let u;if(t.s===J?u=t.v:(u=e.apply(null,arguments),i++),o.s=J,n){const e=s?.deref()??s;null!=e&&n(e,u)&&(u=e,0!==i&&i--);s="object"==typeof u&&null!==u||"function"==typeof u?new Y(u):u}return o.v=u,u}return a.clearCache=()=>{r=Z(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function te(e,...t){const r="function"==typeof e?{memoize:e,memoizeOptions:t}:e;return(...e)=>{let t,n=0,s=0,i={},a=e.pop();"object"==typeof a&&(i=a,a=e.pop()),V(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);const o={...r,...i},{memoize:u,memoizeOptions:l=[],argsMemoize:c=ee,argsMemoizeOptions:h=[],devModeChecks:f={}}=o,p=X(l),d=X(h),m=H(e),v=u((function(){return n++,a.apply(null,arguments)}),...p);const y=c((function(){s++;const e=function(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}(m,arguments);return t=v.apply(null,e),t}),...d);return Object.assign(y,{resultFunc:a,memoizedResultFunc:v,dependencies:m,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>t,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:u,argsMemoize:c})}}function re(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ne=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),se=()=>Math.random().toString(36).substring(7).split("").join("."),ie={INIT:`@@redux/INIT${se()}`,REPLACE:`@@redux/REPLACE${se()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${se()}`};function ae(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function oe(e,t,r){if("function"!=typeof e)throw new Error(re(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(re(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(re(1));return r(oe)(e,t)}let n=e,s=t,i=new Map,a=i,o=0,u=!1;function l(){a===i&&(a=new Map,i.forEach(((e,t)=>{a.set(t,e)})))}function c(){if(u)throw new Error(re(3));return s}function h(e){if("function"!=typeof e)throw new Error(re(4));if(u)throw new Error(re(5));let t=!0;l();const r=o++;return a.set(r,e),function(){if(t){if(u)throw new Error(re(6));t=!1,l(),a.delete(r),i=null}}}function f(e){if(!ae(e))throw new Error(re(7));if(void 0===e.type)throw new Error(re(8));if("string"!=typeof e.type)throw new Error(re(17));if(u)throw new Error(re(9));try{u=!0,s=n(s,e)}finally{u=!1}return(i=a).forEach((e=>{e()})),e}f({type:ie.INIT});return{dispatch:f,subscribe:h,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error(re(10));n=e,f({type:ie.REPLACE})},[ne]:function(){const e=h;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(re(11));function r(){const e=t;e.next&&e.next(c())}r();return{unsubscribe:e(r)}},[ne](){return this}}}}}function ue(e){const t=Object.keys(e),r={};for(let n=0;n<t.length;n++){const s=t[n];0,"function"==typeof e[s]&&(r[s]=e[s])}const n=Object.keys(r);let s;try{!function(e){Object.keys(e).forEach((t=>{const r=e[t];if(void 0===r(void 0,{type:ie.INIT}))throw new Error(re(12));if(void 0===r(void 0,{type:ie.PROBE_UNKNOWN_ACTION()}))throw new Error(re(13))}))}(r)}catch(e){s=e}return function(e={},t){if(s)throw s;let i=!1;const a={};for(let s=0;s<n.length;s++){const o=n[s],u=r[o],l=e[o],c=u(l,t);if(void 0===c){t&&t.type;throw new Error(re(14))}a[o]=c,i=i||c!==l}return i=i||n.length!==Object.keys(e).length,i?a:e}}function le(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...r)=>e(t(...r))))}function ce(e){return({dispatch:t,getState:r})=>n=>s=>"function"==typeof s?s(t,r,e):n(s)}var he=ce(),fe=ce,pe=(((...e)=>{const t=te(...e)})(ee),"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?le:le.apply(null,arguments)});"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function de(e,t){function r(...r){if(t){let n=t(...r);if(!n)throw new Error(Re(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:r[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>function(e){return ae(e)&&"type"in e&&"string"==typeof e.type}(t)&&t.type===e,r}var me=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function ve(e){return l(e)?Q(e,(()=>{})):e}function ye(e,t,r){if(e.has(t)){let n=e.get(t);return r.update&&(n=r.update(n,t,e),e.set(t,n)),n}if(!r.insert)throw new Error(Re(10));const n=r.insert(t,e);return e.set(t,n),n}var ge=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:s=!0}=e??{};let i=new me;return t&&("boolean"==typeof t?i.push(he):i.push(fe(t.extraArgument))),i},be="RTK_autoBatch",we=e=>t=>{setTimeout(t,e)},ke="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:we(10),Se=e=>function(t){const{autoBatch:r=!0}=t??{};let n=new me(e);return r&&n.push(((e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,a=!1;const o=new Set,u="tick"===e.type?queueMicrotask:"raf"===e.type?ke:"callback"===e.type?e.queueNotification:we(e.timeout),l=()=>{a=!1,i&&(i=!1,o.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>s&&e()));return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{return s=!e?.meta?.[be],i=!s,i&&(a||(a=!0,u(l))),n.dispatch(e)}finally{s=!0}}})})("object"==typeof r?r:void 0)),n},xe=!0;function Ee(e){const t=ge(),{reducer:r,middleware:n,devTools:s=!0,preloadedState:i,enhancers:a}=e||{};let o,u;if("function"==typeof r)o=r;else{if(!ae(r))throw new Error(Re(1));o=ue(r)}if(!xe&&n&&"function"!=typeof n)throw new Error(Re(2));if("function"==typeof n){if(u=n(t),!xe&&!Array.isArray(u))throw new Error(Re(3))}else u=t();if(!xe&&u.some((e=>"function"!=typeof e)))throw new Error(Re(4));let l=le;s&&(l=pe({trace:!xe,..."object"==typeof s&&s}));const c=function(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(re(15))};const a={getState:s.getState,dispatch:(e,...t)=>i(e,...t)},o=e.map((e=>e(a)));return i=le(...o)(s.dispatch),{...s,dispatch:i}}}(...u),h=Se(c);if(!xe&&a&&"function"!=typeof a)throw new Error(Re(5));let f="function"==typeof a?a(h):h();if(!xe&&!Array.isArray(f))throw new Error(Re(6));if(!xe&&f.some((e=>"function"!=typeof e)))throw new Error(Re(7));!xe&&u.length&&f.includes(c);return oe(o,i,l(...f))}function Te(e){const t={},r=[];let n;const s={addCase(e,r){const n="string"==typeof e?e:e.type;if(!n)throw new Error(Re(28));if(n in t)throw new Error(Re(29));return t[n]=r,s},addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),s),addDefaultCase:e=>(n=e,s)};return e(s),[t,r,n]}var Ae=Symbol.for("rtk-slice-createasyncthunk");function Ce(e,t){return`${e}/${t}`}function _e(e,t,r,n){function s(s,...i){let a=r.call(e,s);return void 0===a&&n&&(a=e.getInitialState()),t(a,...i)}return s.unwrapped=t,s}var Ne=function({creators:e}={}){const t=e?.asyncThunk?.[Ae];return function(e){const{name:r,reducerPath:n=r}=e;if(!r)throw new Error(Re(11));const s=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(s),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const r="string"==typeof e?e:e.type;if(!r)throw new Error(Re(12));if(r in a.sliceCaseReducersByType)throw new Error(Re(13));return a.sliceCaseReducersByType[r]=t,o},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(a.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,o)};function c(){const[t={},r=[],n]="function"==typeof e.extraReducers?Te(e.extraReducers):[e.extraReducers],s={...t,...a.sliceCaseReducersByType};return function(e,t){let r,[n,s,i]=Te(t);if("function"==typeof e)r=()=>ve(e());else{const t=ve(e);r=()=>t}function a(e=r(),t){let a=[n[t.type],...s.filter((({matcher:e})=>e(t))).map((({reducer:e})=>e))];return 0===a.filter((e=>!!e)).length&&(a=[i]),a.reduce(((e,r)=>{if(r){if(u(e)){const n=r(e,t);return void 0===n?e:n}if(l(e))return Q(e,(e=>r(e,t)));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw new Error(Re(9))}return n}}return e}),e)}return a.getInitialState=r,a}(e.initialState,(e=>{for(let t in s)e.addCase(t,s[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)}))}i.forEach((n=>{const i=s[n],a={reducerName:n,type:Ce(r,n),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function({type:e,reducerName:t,createNotation:r},n,s){let i,a;if("reducer"in n){if(r&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(n))throw new Error(Re(17));i=n.reducer,a=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?de(e,a):de(e))}(a,i,o):function({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Re(18));const{payloadCreator:i,fulfilled:a,pending:o,rejected:u,settled:l,options:c}=r,h=s(e,i,c);n.exposeAction(t,h),a&&n.addCase(h.fulfilled,a);o&&n.addCase(h.pending,o);u&&n.addCase(h.rejected,u);l&&n.addMatcher(h.settled,l);n.exposeCaseReducer(t,{fulfilled:a||Me,pending:o||Me,rejected:u||Me,settled:l||Me})}(a,i,o,t)}));const h=e=>e,f=new WeakMap;let p;const d={name:r,reducerPath:n,reducer:(e,t)=>(p||(p=c()),p(e,t)),actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:()=>(p||(p=c()),p.getInitialState()),getSelectors(t=h){const r=ye(f,this,{insert:()=>new WeakMap});return ye(r,t,{insert:()=>{const r={};for(const[n,s]of Object.entries(e.selectors??{}))r[n]=_e(this,s,t,this!==d);return r}})},selectSlice(e){let t=e[this.reducerPath];return void 0===t&&this!==d&&(t=this.getInitialState()),t},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(e,{reducerPath:t,...r}={}){const n=t??this.reducerPath;return e.inject({reducerPath:n,reducer:this.reducer},r),{...this,reducerPath:n}}};return d}}();function Me(){}var{assign:Pe}=Object,Oe="listenerMiddleware";de(`${Oe}/add`),de(`${Oe}/removeAll`),de(`${Oe}/remove`);Symbol.for("rtk-state-proxy-original");function Re(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}},7:(e,t,r)=>{"use strict";r.d(t,{I0:()=>A,v9:()=>v,zt:()=>k});var n=r(294),s=r(103),i=n,a=Symbol.for("react-redux-context"),o="undefined"!=typeof globalThis?globalThis:{};function u(){if(!i.createContext)return{};const e=o[a]??(o[a]=new Map);let t=e.get(i.createContext);return t||(t=i.createContext(null),e.set(i.createContext,t)),t}var l=u(),c=()=>{throw new Error("uSES not initialized!")};function h(e=l){return function(){return i.useContext(e)}}var f=h(),p=c,d=(e,t)=>e===t;function m(e=l){const t=e===l?f:h(e);return function(e,r={}){const{equalityFn:n=d,devModeChecks:s={}}="function"==typeof r?{equalityFn:r}:r;const{store:a,subscription:o,getServerState:u,stabilityCheck:l,identityFunctionCheck:c}=t(),h=(i.useRef(!0),i.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,s.stabilityCheck])),f=p(o.addNestedSub,a.getState,u||a.getState,h,n);return i.useDebugValue(f),f}}var v=m();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function y(e){e()}var g={notify(){},get:()=>[]};function b(e,t){let r,n=g,s=0,i=!1;function a(){l.onStateChange&&l.onStateChange()}function o(){s++,r||(r=t?t.addNestedSub(a):e.subscribe(a),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){y((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0,s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){n&&null!==e&&(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}())}function u(){s--,r&&0===s&&(r(),r=void 0,n.clear(),n=g)}const l={addNestedSub:function(e){o();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),u())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,o())},tryUnsubscribe:function(){i&&(i=!1,u())},getListeners:()=>n};return l}var w=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?i.useLayoutEffect:i.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var k=function({store:e,context:t,children:r,serverState:n,stabilityCheck:s="once",identityFunctionCheck:a="once"}){const o=i.useMemo((()=>{const t=b(e);return{store:e,subscription:t,getServerState:n?()=>n:void 0,stabilityCheck:s,identityFunctionCheck:a}}),[e,n,s,a]),u=i.useMemo((()=>e.getState()),[e]);w((()=>{const{subscription:t}=o;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),u!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[o,u]);const c=t||l;return i.createElement(c.Provider,{value:o},r)};function S(e=l){const t=e===l?f:h(e);return function(){const{store:e}=t();return e}}var x=S();function E(e=l){const t=e===l?x:S(e);return function(){return t().dispatch}}var T,A=E();T=s.useSyncExternalStoreWithSelector,p=T,(e=>{e})(n.useSyncExternalStore)}}]);
//# sourceMappingURL=vendor.js.map