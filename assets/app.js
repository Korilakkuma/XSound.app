(()=>{"use strict";var e,a={53:(e,a,r)=>{var t=r(848),o=r(338),s=r(468),l=r(540),u=r(254);const m="/assets",d=88,n=88,i='a, button, input:not([type="checkbox"]):not([type="file"]), select, textarea, svg, [tabindex], [contentEditable]',c={audio:{echoCancellation:!0},video:!1},p=e=>{const{numberOfItems:a,children:r}=e;return(0,t.jsx)("div",{className:"Grid",style:{gridTemplateColumns:`repeat(${a}, ${1400/a}px)`},children:r})};var h=r(961);const X=e=>{const{className:a,onClose:r}=e,o=(0,l.useCallback)((e=>{r&&("Enter"!==e.nativeEvent.key&&13!==e.nativeEvent.keyCode||r(e))}),[r]);return r?(0,t.jsx)("div",{role:"button",tabIndex:0,className:a,onClick:r,onKeyDown:o}):(0,t.jsx)("div",{role:"presentation",className:a})},b=e=>{const{isShow:a,hasOverlay:r,title:o,asAlert:s,children:u,onClose:m}=e,d=(0,l.useId)(),n=(0,l.useMemo)((()=>`label-${d}`),[d]),c=(0,l.useMemo)((()=>`describe-${d}`),[d]);return(0,l.useEffect)((()=>{const e=document.getElementById("app");if(null===e)return;const r=e=>Array.from(document.querySelectorAll('[aria-hidden="true"]')).some((a=>a.contains(e)));a?Array.from(e.querySelectorAll(i)).filter((e=>!r(e)&&"-1"!==e.getAttribute("tabindex"))).forEach((e=>{e.setAttribute("tabindex","-1")})):Array.from(e.querySelectorAll(i)).filter((e=>!r(e)&&"-1"===e.getAttribute("tabindex"))).forEach((e=>{"switch"===e.getAttribute("role")?e.setAttribute("tabindex","0"):"checkbox"===e.getAttribute("type")||"file"===e.getAttribute("type")?e.setAttribute("tabindex","-1"):e.removeAttribute("tabindex")}))}),[a]),(0,t.jsxs)("div",{role:"dialog",tabIndex:-1,"aria-modal":a,"aria-labelledby":n,"aria-describedby":c,className:"Modal"+(a?" -show":" -hidden"),children:[r?(0,t.jsx)(X,{className:"Modal__overlay",onClose:m}):null,(0,t.jsxs)("div",{className:"Modal__inner",children:[m?(0,t.jsx)("button",{type:"button","aria-label":"Close modal",className:"Modal__closer",onClick:m,children:"X"}):null,(0,t.jsx)("h2",{id:n,className:"Modal__title",children:o}),(0,t.jsx)("div",{role:s?"alert":void 0,id:c,className:"Modal__contents",children:u})]})]})},v=e=>{const{children:a,...r}=e;return(0,h.createPortal)((0,t.jsx)(b,{...r,children:a}),document.body)},x=({children:e})=>(0,t.jsx)("div",{className:"VerticalBox",children:e});var g=r(816);const C=(0,g.Z0)({name:"slice",initialState:{activeMIDIKeyboardIndexes:[],analyserState:!1,currentSoundSource:"oscillator",downBassKeyboardIndexes:[],downMelodyKeyboardIndexes:[],mmlState:!1,oscillatorStates:[!0,!1],upBassKeyboardIndexes:[],upMelodyKeyboardIndexes:[],mastervolume:1},reducers:{activateMIDIKeyboards:(e,a)=>{e.activeMIDIKeyboardIndexes=[...e.activeMIDIKeyboardIndexes,...a.payload.filter((a=>!e.activeMIDIKeyboardIndexes.includes(a)))]},deactivateMIDIKeyboards:(e,a)=>{const r=e.activeMIDIKeyboardIndexes.slice(0),t=r.indexOf(a.payload);r.splice(t,1),e.activeMIDIKeyboardIndexes=[...r]},changeAnalyserState:(e,a)=>{e.analyserState=a.payload},changeCurrentSoundSource:(e,a)=>{e.currentSoundSource=a.payload},changeMMLState:(e,a)=>{e.mmlState=a.payload},changeOscillatorStates:(e,a)=>{e.oscillatorStates=a.payload},downBassKeyboards:(e,a)=>{e.downBassKeyboardIndexes=a.payload},downMelodyKeyboards:(e,a)=>{e.downMelodyKeyboardIndexes=a.payload},upBassKeyboards:(e,a)=>{e.upBassKeyboardIndexes=a.payload},upMelodyKeyboards:(e,a)=>{e.upMelodyKeyboardIndexes=a.payload},setMasterVolume:(e,a)=>{e.mastervolume=a.payload}}}),{activateMIDIKeyboards:k,deactivateMIDIKeyboards:f,changeAnalyserState:E,changeCurrentSoundSource:R,changeMMLState:A,changeOscillatorStates:y,downBassKeyboards:N,downMelodyKeyboards:T,upBassKeyboards:j,upMelodyKeyboards:_,setMasterVolume:I}=C.actions,O=C.reducer,F=e=>(0,t.jsx)("fieldset",{className:"Fieldset",children:e.children}),w=e=>(0,t.jsx)("div",{className:"Legend",children:e.children}),S=e=>{const{label:a,checked:r,labelAsText:o,controls:s,tabIndex:u=0,onChange:m}=e,d=(0,l.useRef)(null),n=(0,l.useId)(),i=(0,l.useCallback)((e=>{const a=e.nativeEvent;if("Space"===a.code||13===a.keyCode){e.preventDefault();const a=d.current;if(null===a)return;a.click()}}),[]);return(0,t.jsxs)("span",{role:"switch","aria-checked":r,tabIndex:u,className:`Switch${r?" -checked":""}${o?" -text":""}`,onKeyDown:i,children:[s?(0,t.jsx)("input",{type:"checkbox",ref:d,id:n,checked:r,"aria-controls":s,tabIndex:-1,onChange:m}):(0,t.jsx)("input",{type:"checkbox",ref:d,id:n,checked:r,tabIndex:-1,onChange:m}),(0,t.jsxs)("label",{htmlFor:n,children:[a,(0,t.jsx)("span",{role:"presentation"})]})]})},U=e=>{const{label:a,values:r,texts:o,disabled:s,defaultValue:u,tabIndex:m,onChange:d}=e,n=(0,l.useId)();return(0,t.jsxs)("div",{className:"Select",children:[(0,t.jsx)("label",{htmlFor:n,children:a}),(0,t.jsx)("select",{id:n,disabled:s,defaultValue:u,tabIndex:m,onChange:d,children:r.map(((e,a)=>(0,t.jsx)("option",{value:e,children:o[a]},e)))})]})},Q=e=>{const{label:a,value:r,min:o,max:s,step:u,tabIndex:m,onChange:d}=e,n=(0,l.useMemo)((()=>(r-o)/(s-o)*100),[r,o,s]);return(0,t.jsx)("div",{className:"Slider",children:(0,t.jsx)("input",{type:"range","aria-label":a,value:r,min:o,max:s,step:u,tabIndex:m,onChange:d,style:{backgroundImage:`linear-gradient(90deg, #d7d7d7 ${n}%, #333 ${n}%`}})})},Y=e=>{const{value:a,min:r,max:o,step:s,id:l,tabIndex:u,onChange:m}=e;return(0,t.jsx)("input",{type:"number",className:"Spinner",id:l,value:a,min:r,max:o,step:s,tabIndex:u,onChange:m})},z=e=>{const{label:a,autoupdate:r,min:o,max:s,step:u,defaultValue:m,tabIndex:d,onChange:n}=e,[i,c]=(0,l.useState)(m),p=(0,l.useCallback)((e=>{n(e),c(e.currentTarget.valueAsNumber)}),[n]),h=(0,l.useId)();return(0,l.useEffect)((()=>{r&&c(m)}),[r,m]),(0,t.jsxs)("dl",{className:"ParameterController",children:[(0,t.jsxs)("dt",{children:[(0,t.jsx)("label",{htmlFor:h,children:a}),(0,t.jsx)(Y,{id:h,value:i,min:o,max:s,step:u,tabIndex:d,onChange:p})]}),(0,t.jsx)("dd",{children:(0,t.jsx)(Q,{label:a,value:i,min:o,max:s,step:u,tabIndex:d,onChange:p})})]})},M=()=>{const[e,a]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),[m,d]=(0,l.useState)("marshall"),n=(0,s.wA)(),i=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;if(r){(0,u.X)("mixer").module("preamp").activate(),(0,u.X)("oneshot").module("preamp").activate(),(0,u.X)("audio").module("preamp").activate(),(0,u.X)("stream").module("preamp").activate(),(0,u.X)("noise").module("preamp").activate();const e={mastervolume:.2};(0,u.X)("mixer").param(e),(0,u.X)("oneshot").param(e),(0,u.X)("audio").param(e),(0,u.X)("stream").param(e),(0,u.X)("noise").param(e),n(I(.2))}else{(0,u.X)("mixer").module("preamp").deactivate(),(0,u.X)("oneshot").module("preamp").deactivate(),(0,u.X)("audio").module("preamp").deactivate(),(0,u.X)("stream").module("preamp").deactivate(),(0,u.X)("noise").module("preamp").deactivate();const e={mastervolume:1};(0,u.X)("mixer").param(e),(0,u.X)("oneshot").param(e),(0,u.X)("audio").param(e),(0,u.X)("stream").param(e),(0,u.X)("noise").param(e),n(I(1))}a(r),o(r)}),[n]),c=(0,l.useCallback)((a=>{const t=a.currentTarget.value;switch(t){case"marshall":{const a={state:e,type:"marshall",preamp:{state:!0,level:0,samples:8192,pre:{state:!0,gain:.5,lead:.5},post:{state:!0},cabinet:{state:r}}};(0,u.X)("mixer").module("preamp").param(a),(0,u.X)("oneshot").module("preamp").param(a),(0,u.X)("audio").module("preamp").param(a),(0,u.X)("stream").module("preamp").param(a),(0,u.X)("noise").module("preamp").param(a),d(t);break}case"mesa/boogie":{const a={state:e,type:"mesa/boogie",preamp:{state:!0,pre:{state:!0,gain:.5,level:0,bass:0,middle:0,treble:0,samples:8192},post:{state:!0,fc100:0,fc360:0,fc720:0,fc1600:0,fc4800:0},cabinet:{state:r}}};(0,u.X)("mixer").module("preamp").param(a),(0,u.X)("oneshot").module("preamp").param(a),(0,u.X)("audio").module("preamp").param(a),(0,u.X)("stream").module("preamp").param(a),(0,u.X)("noise").module("preamp").param(a),d(t);break}case"fender":{const a={state:e,type:"fender",preamp:{state:!0,pre:{state:!0,gain:.5,level:0,bass:0,middle:0,treble:0,samples:8192},post:{state:!0,inch:12,tilt:!0},cabinet:{state:r}}};(0,u.X)("mixer").module("preamp").param(a),(0,u.X)("oneshot").module("preamp").param(a),(0,u.X)("audio").module("preamp").param(a),(0,u.X)("stream").module("preamp").param(a),(0,u.X)("noise").module("preamp").param(a),d(t);break}}}),[e,r]),p=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;switch(m){case"marshall":{const e={preamp:{level:a}};(0,u.X)("mixer").module("preamp").param(e),(0,u.X)("oneshot").module("preamp").param(e),(0,u.X)("audio").module("preamp").param(e),(0,u.X)("stream").module("preamp").param(e),(0,u.X)("noise").module("preamp").param(e);break}case"mesa/boogie":case"fender":{const e={preamp:{pre:{level:a}}};(0,u.X)("mixer").module("preamp").param(e),(0,u.X)("oneshot").module("preamp").param(e),(0,u.X)("audio").module("preamp").param(e),(0,u.X)("stream").module("preamp").param(e),(0,u.X)("noise").module("preamp").param(e);break}}}),[m]),h=(0,l.useCallback)((e=>{const a={preamp:{pre:{gain:e.currentTarget.valueAsNumber}}};(0,u.X)("mixer").module("preamp").param(a),(0,u.X)("oneshot").module("preamp").param(a),(0,u.X)("audio").module("preamp").param(a),(0,u.X)("stream").module("preamp").param(a),(0,u.X)("noise").module("preamp").param(a)}),[]),X=(0,l.useCallback)((e=>{const a={preamp:{pre:{lead:e.currentTarget.valueAsNumber}}};(0,u.X)("mixer").module("preamp").param(a),(0,u.X)("oneshot").module("preamp").param(a),(0,u.X)("audio").module("preamp").param(a),(0,u.X)("stream").module("preamp").param(a),(0,u.X)("noise").module("preamp").param(a)}),[]),b=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;switch(m){case"marshall":{const e={preamp:{post:{bass:a}}};(0,u.X)("mixer").module("preamp").param(e),(0,u.X)("oneshot").module("preamp").param(e),(0,u.X)("audio").module("preamp").param(e),(0,u.X)("stream").module("preamp").param(e),(0,u.X)("noise").module("preamp").param(e);break}case"mesa/boogie":case"fender":{const e={preamp:{pre:{bass:a}}};(0,u.X)("mixer").module("preamp").param(e),(0,u.X)("oneshot").module("preamp").param(e),(0,u.X)("audio").module("preamp").param(e),(0,u.X)("stream").module("preamp").param(e),(0,u.X)("noise").module("preamp").param(e);break}}}),[m]),v=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;switch(m){case"marshall":{const e={preamp:{post:{middle:a}}};(0,u.X)("mixer").module("preamp").param(e),(0,u.X)("oneshot").module("preamp").param(e),(0,u.X)("audio").module("preamp").param(e),(0,u.X)("stream").module("preamp").param(e),(0,u.X)("noise").module("preamp").param(e);break}case"mesa/boogie":case"fender":{const e={preamp:{pre:{middle:a}}};(0,u.X)("mixer").module("preamp").param(e),(0,u.X)("oneshot").module("preamp").param(e),(0,u.X)("audio").module("preamp").param(e),(0,u.X)("stream").module("preamp").param(e),(0,u.X)("noise").module("preamp").param(e);break}}}),[m]),x=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;switch(m){case"marshall":{const e={preamp:{post:{treble:a}}};(0,u.X)("mixer").module("preamp").param(e),(0,u.X)("oneshot").module("preamp").param(e),(0,u.X)("audio").module("preamp").param(e),(0,u.X)("stream").module("preamp").param(e),(0,u.X)("noise").module("preamp").param(e);break}case"mesa/boogie":case"fender":{const e={preamp:{pre:{treble:a}}};(0,u.X)("mixer").module("preamp").param(e),(0,u.X)("oneshot").module("preamp").param(e),(0,u.X)("audio").module("preamp").param(e),(0,u.X)("stream").module("preamp").param(e),(0,u.X)("noise").module("preamp").param(e);break}}}),[m]),g=(0,l.useCallback)((e=>{if("mesa/boogie"!==m)return;const a={preamp:{post:{fc100:e.currentTarget.valueAsNumber}}};(0,u.X)("mixer").module("preamp").param(a),(0,u.X)("oneshot").module("preamp").param(a),(0,u.X)("audio").module("preamp").param(a),(0,u.X)("stream").module("preamp").param(a),(0,u.X)("noise").module("preamp").param(a)}),[m]),C=(0,l.useCallback)((e=>{if("mesa/boogie"!==m)return;const a={preamp:{post:{fc360:e.currentTarget.valueAsNumber}}};(0,u.X)("mixer").module("preamp").param(a),(0,u.X)("oneshot").module("preamp").param(a),(0,u.X)("audio").module("preamp").param(a),(0,u.X)("stream").module("preamp").param(a),(0,u.X)("noise").module("preamp").param(a)}),[m]),k=(0,l.useCallback)((e=>{if("mesa/boogie"!==m)return;const a={preamp:{post:{fc720:e.currentTarget.valueAsNumber}}};(0,u.X)("mixer").module("preamp").param(a),(0,u.X)("oneshot").module("preamp").param(a),(0,u.X)("audio").module("preamp").param(a),(0,u.X)("stream").module("preamp").param(a),(0,u.X)("noise").module("preamp").param(a)}),[m]),f=(0,l.useCallback)((e=>{if("mesa/boogie"!==m)return;const a={preamp:{post:{fc1600:e.currentTarget.valueAsNumber}}};(0,u.X)("mixer").module("preamp").param(a),(0,u.X)("oneshot").module("preamp").param(a),(0,u.X)("audio").module("preamp").param(a),(0,u.X)("stream").module("preamp").param(a),(0,u.X)("noise").module("preamp").param(a)}),[m]),E=(0,l.useCallback)((e=>{if("mesa/boogie"!==m)return;const a={preamp:{post:{fc4800:e.currentTarget.valueAsNumber}}};(0,u.X)("mixer").module("preamp").param(a),(0,u.X)("oneshot").module("preamp").param(a),(0,u.X)("audio").module("preamp").param(a),(0,u.X)("stream").module("preamp").param(a),(0,u.X)("noise").module("preamp").param(a)}),[m]),R=(0,l.useCallback)((e=>{if("fender"!==m)return;const a=Number(e.currentTarget.value);switch(a){case-1:case 10:case 12:case 15:{const e={preamp:{post:{inch:a}}};(0,u.X)("mixer").module("preamp").param(e),(0,u.X)("oneshot").module("preamp").param(e),(0,u.X)("audio").module("preamp").param(e),(0,u.X)("stream").module("preamp").param(e),(0,u.X)("noise").module("preamp").param(e);break}}}),[m]),A=(0,l.useCallback)((e=>{const a=e.currentTarget.checked,r={preamp:{cabinet:{state:a}}};(0,u.X)("mixer").module("preamp").param(r),(0,u.X)("oneshot").module("preamp").param(r),(0,u.X)("audio").module("preamp").param(r),(0,u.X)("stream").module("preamp").param(r),(0,u.X)("noise").module("preamp").param(r),o(a)}),[]);return(0,t.jsx)("div",{className:"AmpSimulatorFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Amp Simulator",checked:e,labelAsText:!1,onChange:i})}),(0,t.jsx)(U,{label:"Select Preamplifier",values:["marshall","mesa/boogie","fender"],texts:["Marshall","Mesa/Boogie","Fender"],disabled:!1,onChange:c}),(0,t.jsx)(z,{label:"Level",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:p}),(0,t.jsx)(z,{label:"Gain",autoupdate:!1,defaultValue:.5,min:0,max:1,step:.05,onChange:h}),"marshall"===m?(0,t.jsx)(z,{label:"Lead Gain",autoupdate:!1,defaultValue:.5,min:0,max:1,step:.05,onChange:X}):null,(0,t.jsx)(z,{label:"Bass",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:b}),(0,t.jsx)(z,{label:"Middle",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:v}),(0,t.jsx)(z,{label:"Treble",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:x}),"mesa/boogie"===m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z,{label:"100 Hz",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:g}),(0,t.jsx)(z,{label:"360 Hz",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:C}),(0,t.jsx)(z,{label:"720 Hz",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:k}),(0,t.jsx)(z,{label:"1600 Hz",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:f}),(0,t.jsx)(z,{label:"4800 Hz",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:E})]}):null,"fender"===m?(0,t.jsx)(U,{label:"Select Speaker size",values:["-1","10","12","15"],texts:["Not used","10 inch","12 inch","15 inch"],defaultValue:"12",disabled:!1,onChange:R}):null,(0,t.jsx)(S,{label:"Cabinet",checked:r,labelAsText:!0,onChange:A})]})})},$=e=>{const{width:a,height:r,hasHoverStyle:o,setElementCallback:s}=e,u=(0,l.useRef)(null);return(0,l.useEffect)((()=>{null!==u.current&&s(u.current)}),[u,s]),(0,t.jsx)("canvas",{className:"Canvas"+(o?" -hover":""),ref:u,width:a,height:r})},D=e=>{const{width:a,height:r,hasHoverStyle:o,setElementCallback:s}=e,u=(0,l.useRef)(null);return(0,l.useEffect)((()=>{null!==u.current&&s(u.current)}),[u,s]),(0,t.jsx)("svg",{className:"SVG"+(o?" -hover":""),ref:u,width:a,height:r})};function V(e){return e.toString().padStart(2,"0")}function q(e){const{minutes:a,seconds:r}=e;return`${V(a)} : ${V(r)}`}function L(e,a){const r=new Date;return`${e}${r.getFullYear()}${V(r.getMonth()+1)}${V(r.getDate())}${V(r.getHours())}${V(r.getMinutes())}${V(r.getSeconds())}.${a}`}function B(){return JSON.parse(window.sessionStorage.getItem("xsound.app-config")||"{}")}const K=({active:e,type:a})=>{const[r,o]=(0,l.useState)("00 : 00 - 00 : 00"),[s,m]=(0,l.useState)(!1),[d,n]=(0,l.useState)("left"),i=(0,l.useMemo)((()=>({currentTime:{color:"rgba(255, 255, 255, 0.1)"},styles:{shape:"rect",grid:"rgba(255, 255, 255, 0.2)",gradients:[{offset:0,color:"rgba(0, 128, 255, 1.0)"},{offset:1,color:"rgba(0,   0, 255, 1.0)"}],font:{family:"Arial",size:"12px",style:"normal",weight:"normal"},width:.5,right:15}})),[]),c=(0,l.useCallback)((()=>{n("right"===d?"left":"right")}),[d]),p=(0,l.useCallback)(((e,a,r,t,s)=>{if("mousedown"===e.type||"touchstart"===e.type)return void m(!0);const l=s?r:a;if("mousemove"===e.type||"touchmove"===e.type){const e=u.X.convertTime(a),t=u.X.convertTime(r);return o(`${q(e)} - ${q(t)}`),void(l>=0&&l<=(0,u.X)("audio").param("duration")&&(0,u.X)("audio").param({currentTime:l}))}if("mouseup"===e.type||"touchend"===e.type){switch(t){case"update":l>=0&&l<=(0,u.X)("audio").param("duration")&&((0,u.X)("audio").module("analyser").domain("timeoverview",0).update(l),(0,u.X)("audio").module("analyser").domain("timeoverview",1).update(l),(0,u.X)("audio").param({currentTime:l}));break;case"sprite":(0,u.X)("audio").stop().start(a,r)}m(!1)}}),[]),h=(0,l.useCallback)((e=>{(0,u.X)("audio").module("analyser").domain("timeoverview",0).setup(e).param(i).drag(p).activate()}),[i,p]),X=(0,l.useCallback)((e=>{(0,u.X)("audio").module("analyser").domain("timeoverview",1).setup(e).param(i).drag(p).activate()}),[i,p]);return(0,t.jsxs)("dl",{className:"TimeOverviewer",children:[(0,t.jsxs)("dt",{children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("button",{type:"button",className:`TimeOverviewer__channelSelector -${d}`,"aria-label":"Select Channel",tabIndex:e?0:-1,onClick:c}),(0,t.jsx)("span",{children:"Time Overview"}),(0,t.jsx)("span",{children:d}),(0,t.jsx)("span",{children:"channel"})]}),s?(0,t.jsx)("span",{className:"Analyser__dragTime",children:r}):null]}),(0,t.jsxs)("dd",{hidden:"right"===d,children:["bitmap"===a&&(0,t.jsx)($,{width:1200,height:120,hasHoverStyle:!0,setElementCallback:X}),"vector"===a&&(0,t.jsx)(D,{width:1200,height:120,hasHoverStyle:!0,setElementCallback:X})]}),(0,t.jsxs)("dd",{hidden:"left"===d,children:["bitmap"===a&&(0,t.jsx)($,{width:1200,height:120,hasHoverStyle:!0,setElementCallback:h}),"vector"===a&&(0,t.jsx)(D,{width:1200,height:120,hasHoverStyle:!0,setElementCallback:h})]})]})},G=({active:e,type:a})=>{const[r,o]=(0,l.useState)("left"),s=(0,l.useMemo)((()=>({interval:-1,type:"uint",styles:{shape:"line",grid:"rgba(255, 255, 255, 0.2)",font:{family:"Arial",size:"12px",style:"normal",weight:"normal"},width:1.5,right:15}})),[]),m=(0,l.useCallback)((()=>{o("right"===r?"left":"right")}),[r]),d=(0,l.useCallback)((e=>{(0,u.X)("mixer").module("analyser").domain("time",0).setup(e).param(s).activate(),(0,u.X)("oneshot").module("analyser").domain("time",0).setup(e).param(s).activate(),(0,u.X)("audio").module("analyser").domain("time",0).setup(e).param(s).activate(),(0,u.X)("stream").module("analyser").domain("time",0).setup(e).param(s).activate(),(0,u.X)("noise").module("analyser").domain("time",0).setup(e).param(s).activate()}),[s]),n=(0,l.useCallback)((e=>{(0,u.X)("mixer").module("analyser").domain("time",1).setup(e).param(s).activate(),(0,u.X)("oneshot").module("analyser").domain("time",1).setup(e).param(s).activate(),(0,u.X)("audio").module("analyser").domain("time",1).setup(e).param(s).activate(),(0,u.X)("stream").module("analyser").domain("time",1).setup(e).param(s).activate(),(0,u.X)("noise").module("analyser").domain("time",1).setup(e).param(s).activate()}),[s]);return(0,t.jsxs)("dl",{className:"TimeAnalyser",children:[(0,t.jsx)("dt",{children:(0,t.jsxs)("label",{children:[(0,t.jsx)("button",{type:"button",className:`TimeAnalyser__channelSelector -${r}`,"aria-label":"Select Channel",tabIndex:e?0:-1,onClick:m}),(0,t.jsx)("span",{children:"Time Domain"}),(0,t.jsx)("span",{children:r}),(0,t.jsx)("span",{children:"channel"})]})}),(0,t.jsxs)("dd",{hidden:"right"===r,children:["bitmap"===a&&(0,t.jsx)($,{width:420,height:120,hasHoverStyle:!1,setElementCallback:n}),"vector"===a&&(0,t.jsx)(D,{width:420,height:120,hasHoverStyle:!1,setElementCallback:n})]}),(0,t.jsxs)("dd",{hidden:"left"===r,children:["bitmap"===a&&(0,t.jsx)($,{width:420,height:120,hasHoverStyle:!1,setElementCallback:d}),"vector"===a&&(0,t.jsx)(D,{width:420,height:120,hasHoverStyle:!1,setElementCallback:d})]})]})},P=({active:e,type:a})=>{const[r,o]=(0,l.useState)("left"),s=(0,l.useMemo)((()=>({interval:-1,type:"float",scale:"logarithmic",styles:{shape:"line",grid:"rgba(255, 255, 255, 0.2)",font:{family:"Arial",size:"12px",style:"normal",weight:"normal"},width:1,right:15,left:40}})),[]),m=(0,l.useCallback)((()=>{o("right"===r?"left":"right")}),[r]),d=(0,l.useCallback)((e=>{(0,u.X)("mixer").module("analyser").domain("fft",0).setup(e).param(s).activate(),(0,u.X)("oneshot").module("analyser").domain("fft",0).setup(e).param(s).activate(),(0,u.X)("audio").module("analyser").domain("fft",0).setup(e).param(s).activate(),(0,u.X)("stream").module("analyser").domain("fft",0).setup(e).param(s).activate(),(0,u.X)("noise").module("analyser").domain("fft",0).setup(e).param(s).activate()}),[s]),n=(0,l.useCallback)((e=>{(0,u.X)("mixer").module("analyser").domain("fft",1).setup(e).param(s).activate(),(0,u.X)("oneshot").module("analyser").domain("fft",1).setup(e).param(s).activate(),(0,u.X)("audio").module("analyser").domain("fft",1).setup(e).param(s).activate(),(0,u.X)("stream").module("analyser").domain("fft",1).setup(e).param(s).activate(),(0,u.X)("noise").module("analyser").domain("fft",1).setup(e).param(s).activate()}),[s]);return(0,t.jsxs)("dl",{className:"SpectrumAnalyser",children:[(0,t.jsx)("dt",{children:(0,t.jsxs)("label",{children:[(0,t.jsx)("button",{type:"button",className:`SpectrumAnalyser__channelSelector -${r}`,"aria-label":"Select Channel",tabIndex:e?0:-1,onClick:m}),(0,t.jsx)("span",{children:"Frequency Domain"}),(0,t.jsx)("span",{children:r}),(0,t.jsx)("span",{children:"channel"})]})}),(0,t.jsxs)("dd",{hidden:"right"===r,children:["bitmap"===a&&(0,t.jsx)($,{width:420,height:120,hasHoverStyle:!1,setElementCallback:n}),"vector"===a&&(0,t.jsx)(D,{width:420,height:120,hasHoverStyle:!1,setElementCallback:n})]}),(0,t.jsxs)("dd",{hidden:"left"===r,children:["bitmap"===a&&(0,t.jsx)($,{width:420,height:120,hasHoverStyle:!1,setElementCallback:d}),"vector"===a&&(0,t.jsx)(D,{width:420,height:120,hasHoverStyle:!1,setElementCallback:d})]})]})},H=()=>{const[e,a]=(0,l.useState)(!1),r=(0,s.d4)((e=>e.analyserState)),o=(0,l.useMemo)((()=>B()),[]),m=(0,l.useMemo)((()=>o.analyser?.visualizer||"vector"),[o]),d=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;if(r)(0,u.X)("audio").module("analyser").domain("timeoverview",0).param({mode:"sprite"}),(0,u.X)("audio").module("analyser").domain("timeoverview",1).param({mode:"sprite"}),(0,u.X)("audio").param({loop:!0});else{const e=(0,u.X)("audio").param("currentTime"),a=(0,u.X)("audio").param("duration");(0,u.X)("audio").module("analyser").domain("timeoverview",0).param({mode:"update"}),(0,u.X)("audio").module("analyser").domain("timeoverview",1).param({mode:"update"}),(0,u.X)("audio").param({loop:!1}),(0,u.X)("audio").stop().start(e,a)}a(r)}),[]),n=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("analyser").domain("time").param({interval:a>0?a:-1}),(0,u.X)("mixer").module("analyser").domain("fft").param({interval:a>0?a:-1}),(0,u.X)("oneshot").module("analyser").domain("time").param({interval:a>0?a:-1}),(0,u.X)("oneshot").module("analyser").domain("fft").param({interval:a>0?a:-1}),(0,u.X)("audio").module("analyser").domain("time").param({interval:a>0?a:-1}),(0,u.X)("audio").module("analyser").domain("fft").param({interval:a>0?a:-1}),(0,u.X)("stream").module("analyser").domain("time").param({interval:a>0?a:-1}),(0,u.X)("stream").module("analyser").domain("fft").param({interval:a>0?a:-1}),(0,u.X)("noise").module("analyser").domain("time").param({interval:a>0?a:-1}),(0,u.X)("noise").module("analyser").domain("fft").param({interval:a>0?a:-1})}),[]),i=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("analyser").param({smoothingTimeConstant:a}),(0,u.X)("oneshot").module("analyser").param({smoothingTimeConstant:a}),(0,u.X)("audio").module("analyser").param({smoothingTimeConstant:a}),(0,u.X)("stream").module("analyser").param({smoothingTimeConstant:a}),(0,u.X)("noise").module("analyser").param({smoothingTimeConstant:a})}),[]);return(0,l.useEffect)((()=>{const e={fftSize:2048,minDecibels:-60,maxDecibels:0,smoothingTimeConstant:.8};(0,u.X)("mixer").module("analyser").param(e),(0,u.X)("oneshot").module("analyser").param(e),(0,u.X)("audio").module("analyser").param(e),(0,u.X)("stream").module("analyser").param(e),(0,u.X)("noise").module("analyser").param(e),(0,u.X)("mixer").module("analyser").domain("time").activate(),(0,u.X)("mixer").module("analyser").domain("fft").activate(),(0,u.X)("oneshot").module("analyser").domain("time").activate(),(0,u.X)("oneshot").module("analyser").domain("fft").activate(),(0,u.X)("audio").module("analyser").domain("time").activate(),(0,u.X)("audio").module("analyser").domain("fft").activate(),(0,u.X)("stream").module("analyser").domain("time").activate(),(0,u.X)("stream").module("analyser").domain("fft").activate(),(0,u.X)("noise").module("analyser").domain("time").activate(),(0,u.X)("noise").module("analyser").domain("fft").activate()}),[]),(0,t.jsxs)("div",{id:"analyser-fieldset","aria-hidden":!r,className:"Analyser"+(r?" -active":""),children:[(0,t.jsxs)("div",{className:"Analyser__viewer",children:[(0,t.jsx)(K,{active:r,type:m}),(0,t.jsx)(G,{active:r,type:m}),(0,t.jsx)(P,{active:r,type:m})]}),(0,t.jsxs)("div",{className:"Analyser__controllers",children:[(0,t.jsx)(S,{label:"Audio Sprite",checked:e,labelAsText:!0,tabIndex:r?0:-1,onChange:d}),(0,t.jsxs)("div",{className:"Analyser__updater",children:[(0,t.jsx)(z,{label:"Interval",autoupdate:!1,defaultValue:0,min:0,max:1e3,step:10,tabIndex:r?0:-1,onChange:n}),(0,t.jsx)(z,{label:"Smoothing",autoupdate:!1,defaultValue:.8,min:0,max:1,step:.05,tabIndex:r?0:-1,onChange:i})]})]})]})},W=e=>{const{active:a,label:r,width:o,height:s,image:l,size:u,onClick:m}=e;return(0,t.jsx)("button",{type:"button","aria-label":r,style:{width:`${o}px`,height:`${s}px`,backgroundImage:`url("${l}")`,backgroundSize:u},className:"Button"+(a?" -active":""),onClick:m})},J=e=>{const{accept:a,disabled:r,placeholder:o,filename:s,drag:u=!1,drop:m=!1,tabIndex:d,onChange:n}=e,i=(0,l.useRef)(null),c=(0,l.useId)(),p=(0,l.useCallback)((()=>{const e=i.current;null!==e&&(e.value="",e.click())}),[]);return(0,t.jsxs)("label",{className:`FileUploader${u?" -drag":""}${m?" -drop":""}`,children:[(0,t.jsx)("button",{type:"button","aria-controls":c,disabled:r,tabIndex:d,onClick:p,children:s||o}),(0,t.jsx)("input",{type:"file",ref:i,id:c,accept:a,disabled:r,tabIndex:-1,onChange:n})]})},Z=e=>{const{rate:a,label:r}=e,o="number"==typeof a,s="number"==typeof a?{width:`${a<=100?a:100}%`}:{},u=(0,l.useId)(),m=(0,l.useMemo)((()=>a?a>100?100:a:0),[a]);return(0,t.jsxs)("div",{className:"ProgressBar",children:[r?(0,t.jsx)("p",{id:u,className:"ProgressBar__label",children:r}):null,(0,t.jsxs)("div",{className:"ProgressBar__wrapper",children:[(0,t.jsx)("div",{role:"presentation",className:"ProgressBar__mask"}),o?(0,t.jsxs)("progress",{value:m,max:100,className:"ProgressBar__bar",children:[m,"%"]}):(0,t.jsx)("div",{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,style:s,className:"ProgressBar__bar -auto"})]})]})},ee=()=>{const[e,a]=(0,l.useState)(""),[r,o]=(0,l.useState)(!0),[s,m]=(0,l.useState)(0),[d,n]=(0,l.useState)(0),[i,c]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[X,b]=(0,l.useState)(0),[x,g]=(0,l.useState)(0),[C,k]=(0,l.useState)(""),[f,E]=(0,l.useState)(!1),[R,A]=(0,l.useState)(!1),[y,N]=(0,l.useState)(!1),[T,j]=(0,l.useState)(!1),_=(0,l.useMemo)((()=>B()),[]),I=(0,l.useMemo)((()=>_.audio?.playbackRate),[_]),O=(0,l.useMemo)((()=>_.audio?.vocalcanceler??{algorithm:"spectrum"}),[_]),S=(0,l.useCallback)((()=>{(0,u.X)("audio").stop(),(0,u.X)("audio").param({currentTime:0}),o(!0),m(0),h(!0),b(0),g(0),N(!1),j(!0)}),[]),U=(0,l.useCallback)((e=>{const r=u.X.file({event:e.nativeEvent,type:"arraybuffer",successCallback:(a,r)=>{e.nativeEvent.target.value="",S(),(0,u.X)("audio").ready(r)},errorCallback:(e,a)=>{k(a),E(!0)},progressCallback:e=>{const{lengthComputable:a,loaded:r,total:t}=e;h(a),b(r),g(a&&t>0?Math.trunc(r/t*100):0),N(!0)}});null===r?(k("Please upload file"),E(!0)):"string"!=typeof r&&a(r.name)}),[S]),Q=(0,l.useCallback)((e=>{e.preventDefault(),c(!0)}),[]),Y=(0,l.useCallback)((e=>{e.preventDefault(),c(!0)}),[]),M=(0,l.useCallback)((e=>{e.preventDefault(),c(!1)}),[]),$=(0,l.useCallback)((e=>{const r=u.X.drop({event:e.nativeEvent,type:"arraybuffer",successCallback:(e,a)=>{S(),(0,u.X)("audio").ready(a)},errorCallback:(e,a)=>{k(a),E(!0)},progressCallback:e=>{const{lengthComputable:a,loaded:r,total:t}=e;h(a),b(r),g(a&&t>0?Math.trunc(r/t*100):0),N(!0)}});null===r?(k("Please drop file"),E(!0)):"string"!=typeof r&&a(r.name),c(!1)}),[S]),D=(0,l.useCallback)((()=>{(0,u.X)("audio").has()&&((0,u.X)("audio").paused()?((0,u.X)("audio").start((0,u.X)("audio").param("currentTime")),(0,u.X)("audio").module("recorder").start(),o(!1)):((0,u.X)("audio").stop(),o(!0)))}),[]),V=(0,l.useCallback)((e=>{(0,u.X)("audio").param({currentTime:e.currentTarget.valueAsNumber}),m((0,u.X)("audio").param("currentTime"))}),[]),L=(0,l.useCallback)((e=>{(0,u.X)("audio").module("pitchshifter").param({pitch:e.currentTarget.valueAsNumber}),(0,u.X)("stream").module("pitchshifter").param({pitch:e.currentTarget.valueAsNumber})}),[]),K=(0,l.useCallback)((e=>{(0,u.X)("audio").param({speed:e.currentTarget.valueAsNumber})}),[]),G=(0,l.useCallback)((e=>{(0,u.X)("audio").module("pitchshifter").param({dry:e.currentTarget.valueAsNumber})}),[]),P=(0,l.useCallback)((e=>{(0,u.X)("audio").param({playbackRate:e.currentTarget.valueAsNumber})}),[]),H=(0,l.useCallback)((e=>{(0,u.X)("audio").module("vocalcanceler").param({depth:e.currentTarget.valueAsNumber})}),[]),ee=(0,l.useCallback)((()=>{E(!1),A(!1)}),[]),ae=(0,l.useCallback)((e=>{(0,u.X)("audio").param({duration:e.duration}),n(e.duration),j(!1)}),[]),re=(0,l.useCallback)(((e,a)=>{m(a)}),[]),te=(0,l.useCallback)((()=>{o(!0),m(0),(0,u.X)("audio").module("analyser").domain("timeoverview",0).update(0),(0,u.X)("audio").module("analyser").domain("timeoverview",1).update(0)}),[]),oe=(0,l.useCallback)((e=>{k(e.message),A(!0)}),[]),se=(0,l.useMemo)((()=>u.X.convertTime(s)),[s]),le=(0,l.useMemo)((()=>u.X.convertTime(d)),[d]),ue=(0,l.useMemo)((()=>`${q(se)}`),[se]),me=(0,l.useMemo)((()=>`${q(le)}`),[le]);return(0,l.useEffect)((()=>{(0,u.X)("audio").setup({decodeCallback:ae,updateCallback:re,endedCallback:te,errorCallback:oe}),O&&(0,u.X)("audio").module("vocalcanceler").param(O)}),[ae,re,te,oe,O]),(0,t.jsxs)("div",{className:"AudioFieldset"+(i?" -drag":""),onDragEnter:Q,onDragOver:Y,onDragLeave:M,onDrop:$,children:[(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:"Audio"}),(0,t.jsxs)("div",{className:"AudioFieldset__selectAudio",children:[(0,t.jsx)(J,{accept:"audo/wav, audio/ogg, audio/mpeg, audio/x-m4a, audio/*",disabled:!1,placeholder:"Audio File (wav, ogg, mp3 ... etc)",filename:e,drag:i,onChange:U}),(0,t.jsx)(W,{active:!r,label:r?"Start Audio":"Stop Audio",width:70,height:33,image:"/assets/images/button-audio.png",size:"70px 99px",onClick:D})]}),(0,t.jsx)(z,{label:`${ue} / ${me}`,autoupdate:!0,defaultValue:Math.trunc(s),min:0,max:d>0?d:0,step:1,onChange:V}),I?(0,t.jsx)(z,{label:"Playback Rate",autoupdate:!1,defaultValue:1,min:.05,max:2,step:.025,onChange:P}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z,{label:"Pitch Shifter",autoupdate:!1,defaultValue:1,min:.05,max:4,step:.025,onChange:L}),(0,t.jsx)(z,{label:"Speed",autoupdate:!1,defaultValue:1,min:.5,max:2,step:.05,onChange:K}),(0,t.jsx)(z,{label:"Harmonizer",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:G})]}),(0,t.jsx)(z,{label:"Vocal Canceler",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:H})]}),(0,t.jsx)(v,{isShow:f,title:"Error",hasOverlay:!0,asAlert:!0,onClose:ee,children:C}),(0,t.jsx)(v,{isShow:R,title:"Error",hasOverlay:!0,asAlert:!0,onClose:ee,children:C}),(0,t.jsx)(v,{isShow:y,title:"Progress ...",hasOverlay:!0,asAlert:!1,children:p?(0,t.jsx)(Z,{label:`${X} bytes (${x} %)`,rate:x}):null}),(0,t.jsx)(v,{isShow:T,title:"Decoding ...",hasOverlay:!0,asAlert:!1,children:p?(0,t.jsx)(Z,{}):null})]})},ae=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("autopanner").activate(),(0,u.X)("oneshot").module("autopanner").activate(),(0,u.X)("audio").module("autopanner").activate(),(0,u.X)("stream").module("autopanner").activate(),(0,u.X)("noise").module("autopanner").activate()):((0,u.X)("mixer").module("autopanner").deactivate(),(0,u.X)("oneshot").module("autopanner").deactivate(),(0,u.X)("audio").module("autopanner").deactivate(),(0,u.X)("stream").module("autopanner").deactivate(),(0,u.X)("noise").module("autopanner").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("autopanner").param({depth:a}),(0,u.X)("oneshot").module("autopanner").param({depth:a}),(0,u.X)("audio").module("autopanner").param({depth:a}),(0,u.X)("stream").module("autopanner").param({depth:a}),(0,u.X)("noise").module("autopanner").param({depth:a})}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("autopanner").param({rate:a}),(0,u.X)("oneshot").module("autopanner").param({rate:a}),(0,u.X)("audio").module("autopanner").param({rate:a}),(0,u.X)("stream").module("autopanner").param({rate:a}),(0,u.X)("noise").module("autopanner").param({rate:a})}),[]);return(0,t.jsx)("div",{className:"AutopanFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Autopan",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(z,{label:"Depth",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:o}),(0,t.jsx)(z,{label:"Rate",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:s})]})})},re=()=>{const[e,a]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),m=(0,s.wA)(),d=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("oscillator").module("glide").param({time:a}),window.clonedXSound("oscillator").module("glide").param({time:a})}),[]),n=(0,l.useCallback)((e=>{(0,u.X)("oneshot").param({transpose:e.currentTarget.valueAsNumber})}),[]),i=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;0===a?(0,u.X)("audio").module("stereo").deactivate():((0,u.X)("audio").module("stereo").activate(),(0,u.X)("audio").module("stereo").param({time:a}))}),[]),c=(0,l.useCallback)((r=>{m(E(r.currentTarget.checked)),a(!e)}),[m,e]),p=(0,l.useCallback)((e=>{m(A(e.currentTarget.checked)),o(!r)}),[m,r]);return(0,t.jsxs)("div",{className:"BasicControllers",children:[(0,t.jsx)(z,{label:"Glide",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:d}),(0,t.jsx)(z,{label:"Transpose",autoupdate:!1,defaultValue:0,min:-6,max:6,step:1,onChange:n}),(0,t.jsx)(z,{label:"Spatial",autoupdate:!1,defaultValue:0,min:0,max:1,step:.005,onChange:i}),(0,t.jsx)(S,{label:"Analyser",checked:e,labelAsText:!0,controls:"analyser-fieldset",onChange:c}),(0,t.jsx)(S,{label:"MML",checked:r,labelAsText:!0,controls:"mml-fieldset",onChange:p})]})},te=()=>{const[e,a]=(0,l.useState)(!1),[r,o]=(0,l.useState)("overdrive"),s=(0,l.useCallback)((e=>{const t=e.currentTarget.checked;if(t)switch(r){case"bitcrusher":(0,u.X)("mixer").module("bitcrusher").activate(),(0,u.X)("oneshot").module("bitcrusher").activate(),(0,u.X)("audio").module("bitcrusher").activate(),(0,u.X)("stream").module("bitcrusher").activate(),(0,u.X)("noise").module("bitcrusher").activate(),(0,u.X)("mixer").module("overdrive").deactivate(),(0,u.X)("oneshot").module("overdrive").deactivate(),(0,u.X)("audio").module("overdrive").deactivate(),(0,u.X)("stream").module("overdrive").deactivate(),(0,u.X)("noise").module("overdrive").deactivate(),(0,u.X)("mixer").module("fuzz").deactivate(),(0,u.X)("oneshot").module("fuzz").deactivate(),(0,u.X)("audio").module("fuzz").deactivate(),(0,u.X)("stream").module("fuzz").deactivate(),(0,u.X)("noise").module("fuzz").deactivate();break;case"overdrive":(0,u.X)("mixer").module("overdrive").activate(),(0,u.X)("oneshot").module("overdrive").activate(),(0,u.X)("audio").module("overdrive").activate(),(0,u.X)("stream").module("overdrive").activate(),(0,u.X)("noise").module("overdrive").activate(),(0,u.X)("mixer").module("bitcrusher").deactivate(),(0,u.X)("oneshot").module("bitcrusher").deactivate(),(0,u.X)("audio").module("bitcrusher").deactivate(),(0,u.X)("stream").module("bitcrusher").deactivate(),(0,u.X)("noise").module("bitcrusher").deactivate(),(0,u.X)("mixer").module("fuzz").deactivate(),(0,u.X)("oneshot").module("fuzz").deactivate(),(0,u.X)("audio").module("fuzz").deactivate(),(0,u.X)("stream").module("fuzz").deactivate(),(0,u.X)("noise").module("fuzz").deactivate();break;case"fuzz":(0,u.X)("mixer").module("fuzz").activate(),(0,u.X)("oneshot").module("fuzz").activate(),(0,u.X)("audio").module("fuzz").activate(),(0,u.X)("stream").module("fuzz").activate(),(0,u.X)("noise").module("fuzz").activate(),(0,u.X)("mixer").module("bitcrusher").deactivate(),(0,u.X)("oneshot").module("bitcrusher").deactivate(),(0,u.X)("audio").module("bitcrusher").deactivate(),(0,u.X)("stream").module("bitcrusher").deactivate(),(0,u.X)("noise").module("bitcrusher").deactivate(),(0,u.X)("mixer").module("overdrive").deactivate(),(0,u.X)("oneshot").module("overdrive").deactivate(),(0,u.X)("audio").module("overdrive").deactivate(),(0,u.X)("stream").module("overdrive").deactivate(),(0,u.X)("noise").module("overdrive").deactivate()}else(0,u.X)("mixer").module("bitcrusher").deactivate(),(0,u.X)("oneshot").module("bitcrusher").deactivate(),(0,u.X)("audio").module("bitcrusher").deactivate(),(0,u.X)("stream").module("bitcrusher").deactivate(),(0,u.X)("noise").module("bitcrusher").deactivate(),(0,u.X)("mixer").module("overdrive").deactivate(),(0,u.X)("oneshot").module("overdrive").deactivate(),(0,u.X)("audio").module("overdrive").deactivate(),(0,u.X)("stream").module("overdrive").deactivate(),(0,u.X)("noise").module("overdrive").deactivate(),(0,u.X)("mixer").module("fuzz").deactivate(),(0,u.X)("oneshot").module("fuzz").deactivate(),(0,u.X)("audio").module("fuzz").deactivate(),(0,u.X)("stream").module("fuzz").deactivate(),(0,u.X)("noise").module("fuzz").deactivate();a(t)}),[r]),m=(0,l.useCallback)((e=>{const a=e.currentTarget.value;switch(a){case"bitcrusher":(0,u.X)("mixer").module("bitcrusher").activate(),(0,u.X)("oneshot").module("bitcrusher").activate(),(0,u.X)("audio").module("bitcrusher").activate(),(0,u.X)("stream").module("bitcrusher").activate(),(0,u.X)("noise").module("bitcrusher").activate(),(0,u.X)("mixer").module("overdrive").deactivate(),(0,u.X)("oneshot").module("overdrive").deactivate(),(0,u.X)("audio").module("overdrive").deactivate(),(0,u.X)("stream").module("overdrive").deactivate(),(0,u.X)("noise").module("overdrive").deactivate(),(0,u.X)("mixer").module("fuzz").deactivate(),(0,u.X)("oneshot").module("fuzz").deactivate(),(0,u.X)("audio").module("fuzz").deactivate(),(0,u.X)("stream").module("fuzz").deactivate(),(0,u.X)("noise").module("fuzz").deactivate(),o(a);break;case"overdrive":(0,u.X)("mixer").module("overdrive").activate(),(0,u.X)("oneshot").module("overdrive").activate(),(0,u.X)("audio").module("overdrive").activate(),(0,u.X)("stream").module("overdrive").activate(),(0,u.X)("noise").module("overdrive").activate(),(0,u.X)("mixer").module("bitcrusher").deactivate(),(0,u.X)("oneshot").module("bitcrusher").deactivate(),(0,u.X)("audio").module("bitcrusher").deactivate(),(0,u.X)("stream").module("bitcrusher").deactivate(),(0,u.X)("noise").module("bitcrusher").deactivate(),(0,u.X)("mixer").module("fuzz").deactivate(),(0,u.X)("oneshot").module("fuzz").deactivate(),(0,u.X)("audio").module("fuzz").deactivate(),(0,u.X)("stream").module("fuzz").deactivate(),(0,u.X)("noise").module("fuzz").deactivate(),o(a);break;case"fuzz":(0,u.X)("mixer").module("fuzz").activate(),(0,u.X)("oneshot").module("fuzz").activate(),(0,u.X)("audio").module("fuzz").activate(),(0,u.X)("stream").module("fuzz").activate(),(0,u.X)("noise").module("fuzz").activate(),(0,u.X)("mixer").module("bitcrusher").deactivate(),(0,u.X)("oneshot").module("bitcrusher").deactivate(),(0,u.X)("audio").module("bitcrusher").deactivate(),(0,u.X)("stream").module("bitcrusher").deactivate(),(0,u.X)("noise").module("bitcrusher").deactivate(),(0,u.X)("mixer").module("overdrive").deactivate(),(0,u.X)("oneshot").module("overdrive").deactivate(),(0,u.X)("audio").module("overdrive").deactivate(),(0,u.X)("stream").module("overdrive").deactivate(),(0,u.X)("noise").module("overdrive").deactivate(),o(a)}}),[]),d=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("overdrive").param({drive:a}),(0,u.X)("oneshot").module("overdrive").param({drive:a}),(0,u.X)("audio").module("overdrive").param({drive:a}),(0,u.X)("stream").module("overdrive").param({drive:a}),(0,u.X)("noise").module("overdrive").param({drive:a}),(0,u.X)("mixer").module("fuzz").param({drive:a}),(0,u.X)("oneshot").module("fuzz").param({drive:a}),(0,u.X)("audio").module("fuzz").param({drive:a}),(0,u.X)("stream").module("fuzz").param({drive:a}),(0,u.X)("noise").module("fuzz").param({drive:a})}),[]),n=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("overdrive").param({level:a}),(0,u.X)("oneshot").module("overdrive").param({level:a}),(0,u.X)("audio").module("overdrive").param({level:a}),(0,u.X)("stream").module("overdrive").param({level:a}),(0,u.X)("noise").module("overdrive").param({level:a}),(0,u.X)("mixer").module("fuzz").param({level:a}),(0,u.X)("oneshot").module("fuzz").param({level:a}),(0,u.X)("audio").module("fuzz").param({level:a}),(0,u.X)("stream").module("fuzz").param({level:a}),(0,u.X)("noise").module("fuzz").param({level:a})}),[]),i=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("bitcrusher").param({bits:a}),(0,u.X)("oneshot").module("bitcrusher").param({bits:a}),(0,u.X)("audio").module("bitcrusher").param({bits:a}),(0,u.X)("stream").module("bitcrusher").param({bits:a}),(0,u.X)("noise").module("bitcrusher").param({bits:a})}),[]);return(0,t.jsx)("div",{className:"BoosterFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"OD/DS",checked:e,labelAsText:!1,onChange:s})}),(0,t.jsx)(U,{label:"Select OD/DS",values:["bitcrusher","overdrive","fuzz"],texts:["bit crusher","overdrive","fuzz"],defaultValue:"overdrive",disabled:!1,onChange:m}),"bitcrusher"===r?(0,t.jsx)(z,{label:"Bits",autoupdate:!1,defaultValue:1,min:1,max:4,step:.01,onChange:i}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z,{label:"Drive",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:d}),(0,t.jsx)(z,{label:"Level",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:n})]})]})})},oe=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("chorus").activate(),(0,u.X)("oneshot").module("chorus").activate(),(0,u.X)("audio").module("chorus").activate(),(0,u.X)("stream").module("chorus").activate(),(0,u.X)("noise").module("chorus").activate()):((0,u.X)("mixer").module("chorus").deactivate(),(0,u.X)("oneshot").module("chorus").deactivate(),(0,u.X)("audio").module("chorus").deactivate(),(0,u.X)("stream").module("chorus").deactivate(),(0,u.X)("noise").module("chorus").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber/1e3;(0,u.X)("mixer").module("chorus").param({time:a}),(0,u.X)("oneshot").module("chorus").param({time:a}),(0,u.X)("audio").module("chorus").param({time:a}),(0,u.X)("stream").module("chorus").param({time:a}),(0,u.X)("noise").module("chorus").param({time:a})}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("chorus").param({depth:a}),(0,u.X)("oneshot").module("chorus").param({depth:a}),(0,u.X)("audio").module("chorus").param({depth:a}),(0,u.X)("stream").module("chorus").param({depth:a}),(0,u.X)("noise").module("chorus").param({depth:a})}),[]),m=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("chorus").param({rate:a}),(0,u.X)("oneshot").module("chorus").param({rate:a}),(0,u.X)("audio").module("chorus").param({rate:a}),(0,u.X)("stream").module("chorus").param({rate:a}),(0,u.X)("noise").module("chorus").param({rate:a})}),[]),d=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("chorus").param({mix:a}),(0,u.X)("oneshot").module("chorus").param({mix:a}),(0,u.X)("audio").module("chorus").param({mix:a}),(0,u.X)("stream").module("chorus").param({mix:a}),(0,u.X)("noise").module("chorus").param({mix:a})}),[]),n=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("chorus").param({tone:a}),(0,u.X)("oneshot").module("chorus").param({tone:a}),(0,u.X)("audio").module("chorus").param({tone:a}),(0,u.X)("stream").module("chorus").param({tone:a}),(0,u.X)("noise").module("chorus").param({tone:a})}),[]);return(0,t.jsx)("div",{className:"ChorusFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Chorus",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(z,{label:"Time",autoupdate:!1,defaultValue:0,min:0,max:50,step:1,onChange:o}),(0,t.jsx)(z,{label:"Depth",autoupdate:!1,defaultValue:0,min:0,max:1,step:.01,onChange:s}),(0,t.jsx)(z,{label:"Rate",autoupdate:!1,defaultValue:0,min:0,max:1,step:.01,onChange:m}),(0,t.jsx)(z,{label:"Mix",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:d}),(0,t.jsx)(z,{label:"Tone",autoupdate:!1,defaultValue:4e3,min:20,max:8e3,step:1,onChange:n})]})})},se=()=>{const[e,a]=(0,l.useState)(!0),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("compressor").activate(),(0,u.X)("oneshot").module("compressor").activate(),(0,u.X)("audio").module("compressor").activate(),(0,u.X)("stream").module("compressor").activate(),(0,u.X)("noise").module("compressor").activate()):((0,u.X)("mixer").module("compressor").deactivate(),(0,u.X)("oneshot").module("compressor").deactivate(),(0,u.X)("audio").module("compressor").deactivate(),(0,u.X)("stream").module("compressor").deactivate(),(0,u.X)("noise").module("compressor").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("compressor").param({threshold:a}),(0,u.X)("oneshot").module("compressor").param({threshold:a}),(0,u.X)("audio").module("compressor").param({threshold:a}),(0,u.X)("stream").module("compressor").param({threshold:a}),(0,u.X)("noise").module("compressor").param({threshold:a})}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("compressor").param({knee:a}),(0,u.X)("oneshot").module("compressor").param({knee:a}),(0,u.X)("audio").module("compressor").param({knee:a}),(0,u.X)("stream").module("compressor").param({knee:a}),(0,u.X)("noise").module("compressor").param({knee:a})}),[]),m=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("compressor").param({ratio:a}),(0,u.X)("oneshot").module("compressor").param({ratio:a}),(0,u.X)("audio").module("compressor").param({ratio:a}),(0,u.X)("stream").module("compressor").param({ratio:a}),(0,u.X)("noise").module("compressor").param({ratio:a})}),[]),d=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("compressor").param({attack:a}),(0,u.X)("oneshot").module("compressor").param({attack:a}),(0,u.X)("audio").module("compressor").param({attack:a}),(0,u.X)("stream").module("compressor").param({attack:a}),(0,u.X)("noise").module("compressor").param({attack:a})}),[]),n=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("compressor").param({release:a}),(0,u.X)("oneshot").module("compressor").param({release:a}),(0,u.X)("audio").module("compressor").param({release:a}),(0,u.X)("stream").module("compressor").param({release:a}),(0,u.X)("noise").module("compressor").param({release:a})}),[]);return(0,t.jsx)("div",{className:"CompressorFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Compressor",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(z,{label:"Threshold",autoupdate:!1,defaultValue:-24,min:-100,max:0,step:1,onChange:o}),(0,t.jsx)(z,{label:"Knee",autoupdate:!1,defaultValue:30,min:0,max:40,step:1,onChange:s}),(0,t.jsx)(z,{label:"Ratio",autoupdate:!1,defaultValue:12,min:1,max:20,step:1,onChange:m}),(0,t.jsx)(z,{label:"Attack",autoupdate:!1,defaultValue:.003,min:0,max:1,step:.001,onChange:d}),(0,t.jsx)(z,{label:"Release",autoupdate:!1,defaultValue:.25,min:.01,max:1,step:.01,onChange:n})]})})},le=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("delay").activate(),(0,u.X)("oneshot").module("delay").activate(),(0,u.X)("audio").module("delay").activate(),(0,u.X)("stream").module("delay").activate(),(0,u.X)("noise").module("delay").activate()):((0,u.X)("mixer").module("delay").deactivate(),(0,u.X)("oneshot").module("delay").deactivate(),(0,u.X)("audio").module("delay").deactivate(),(0,u.X)("stream").module("delay").deactivate(),(0,u.X)("noise").module("delay").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber/1e3;(0,u.X)("mixer").module("delay").param({time:a}),(0,u.X)("oneshot").module("delay").param({time:a}),(0,u.X)("audio").module("delay").param({time:a}),(0,u.X)("stream").module("delay").param({time:a}),(0,u.X)("noise").module("delay").param({time:a})}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("delay").param({dry:a}),(0,u.X)("oneshot").module("delay").param({dry:a}),(0,u.X)("audio").module("delay").param({dry:a}),(0,u.X)("stream").module("delay").param({dry:a}),(0,u.X)("noise").module("delay").param({dry:a})}),[]),m=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("delay").param({wet:a}),(0,u.X)("oneshot").module("delay").param({wet:a}),(0,u.X)("audio").module("delay").param({wet:a}),(0,u.X)("stream").module("delay").param({wet:a}),(0,u.X)("noise").module("delay").param({wet:a})}),[]),d=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("delay").param({tone:a}),(0,u.X)("oneshot").module("delay").param({tone:a}),(0,u.X)("audio").module("delay").param({tone:a}),(0,u.X)("stream").module("delay").param({tone:a}),(0,u.X)("noise").module("delay").param({tone:a})}),[]),n=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("delay").param({feedback:a}),(0,u.X)("oneshot").module("delay").param({feedback:a}),(0,u.X)("audio").module("delay").param({feedback:a}),(0,u.X)("stream").module("delay").param({feedback:a}),(0,u.X)("noise").module("delay").param({feedback:a})}),[]);return(0,t.jsx)("div",{className:"DelayFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Delay",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(z,{label:"Time",autoupdate:!1,defaultValue:0,min:0,max:1e3,step:1,onChange:o}),(0,t.jsx)(z,{label:"Dry",autoupdate:!1,defaultValue:1,min:0,max:1,step:.05,onChange:s}),(0,t.jsx)(z,{label:"Wet",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:m}),(0,t.jsx)(z,{label:"Tone",autoupdate:!1,defaultValue:4e3,min:20,max:8e3,step:1,onChange:d}),(0,t.jsx)(z,{label:"Feedback",autoupdate:!1,defaultValue:0,min:0,max:.95,step:.05,onChange:n})]})})},ue=()=>{const[e,a]=(0,l.useState)(.01),[r,o]=(0,l.useState)(.3),[s,m]=(0,l.useState)(.5),[d,n]=(0,l.useState)(1),i=(0,l.useCallback)((e=>{const r=e.currentTarget.valueAsNumber;(0,u.X)("oscillator").module("envelopegenerator").param({attack:r}),window.clonedXSound("oscillator").module("envelopegenerator").param({attack:r}),(0,u.X)("oneshot").module("envelopegenerator").param({attack:r}),(0,u.X)("noise").module("envelopegenerator").param({attack:r}),a(r)}),[]),c=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("oscillator").module("envelopegenerator").param({decay:a}),window.clonedXSound("oscillator").module("envelopegenerator").param({decay:a}),(0,u.X)("oneshot").module("envelopegenerator").param({decay:a}),(0,u.X)("noise").module("envelopegenerator").param({decay:a}),o(a)}),[]),p=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("oscillator").module("envelopegenerator").param({sustain:a}),window.clonedXSound("oscillator").module("envelopegenerator").param({sustain:a}),(0,u.X)("oneshot").module("envelopegenerator").param({sustain:a}),(0,u.X)("noise").module("envelopegenerator").param({sustain:a}),m(a)}),[]),h=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("oscillator").module("envelopegenerator").param({release:a}),window.clonedXSound("oscillator").module("envelopegenerator").param({release:a}),(0,u.X)("oneshot").module("envelopegenerator").param({release:a}),(0,u.X)("noise").module("envelopegenerator").param({release:a}),n(a)}),[]),X=(0,l.useCallback)((a=>{a.firstElementChild&&a.removeChild(a.firstElementChild);const t=Number(a.getAttribute("width")??"0"),o=Number(a.getAttribute("height")??"0"),l=document.createElementNS("http://www.w3.org/2000/svg","path");let u=`M0 ${o} L${e*(t/4)} 0`;const m=e*(t/4);u+=0===r?` L${m} ${o-o*s}`:` L${m+r*(t/4)} ${o-o*s}`;const n=3*t/4;u+=` L${n} ${o-o*s}`,u+=` L${n+d*(t/4)} ${o} L${t} ${o}`,l.setAttribute("d",u),l.setAttribute("stroke","rgb(0 0 255)"),l.setAttribute("stroke-width","2"),l.setAttribute("fill","none"),a.appendChild(l)}),[e,r,s,d]);return(0,t.jsxs)("div",{className:"EnvelopeGeneratorFieldset",children:[(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:"Envelope Generator"}),(0,t.jsx)(z,{label:"Attack",autoupdate:!1,defaultValue:.01,min:0,max:1,step:.01,onChange:i}),(0,t.jsx)(z,{label:"Decay",autoupdate:!1,defaultValue:.3,min:0,max:1,step:.01,onChange:c}),(0,t.jsx)(z,{label:"Sustain",autoupdate:!1,defaultValue:.5,min:0,max:1,step:.01,onChange:p}),(0,t.jsx)(z,{label:"Release",autoupdate:!1,defaultValue:1,min:0,max:1,step:.01,onChange:h})]}),(0,t.jsx)(D,{width:280,height:100,hasHoverStyle:!1,setElementCallback:X})]})},me=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("equalizer").activate(),(0,u.X)("oneshot").module("equalizer").activate(),(0,u.X)("audio").module("equalizer").activate(),(0,u.X)("stream").module("equalizer").activate(),(0,u.X)("noise").module("equalizer").activate()):((0,u.X)("mixer").module("equalizer").deactivate(),(0,u.X)("oneshot").module("equalizer").deactivate(),(0,u.X)("audio").module("equalizer").deactivate(),(0,u.X)("stream").module("equalizer").deactivate(),(0,u.X)("noise").module("equalizer").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("equalizer").param({bass:a}),(0,u.X)("oneshot").module("equalizer").param({bass:a}),(0,u.X)("audio").module("equalizer").param({bass:a}),(0,u.X)("stream").module("equalizer").param({bass:a}),(0,u.X)("noise").module("equalizer").param({bass:a})}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("equalizer").param({middle:a}),(0,u.X)("oneshot").module("equalizer").param({middle:a}),(0,u.X)("audio").module("equalizer").param({middle:a}),(0,u.X)("stream").module("equalizer").param({middle:a}),(0,u.X)("noise").module("equalizer").param({middle:a})}),[]),m=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("equalizer").param({treble:a}),(0,u.X)("oneshot").module("equalizer").param({treble:a}),(0,u.X)("audio").module("equalizer").param({treble:a}),(0,u.X)("stream").module("equalizer").param({treble:a}),(0,u.X)("noise").module("equalizer").param({treble:a})}),[]);return(0,t.jsx)("div",{className:"EqualizerFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Equalizer",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(z,{label:"Bass",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:o}),(0,t.jsx)(z,{label:"Middle",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:s}),(0,t.jsx)(z,{label:"Treble",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:m})]})})},de=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("filter").activate(),(0,u.X)("oneshot").module("filter").activate(),(0,u.X)("audio").module("filter").activate(),(0,u.X)("stream").module("filter").activate(),(0,u.X)("noise").module("filter").activate()):((0,u.X)("mixer").module("filter").deactivate(),(0,u.X)("oneshot").module("filter").deactivate(),(0,u.X)("audio").module("filter").deactivate(),(0,u.X)("stream").module("filter").deactivate(),(0,u.X)("noise").module("filter").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.value;switch(a){case"lowpass":case"highpass":case"bandpass":case"lowshelf":case"highshelf":case"peaking":case"notch":case"allpass":(0,u.X)("mixer").module("filter").param({type:a}),(0,u.X)("oneshot").module("filter").param({type:a}),(0,u.X)("audio").module("filter").param({type:a}),(0,u.X)("stream").module("filter").param({type:a}),(0,u.X)("noise").module("filter").param({type:a})}}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("filter").param({frequency:a}),(0,u.X)("oneshot").module("filter").param({frequency:a}),(0,u.X)("audio").module("filter").param({frequency:a}),(0,u.X)("stream").module("filter").param({frequency:a}),(0,u.X)("noise").module("filter").param({frequency:a})}),[]),m=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("filter").param({Q:a}),(0,u.X)("oneshot").module("filter").param({Q:a}),(0,u.X)("audio").module("filter").param({Q:a}),(0,u.X)("stream").module("filter").param({Q:a}),(0,u.X)("noise").module("filter").param({Q:a})}),[]),d=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("filter").param({gain:a}),(0,u.X)("oneshot").module("filter").param({gain:a}),(0,u.X)("audio").module("filter").param({gain:a}),(0,u.X)("stream").module("filter").param({gain:a}),(0,u.X)("noise").module("filter").param({gain:a})}),[]),n=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("filter").param({attack:a}),(0,u.X)("oneshot").module("filter").param({attack:a}),(0,u.X)("audio").module("filter").param({attack:a}),(0,u.X)("stream").module("filter").param({attack:a}),(0,u.X)("noise").module("filter").param({attack:a})}),[]),i=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("filter").param({decay:a}),(0,u.X)("oneshot").module("filter").param({decay:a}),(0,u.X)("audio").module("filter").param({decay:a}),(0,u.X)("stream").module("filter").param({decay:a}),(0,u.X)("noise").module("filter").param({decay:a})}),[]),c=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("filter").param({sustain:a}),(0,u.X)("oneshot").module("filter").param({sustain:a}),(0,u.X)("audio").module("filter").param({sustain:a}),(0,u.X)("stream").module("filter").param({sustain:a}),(0,u.X)("noise").module("filter").param({sustain:a})}),[]),p=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("filter").param({release:a}),(0,u.X)("oneshot").module("filter").param({release:a}),(0,u.X)("audio").module("filter").param({release:a}),(0,u.X)("stream").module("filter").param({release:a}),(0,u.X)("noise").module("filter").param({release:a})}),[]);return(0,t.jsx)("div",{className:"FilterFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Filter",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(U,{label:"Select Filter",values:["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"],texts:["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"],disabled:!1,onChange:o}),(0,t.jsx)(z,{label:"Frequency",autoupdate:!1,defaultValue:8e3,min:20,max:22050,step:1,onChange:s}),(0,t.jsx)(z,{label:"Quality",autoupdate:!1,defaultValue:1,min:1,max:20,step:1,onChange:m}),(0,t.jsx)(z,{label:"Gain",autoupdate:!1,defaultValue:0,min:-18,max:18,step:1,onChange:d}),(0,t.jsx)(z,{label:"Attack",autoupdate:!1,defaultValue:.01,min:0,max:1,step:.01,onChange:n}),(0,t.jsx)(z,{label:"Decay",autoupdate:!1,defaultValue:.3,min:0,max:1,step:.01,onChange:i}),(0,t.jsx)(z,{label:"Sustain",autoupdate:!1,defaultValue:.5,min:0,max:1,step:.01,onChange:c}),(0,t.jsx)(z,{label:"Release",autoupdate:!1,defaultValue:1,min:0,max:1,step:.01,onChange:p})]})})},ne=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("flanger").activate(),(0,u.X)("oneshot").module("flanger").activate(),(0,u.X)("audio").module("flanger").activate(),(0,u.X)("stream").module("flanger").activate(),(0,u.X)("noise").module("flanger").activate()):((0,u.X)("mixer").module("flanger").deactivate(),(0,u.X)("oneshot").module("flanger").deactivate(),(0,u.X)("audio").module("flanger").deactivate(),(0,u.X)("stream").module("flanger").deactivate(),(0,u.X)("noise").module("flanger").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber/1e3;(0,u.X)("mixer").module("flanger").param({time:a}),(0,u.X)("oneshot").module("flanger").param({time:a}),(0,u.X)("audio").module("flanger").param({time:a}),(0,u.X)("stream").module("flanger").param({time:a}),(0,u.X)("noise").module("flanger").param({time:a})}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("flanger").param({depth:a}),(0,u.X)("oneshot").module("flanger").param({depth:a}),(0,u.X)("audio").module("flanger").param({depth:a}),(0,u.X)("stream").module("flanger").param({depth:a}),(0,u.X)("noise").module("flanger").param({depth:a})}),[]),m=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("flanger").param({rate:a}),(0,u.X)("oneshot").module("flanger").param({rate:a}),(0,u.X)("audio").module("flanger").param({rate:a}),(0,u.X)("stream").module("flanger").param({rate:a}),(0,u.X)("noise").module("flanger").param({rate:a})}),[]),d=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("flanger").param({dry:a}),(0,u.X)("oneshot").module("flanger").param({dry:a}),(0,u.X)("audio").module("flanger").param({dry:a}),(0,u.X)("stream").module("flanger").param({dry:a}),(0,u.X)("noise").module("flanger").param({dry:a})}),[]),n=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("flanger").param({wet:a}),(0,u.X)("oneshot").module("flanger").param({wet:a}),(0,u.X)("audio").module("flanger").param({wet:a}),(0,u.X)("stream").module("flanger").param({wet:a}),(0,u.X)("noise").module("flanger").param({wet:a})}),[]),i=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("flanger").param({tone:a}),(0,u.X)("oneshot").module("flanger").param({tone:a}),(0,u.X)("audio").module("flanger").param({tone:a}),(0,u.X)("stream").module("flanger").param({tone:a}),(0,u.X)("noise").module("flanger").param({tone:a})}),[]),c=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("flanger").param({feedback:a}),(0,u.X)("oneshot").module("flanger").param({feedback:a}),(0,u.X)("audio").module("flanger").param({feedback:a}),(0,u.X)("stream").module("flanger").param({feedback:a}),(0,u.X)("noise").module("flanger").param({feedback:a})}),[]);return(0,t.jsx)("div",{className:"FlangerFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Flanger",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(z,{label:"Time",autoupdate:!1,defaultValue:0,min:0,max:10,step:.05,onChange:o}),(0,t.jsx)(z,{label:"Depth",autoupdate:!1,defaultValue:0,min:0,max:1,step:.01,onChange:s}),(0,t.jsx)(z,{label:"Rate",autoupdate:!1,defaultValue:0,min:0,max:10,step:.05,onChange:m}),(0,t.jsx)(z,{label:"Dry",autoupdate:!1,defaultValue:1,min:0,max:1,step:.05,onChange:d}),(0,t.jsx)(z,{label:"Wet",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:n}),(0,t.jsx)(z,{label:"Tone",autoupdate:!1,defaultValue:4e3,min:20,max:8e3,step:1,onChange:i}),(0,t.jsx)(z,{label:"Feedback",autoupdate:!1,defaultValue:0,min:0,max:.95,step:.05,onChange:c})]})})},ie=e=>{const{href:a,text:r,external:o,lang:s}=e;return o?(0,t.jsx)("a",{className:"TextLink",href:a,target:"_blank",rel:"noopener noreferrer",lang:s,children:r}):(0,t.jsx)("a",{className:"TextLink",href:a,lang:s,children:r})},ce=()=>{const e=(0,l.useMemo)((()=>(new Date).getFullYear()),[]);return(0,t.jsxs)("footer",{className:"Footer",children:[(0,t.jsxs)("p",{children:["Copyright (c) 2012 - ",e]}),(0,t.jsxs)("p",{children:[(0,t.jsx)(ie,{href:"https://github.com/Korilakkuma",text:"Korilakkuma",external:!0,lang:"en"}),(0,t.jsx)("span",{children:"(Tomohiro IKEDA)"})]}),(0,t.jsx)("p",{children:(0,t.jsx)(ie,{href:"https://maoudamashii.jokersounds.com/",text:"/",external:!0,lang:"ja"})})]})},pe=({rate:e,onClickSetupCallback:a})=>{const r=(0,l.useRef)(null),[o,s]=(0,l.useState)(!1),u=(0,l.useId)(),m=(0,l.useMemo)((()=>`header-label-${u}`),[u]),d=(0,l.useMemo)((()=>`header-describe-${u}`),[u]),n=(0,l.useMemo)((()=>e>0),[e]),c=(0,l.useMemo)((()=>e>=100),[e]),p=(0,l.useCallback)((()=>{s(!0)}),[]);return(0,l.useEffect)((()=>{const e=document.getElementById("app");if(null===e)return;const a=e=>Array.from(document.querySelectorAll('[aria-hidden="true"]')).some((a=>a.contains(e)));c?Array.from(e.querySelectorAll(i)).filter((e=>null!==r.current&&!r.current.contains(e)&&!a(e)&&"-1"===e.getAttribute("tabindex"))).forEach((e=>{"switch"===e.getAttribute("role")?e.setAttribute("tabindex","0"):"checkbox"===e.getAttribute("type")||"file"===e.getAttribute("type")?e.setAttribute("tabindex","-1"):e.removeAttribute("tabindex")})):o&&Array.from(e.querySelectorAll(i)).filter((e=>null!==r.current&&!r.current.contains(e)&&!a(e)&&"-1"!==e.getAttribute("tabindex"))).forEach((e=>{e.setAttribute("tabindex","-1")}))}),[o,c]),(0,t.jsxs)("header",{ref:r,hidden:c,className:"Header"+(c?" -fadeIn":" -progress"),onAnimationEnd:p,children:[(0,t.jsxs)("div",{hidden:n,children:[(0,t.jsx)("div",{className:"Header__forkMeOnGitHub",children:(0,t.jsx)("a",{href:"https://github.com/Korilakkuma/XSound.app",target:"_blank",rel:"noopener noreferrer",children:"Fork me on GitHub"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{id:m,className:"Header__logo",children:[(0,t.jsx)("img",{src:"/assets/images/logo-v09.png",alt:"XSound.app",width:"200",height:"100"}),(0,t.jsx)("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),(0,t.jsx)("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),(0,t.jsx)("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),(0,t.jsx)("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),(0,t.jsx)("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"})]}),(0,t.jsxs)("div",{id:d,className:"Header__intro",children:[(0,t.jsxs)("span",{className:"Header__moveLeft",children:["XSound.app is Web Music Application by ",(0,t.jsx)(ie,{href:"https://xsound.jp",text:"XSound (Web Audio API Library)",external:!0,lang:"en"}),"."]}),(0,t.jsx)("span",{className:"Header__moveRight",children:"Synthesizer, Effects, Visualization, Multi-Track Recording, Visual Audio Sprite ..."}),(0,t.jsx)("span",{className:"Header__moveLeft",children:"Moreover, enable to use external devices such as Audio Interfaces, MIDI."})]}),(0,t.jsx)("nav",{className:"Header__startButton",children:(0,t.jsx)("button",{type:"button",onClick:a,children:"Start Application"})})]})]}),n?(0,t.jsx)(Z,{label:`Now Loading ... (${e} %)`,rate:e}):null]})},he=e=>{const{isShow:a,hasOverlay:r,title:o,first:s,second:l,children:u,onClose:m}=e;return(0,t.jsx)("div",{className:"SelectableModal",children:(0,t.jsxs)(v,{isShow:a,hasOverlay:r,title:o,asAlert:!1,onClose:m,children:[(0,t.jsx)("div",{className:"SelectableModal__contents",children:u}),(0,t.jsxs)("div",{className:"SelectableModal__buttons",children:[(0,t.jsx)("button",{type:"button",onClick:s.action,children:s.label}),(0,t.jsx)("button",{type:"button",onClick:l.action,children:l.label})]})]})})},Xe=/<span class="x-highlight">(.+?)<\/span>/g,be=["",""],ve=({loadedApp:e,currentSoundSource:a})=>{const[r,o]=(0,l.useState)(!0),[m,d]=(0,l.useState)(!1),[i,c]=(0,l.useState)(""),[p,h]=(0,l.useState)(""),[X,b]=(0,l.useState)(0),[x,g]=(0,l.useState)(0),[C,k]=(0,l.useState)(""),[f,E]=(0,l.useState)(""),[R,A]=(0,l.useState)(!1),[I,O]=(0,l.useState)(!1),[F,w]=(0,l.useState)(0),[Q,Y]=(0,l.useState)(0),[z,M]=(0,l.useState)(['{"melody":"","bass":""}']),[$,D]=(0,l.useState)(["SAMPLE MML"]),[V,q]=(0,l.useState)(""),[B,K]=(0,l.useState)(""),[G,P]=(0,l.useState)(""),[H,W]=(0,l.useState)(""),[ee,ae]=(0,l.useState)(""),[re,te]=(0,l.useState)(!1),[oe,se]=(0,l.useState)(!1),[le,ue]=(0,l.useState)(!1),me=(0,s.wA)(),de=(0,s.d4)((e=>e.mmlState)),ne=(0,l.useCallback)(((e,r)=>{const t=e.replace(Xe,"$1"),o=r.replace(Xe,"$1");switch(a){case"oscillator":(0,u.X)("mml").ready({source:(0,u.X)("oscillator"),mmls:[t]}),window.clonedXSound("mml").ready({source:window.clonedXSound("oscillator"),mmls:[o]});break;case"piano":(0,u.X)("mml").ready({source:(0,u.X)("oneshot"),mmls:[t,o],offset:0});break;case"guitar":(0,u.X)("mml").ready({source:(0,u.X)("oneshot"),mmls:[t,o],offset:n});break;case"electric-guitar":(0,u.X)("mml").ready({source:(0,u.X)("oneshot"),mmls:[t,o],offset:176});break;case"orgel":(0,u.X)("mml").ready({source:(0,u.X)("oneshot"),mmls:[t,o],offset:264});break;case"whitenoise":case"pinknoise":case"browniannoise":(0,u.X)("mml").ready({source:(0,u.X)("noise"),mmls:[t]}),window.clonedXSound("mml").ready({source:(0,u.X)("noise"),mmls:[o]})}}),[a]),ie=(0,l.useCallback)((e=>{me(T(e.indexes)),c((0,u.X)("mml").getMML(0)??"");const a=(0,u.X)("mml").getMML(1);a&&h(a)}),[me]),ce=(0,l.useCallback)((e=>{me(N(e.indexes)),h(window.clonedXSound("mml").getMML(0)??"")}),[me]),pe=(0,l.useCallback)((e=>{me(_(e.indexes))}),[me]),ve=(0,l.useCallback)((e=>{me(j(e.indexes))}),[me]),xe=(0,l.useCallback)((()=>{for(let e=0,a=(0,u.X)("oscillator").length();e<a;e++)0!==e&&((0,u.X)("oscillator").get(e).deactivate(),window.clonedXSound("oscillator").get(e).deactivate());me(T([])),me(N([]));const e=(0,u.X)("mml").getMML(0)?.replace(Xe,"$1")??"",a=(0,u.X)("mml").getMML(1)?(0,u.X)("mml").getMML(1)?.replace(Xe,"$1")??"":window.clonedXSound("mml").getMML(0)?.replace(Xe,"$1")??"";ne(e,a),c(e),h(a),o(!0)}),[me,ne]),ge=(0,l.useCallback)((e=>{const a=e.token;switch(a.type){case"TEMPO":case"OCTAVE":case"NOTE":case"REST":case"TIE":W(`${a.token.toUpperCase()} is invalid`);break;default:W("MML is invalid")}}),[]),Ce=(0,l.useCallback)((e=>{const a=e.token;switch(a.type){case"TEMPO":case"OCTAVE":case"NOTE":case"REST":case"TIE":ae(`${a.token.toUpperCase()} is invalid`);break;default:ae("MML is invalid")}}),[]),ke=(0,l.useCallback)((e=>{if(null===e.currentTarget||null===e.currentTarget.textContent)return;const a=e.currentTarget.textContent;c(a),o(!0)}),[]),fe=(0,l.useCallback)((e=>{if(null===e.currentTarget||null===e.currentTarget.textContent)return;const a=e.currentTarget.textContent;h(a),o(!0)}),[]),Ee=(0,l.useCallback)((()=>{if(r)if(W(""),ae(""),ne(i,p),(0,u.X)("mml").currentIndex(0,X),window.clonedXSound("mml").currentIndex(0,x),"oscillator"===a){for(let e=0,a=(0,u.X)("oscillator").length();e<a;e++)(0,u.X)("oscillator").get(e).activate(),window.clonedXSound("oscillator").get(e).activate();(0,u.X)("mml").start(0,!0),window.clonedXSound("mml").start(0,!0),(0,u.X)("mixer").start([(0,u.X)("oscillator"),window.clonedXSound("oscillator")],[1,1]),(0,u.X)("mixer").module("recorder").start(),me(y([!0,!0]))}else a.endsWith("noise")?((0,u.X)("mml").start(0,!0),window.clonedXSound("mml").start(0,!0),(0,u.X)("mixer").module("recorder").start()):((0,u.X)("mml").start(0,!0),(0,u.X)("mml").start(1,!0),(0,u.X)("oneshot").module("recorder").start());else{b((0,u.X)("mml").currentIndex(0)),g(window.clonedXSound("mml").currentIndex(0)),(0,u.X)("mml").stop(),window.clonedXSound("mml").stop();for(let e=0,a=(0,u.X)("oscillator").length();e<a;e++)0!==e&&(0,u.X)("oscillator").get(e).deactivate(),window.clonedXSound("oscillator").get(e).deactivate()}o(!r)}),[me,a,r,i,p,X,x,ne]),Re=(0,l.useCallback)((()=>{(0,u.X)("mml").stop(),window.clonedXSound("mml").stop(),me(T([])),me(N([]));const e=i.replace(Xe,"$1"),a=p.replace(Xe,"$1");c(e),h(a),b(0),g(0),o(!0)}),[me,i,p]),Ae=(0,l.useCallback)((()=>{const e=i.replace(Xe,"$1"),a=p.replace(Xe,"$1"),r=JSON.stringify({title:"",artist:"",description:"",melody:e,bass:a});k(u.X.toTextFile(r,!0))}),[i,p]),ye=(0,l.useCallback)((e=>{d(e.currentTarget.checked)}),[]),Ne=(0,l.useCallback)((e=>{const a=u.X.file({event:e.nativeEvent,type:"json",successCallback:(a,r)=>{e.nativeEvent.target.value="",i||p?(be[0]=r.melody,be[1]=r.bass,ue(!0)):(ne(r.melody,r.bass),c(r.melody),h(r.bass)),q(r.title),K(r.artist),O(!1),se(!1)},errorCallback:(e,a)=>{O(!1),P(a),te(!0)},progressCallback:e=>{const{lengthComputable:a,loaded:r,total:t}=e;O(a),w(r),Y(a&&t>0?Math.trunc(r/t*100):0),se(!0)}});null===a?(P("Please upload file"),te(!0)):"string"!=typeof a&&E(a.name)}),[i,p,ne]),Te=(0,l.useCallback)((e=>{e.preventDefault(),A(!0)}),[]),je=(0,l.useCallback)((e=>{e.preventDefault(),A(!0)}),[]),_e=(0,l.useCallback)((e=>{e.preventDefault(),A(!1)}),[]),Ie=(0,l.useCallback)((e=>{e.preventDefault();const a=u.X.drop({event:e.nativeEvent,type:"json",successCallback:(e,a)=>{i||p?(be[0]=a.melody,be[1]=a.bass,ue(!0)):(ne(a.melody,a.bass),c(a.melody),h(a.bass)),q(a.title),K(a.artist),O(!1),se(!1)},errorCallback:(e,a)=>{O(!1),P(a),te(!0)},progressCallback:e=>{const{lengthComputable:a,loaded:r,total:t}=e;O(a),w(r),Y(a&&t>0?Math.trunc(r/t*100):0),se(!0)}});null===a?(P("Please drop file"),te(!0)):"string"!=typeof a&&E(a.name),A(!1)}),[i,p,ne]),Oe=(0,l.useCallback)((()=>{te(!1)}),[]),Fe=(0,l.useCallback)((()=>{ne(be[0],be[1]),c(be[0]),h(be[1]),ue(!1)}),[ne]),we=(0,l.useCallback)((()=>{E(""),ue(!1)}),[]),Se=(0,l.useCallback)((e=>{const a=JSON.parse(e.currentTarget.value);c(a.melody),h(a.bass)}),[]);return(0,l.useEffect)((()=>{if(!e)return;(0,u.X)("mml").setup({startCallback:ie,stopCallback:pe,endedCallback:xe,errorCallback:ge}),window.clonedXSound("mml").setup({startCallback:ce,stopCallback:ve,endedCallback:xe,errorCallback:Ce});const a=["/assets/mmls/sample.json"];Promise.all(a.map((e=>fetch(e)))).then((e=>e.map((e=>e.json())))).then((e=>{e.forEach((e=>{e.then((e=>{const{title:r,artist:t,melody:o,bass:s}=e;let l=0;switch(r){case"ENDLESS RAIN":l=2;break;case"Forever Love":l=3;break;case"Tears":l=4;break;case"":l=5;break;default:l=1}z[l]=JSON.stringify({melody:o,bass:s}),$[l]=`${r} | ${t}`,z.length===a.length+1&&$.length===a.length+1&&(M(z),D($))})).catch((e=>{}))}))})).catch((e=>{}))}),[e,p,z,$,ne,ie,ce,pe,ve,xe,ge,Ce]),(0,t.jsxs)("div",{id:"mml-fieldset","aria-hidden":!de,className:"MML"+(de?" -active":""),children:[V||B?(0,t.jsxs)("h2",{className:"MML__heading",children:[V," | ",B]}):null,(0,t.jsxs)("div",{className:"MML__editor"+(R?" -drag":""),onDragEnter:Te,onDragOver:je,onDragLeave:_e,onDrop:Ie,children:[(0,t.jsxs)("dl",{children:[(0,t.jsxs)("dt",{children:["Melody",H?(0,t.jsx)("span",{className:"MML__error",role:"alert",children:H}):null]}),(0,t.jsx)("dd",{contentEditable:de&&r,dangerouslySetInnerHTML:{__html:i},"aria-disabled":!de||!r,className:m?"-highlight":"",onBlur:ke})]}),(0,t.jsxs)("dl",{children:[(0,t.jsxs)("dt",{children:["Bass",ee?(0,t.jsx)("span",{className:"MML__error",role:"alert",children:ee}):null]}),(0,t.jsx)("dd",{contentEditable:de&&r,dangerouslySetInnerHTML:{__html:p},"aria-disabled":!de||!r,className:m?"-highlight":"",onBlur:fe})]})]}),(0,t.jsxs)("div",{className:"MML__controllers",children:[(0,t.jsx)("button",{type:"button",disabled:!i&&!p,"aria-label":r?"Start":"Pause",tabIndex:de?0:-1,className:"MML__controller"+(r?" -paused":""),onClick:Ee}),(0,t.jsx)("button",{type:"button","aria-label":"Rewind",tabIndex:de?0:-1,className:"MML__rewinder",onClick:Re}),(0,t.jsx)("a",{href:C,download:C?L("mml-","json"):null,role:"button",tabIndex:de?0:-1,className:"MML__download",onClick:Ae,children:"Download"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S,{label:"Highlight",checked:m,labelAsText:!0,tabIndex:de?0:-1,onChange:ye}),(0,t.jsx)(J,{accept:"application/json",disabled:!r,placeholder:"MML JSON file",filename:f,tabIndex:de?0:-1,onChange:Ne}),(0,t.jsx)(U,{label:"Select Sample MML",values:z,texts:$,disabled:!r,tabIndex:de?0:-1,onChange:Se})]})]}),(0,t.jsx)(v,{isShow:re,title:"Error",hasOverlay:!0,asAlert:!0,onClose:Oe,children:G}),(0,t.jsx)(v,{isShow:oe,title:"Progress ...",hasOverlay:!0,asAlert:!1,children:I?(0,t.jsx)(Z,{label:`${F} bytes (${Q} %)`,rate:Q}):null}),(0,t.jsx)(he,{hasOverlay:!0,isShow:le,title:"Confirmation",first:{label:"Cancel",action:we},second:{label:"OK",action:Fe},onClose:we,children:(0,t.jsx)("p",{children:"Overwrite. OK ?"})})]})},xe=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("noisesuppressor").activate(),(0,u.X)("oneshot").module("noisesuppressor").activate(),(0,u.X)("audio").module("noisesuppressor").activate(),(0,u.X)("stream").module("noisesuppressor").activate(),(0,u.X)("noise").module("noisesuppressor").activate()):((0,u.X)("mixer").module("noisesuppressor").deactivate(),(0,u.X)("oneshot").module("noisesuppressor").deactivate(),(0,u.X)("audio").module("noisesuppressor").deactivate(),(0,u.X)("stream").module("noisesuppressor").deactivate(),(0,u.X)("noise").module("noisesuppressor").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("noisesuppressor").param({threshold:a}),(0,u.X)("oneshot").module("noisesuppressor").param({threshold:a}),(0,u.X)("audio").module("noisesuppressor").param({threshold:a}),(0,u.X)("stream").module("noisesuppressor").param({threshold:a}),(0,u.X)("noise").module("noisesuppressor").param({threshold:a})}),[]);return(0,t.jsx)("div",{className:"NoiseSuppressorFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Noise Sup.",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(z,{label:"Threshold",autoupdate:!1,defaultValue:0,min:0,max:1,step:.005,onChange:o})]})})},ge=e=>{const{radioName:a,type:r,onChange:o,onChangeRadio:s}=e;return(0,t.jsxs)("form",{name:a,className:"OscillatorSelector",onChange:o,children:[(0,t.jsx)("label",{className:"OscillatorSelector__sine"+("sine"===r?" -active":""),children:(0,t.jsx)("input",{type:"radio",name:`radio-${a}`,"aria-label":"sine",checked:"sine"===r,value:"sine",onChange:s})}),(0,t.jsx)("label",{className:"OscillatorSelector__square"+("square"===r?" -active":""),children:(0,t.jsx)("input",{type:"radio",name:`radio-${a}`,"aria-label":"square",checked:"square"===r,value:"square",onChange:s})}),(0,t.jsx)("label",{className:"OscillatorSelector__sawtooth"+("sawtooth"===r?" -active":""),children:(0,t.jsx)("input",{type:"radio",name:`radio-${a}`,"aria-label":"sawtooth",checked:"sawtooth"===r,value:"sawtooth",onChange:s})}),(0,t.jsx)("label",{className:"OscillatorSelector__triangle"+("triangle"===r?" -active":""),children:(0,t.jsx)("input",{type:"radio",name:`radio-${a}`,"aria-label":"triangle",checked:"triangle"===r,value:"triangle",onChange:s})})]})},Ce=({oscillatorNumber:e,label:a,radioName:r})=>{const[o,m]=(0,l.useState)("sawtooth"),d=(0,s.wA)(),n=(0,s.d4)((e=>e.oscillatorStates)),i=(0,l.useCallback)((a=>{const r=a.currentTarget.checked;for(let a=0,t=(0,u.X)("oscillator").length();a<t;a++)0===e?(r?(0,u.X)("oscillator").get(a).activate():(0,u.X)("oscillator").get(a).deactivate(),d(y([r,n[1]]))):(r?window.clonedXSound("oscillator").get(a).activate():window.clonedXSound("oscillator").get(a).deactivate(),d(y([n[0],r])))}),[d,n,e]),c=(0,l.useCallback)((e=>{const a=e.currentTarget.elements.namedItem(`radio-${r}`);if(!(a instanceof RadioNodeList))return;const t=a.value;"sine"!==t&&"square"!==t&&"sawtooth"!==t&&"triangle"!==t||m(t)}),[r]),p=(0,l.useCallback)((a=>{const r=a.currentTarget.value;switch(r){case"sine":case"square":case"sawtooth":case"triangle":for(let a=0,t=(0,u.X)("oscillator").length();a<t;a++)0===e?(0,u.X)("oscillator").get(a).param({type:r}):window.clonedXSound("oscillator").get(a).param({type:r})}}),[e]),h=(0,l.useCallback)((a=>{const r=a.currentTarget.valueAsNumber;for(let a=0,t=(0,u.X)("oscillator").length();a<t;a++)0===e?(0,u.X)("oscillator").get(a).param({volume:r}):window.clonedXSound("oscillator").get(a).param({volume:r})}),[e]),X=(0,l.useCallback)((a=>{const r=a.currentTarget.valueAsNumber;for(let a=0,t=(0,u.X)("oscillator").length();a<t;a++)0===e?(0,u.X)("oscillator").get(a).param({octave:r}):window.clonedXSound("oscillator").get(a).param({octave:r})}),[e]),b=(0,l.useCallback)((a=>{const r=a.currentTarget.valueAsNumber;for(let a=0,t=(0,u.X)("oscillator").length();a<t;a++)0===e?(0,u.X)("oscillator").get(a).param({fine:r}):window.clonedXSound("oscillator").get(a).param({fine:r})}),[e]);return(0,t.jsx)("div",{className:"OscillatorFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:a,checked:n[e],labelAsText:!1,onChange:i})}),(0,t.jsx)(ge,{radioName:r,type:o,onChange:c,onChangeRadio:p}),(0,t.jsx)(z,{label:"Volume",autoupdate:!1,defaultValue:1,min:0,max:1,step:.05,onChange:h}),(0,t.jsx)(z,{label:"Octave",autoupdate:!1,defaultValue:0,min:-4,max:4,step:1,onChange:X}),(0,t.jsx)(z,{label:"Fine",autoupdate:!1,defaultValue:0,min:-1200,max:1200,step:1,onChange:b})]})})},ke=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("phaser").activate(),(0,u.X)("oneshot").module("phaser").activate(),(0,u.X)("audio").module("phaser").activate(),(0,u.X)("stream").module("phaser").activate(),(0,u.X)("noise").module("phaser").activate()):((0,u.X)("mixer").module("phaser").deactivate(),(0,u.X)("oneshot").module("phaser").deactivate(),(0,u.X)("audio").module("phaser").deactivate(),(0,u.X)("stream").module("phaser").deactivate(),(0,u.X)("noise").module("phaser").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=Number(e.currentTarget.value);switch(a){case 2:case 4:case 8:case 12:case 24:(0,u.X)("mixer").module("phaser").param({stage:a}),(0,u.X)("oneshot").module("phaser").param({stage:a}),(0,u.X)("audio").module("phaser").param({stage:a}),(0,u.X)("stream").module("phaser").param({stage:a}),(0,u.X)("noise").module("phaser").param({stage:a})}}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("phaser").param({frequency:a}),(0,u.X)("oneshot").module("phaser").param({frequency:a}),(0,u.X)("audio").module("phaser").param({frequency:a}),(0,u.X)("stream").module("phaser").param({frequency:a}),(0,u.X)("noise").module("phaser").param({frequency:a})}),[]),m=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("phaser").param({depth:a}),(0,u.X)("oneshot").module("phaser").param({depth:a}),(0,u.X)("audio").module("phaser").param({depth:a}),(0,u.X)("stream").module("phaser").param({depth:a}),(0,u.X)("noise").module("phaser").param({depth:a})}),[]),d=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("phaser").param({rate:a}),(0,u.X)("oneshot").module("phaser").param({rate:a}),(0,u.X)("audio").module("phaser").param({rate:a}),(0,u.X)("stream").module("phaser").param({rate:a}),(0,u.X)("noise").module("phaser").param({rate:a})}),[]),n=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("phaser").param({resonance:a}),(0,u.X)("oneshot").module("phaser").param({resonance:a}),(0,u.X)("audio").module("phaser").param({resonance:a}),(0,u.X)("stream").module("phaser").param({resonance:a}),(0,u.X)("noise").module("phaser").param({resonance:a})}),[]),i=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("phaser").param({dry:a}),(0,u.X)("oneshot").module("phaser").param({dry:a}),(0,u.X)("audio").module("phaser").param({dry:a}),(0,u.X)("stream").module("phaser").param({dry:a}),(0,u.X)("noise").module("phaser").param({dry:a})}),[]),c=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("phaser").param({wet:a}),(0,u.X)("oneshot").module("phaser").param({wet:a}),(0,u.X)("audio").module("phaser").param({wet:a}),(0,u.X)("stream").module("phaser").param({wet:a}),(0,u.X)("noise").module("phaser").param({wet:a})}),[]);return(0,t.jsx)("div",{className:"PhaserFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Phaser",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(U,{label:"Select Phaser Stages",values:["0","2","4","8","12","24"],texts:["all-pass filter","2 stages","4 stages","8 stages","12 stages","24 stages"],disabled:!1,onChange:o,defaultValue:"12"}),(0,t.jsx)(z,{label:"Frequency",autoupdate:!1,defaultValue:350,min:350,max:8e3,step:1,onChange:s}),(0,t.jsx)(z,{label:"Depth",autoupdate:!1,defaultValue:0,min:0,max:.9,step:.05,onChange:m}),(0,t.jsx)(z,{label:"Rate",autoupdate:!1,defaultValue:0,min:0,max:5,step:.05,onChange:d}),(0,t.jsx)(z,{label:"Resonance",autoupdate:!1,defaultValue:1,min:1,max:20,step:1,onChange:n}),(0,t.jsx)(z,{label:"Dry",autoupdate:!1,defaultValue:1,min:0,max:1,step:.05,onChange:i}),(0,t.jsx)(z,{label:"Wet",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:c})]})})},fe=({loadedApp:e,currentSoundSource:a})=>{const[r,o]=(0,l.useState)(new Array(n).fill(!1)),[m,d]=(0,l.useState)(!1),i=(0,s.d4)((e=>e.downMelodyKeyboardIndexes)),c=(0,s.d4)((e=>e.downBassKeyboardIndexes)),p=(0,s.d4)((e=>e.upMelodyKeyboardIndexes)),h=(0,s.d4)((e=>e.upBassKeyboardIndexes)),X=(0,s.d4)((e=>e.activeMIDIKeyboardIndexes)),b=(0,l.useCallback)((e=>{if("code"in e.nativeEvent&&"Enter"===e.nativeEvent.code)return;if("keyCode"in e.nativeEvent&&13===e.nativeEvent.keyCode)return;const t=e.currentTarget.getAttribute("data-index");if(null===t)return;const s=Number(t);if(("mouseover"===e.type||"touchmove"===e.type)&&!m)return;switch(a){case"oscillator":(0,u.X)("oscillator").ready(0,0).start(u.X.toFrequencies([s,-1,-1,-1])),window.clonedXSound("oscillator").ready(0,0).start(u.X.toFrequencies([s,-1,-1,-1])),(0,u.X)("mixer").start([(0,u.X)("oscillator"),window.clonedXSound("oscillator")],[1,1]),(0,u.X)("mixer").module("recorder").start();break;case"piano":(0,u.X)("oneshot").ready(0,0).start([s]),(0,u.X)("oneshot").module("recorder").start();break;case"guitar":(0,u.X)("oneshot").ready(0,0).start([s+n]),(0,u.X)("oneshot").module("recorder").start();break;case"electric-guitar":(0,u.X)("oneshot").ready(0,0).start([s+n+n]),(0,u.X)("oneshot").module("recorder").start();break;case"orgel":(0,u.X)("oneshot").ready(0,0).start([s+n+n+n]),(0,u.X)("oneshot").module("recorder").start();break;case"whitenoise":(0,u.X)("noise").param({type:"whitenoise"}).start(),(0,u.X)("noise").module("recorder").start();break;case"pinknoise":(0,u.X)("noise").param({type:"pinknoise"}).start(),(0,u.X)("noise").module("recorder").start();break;case"browniannoise":(0,u.X)("noise").param({type:"browniannoise"}).start(),(0,u.X)("noise").module("recorder").start()}const l=r.slice(0);l[s]=!0,o([...l]),d(!0)}),[a,r,m]),v=(0,l.useCallback)((e=>{if("code"in e.nativeEvent&&"Enter"===e.nativeEvent.code)return;if("keyCode"in e.nativeEvent&&13===e.nativeEvent.keyCode)return;e.stopPropagation();const t=e.currentTarget.getAttribute("data-index");if(null===t)return;const s=Number(t);switch(a){case"oscillator":(0,u.X)("oscillator").stop(),window.clonedXSound("oscillator").stop();break;case"piano":break;case"guitar":(0,u.X)("oneshot").stop([s+n]);break;case"electric-guitar":(0,u.X)("oneshot").stop([s+n+n]);break;case"orgel":(0,u.X)("oneshot").stop([s+n+n+n]);break;default:(0,u.X)("noise").stop()}const l=r.slice(0);l[s]=!1,o([...l]),"mouseup"!==e.type&&"touchend"!==e.type||d(!1)}),[a,r]),x=(0,l.useCallback)((()=>{if("oscillator"===a)(0,u.X)("oscillator").stop(),window.clonedXSound("oscillator").stop();else(0,u.X)("noise").stop();o([...r.map((()=>!1))]),d(!1)}),[a,r]),g=(0,l.useMemo)((()=>({"A-4":0,"A-4h":1,"B-4":2,"C-3":3,"C-3h":4,"D-3":5,"D-3h":6,"E-3":7,"F-3":8,"F-3h":9,"G-3":10,"G-3h":11,"A-3":12,"A-3h":13,"B-3":14,"C-2":15,"C-2h":16,"D-2":17,"D-2h":18,"E-2":19,"F-2":20,"F-2h":21,"G-2":22,"G-2h":23,"A-2":24,"A-2h":25,"B-2":26,"C-1":27,"C-1h":28,"D-1":29,"D-1h":30,"E-1":31,"F-1":32,"F-1h":33,"G-1":34,"G-1h":35,"A-1":36,"A-1h":37,"B-1":38,C:39,Ch:40,D:41,Dh:42,E:43,F:44,Fh:45,G:46,Gh:47,A:48,Ah:49,B:50,C1:51,C1h:52,D1:53,D1h:54,E1:55,F1:56,F1h:57,G1:58,G1h:59,A1:60,A1h:61,B1:62,C2:63,C2h:64,D2:65,D2h:66,E2:67,F2:68,F2h:69,G2:70,G2h:71,A2:72,A2h:73,B2:74,C3:75,C3h:76,D3:77,D3h:78,E3:79,F3:80,F3h:81,G3:82,G3h:83,A3:84,A3h:85,B3:86,C4:87})),[]),C=(0,l.useMemo)((()=>["A-4","B-4","C-3","D-3","E-3","F-3","G-3","A-3","B-3","C-2","D-2","E-2","F-2","G-2","A-2","B-2","C-1","D-1","E-1","F-1","G-1","A-1","B-1","C","D","E","F","G","A","B","C1","D1","E1","F1","G1","A1","B1","C2","D2","E2","F2","G2","A2","B2","C3","D3","E3","F3","G3","A3","B3","C4"]),[]),k=(0,l.useMemo)((()=>["A-4h","skip0","C-3h","D-3h","skip1","F-3h","G-3h","A-3h","skip2","C-2h","D-2h","skip3","F-2h","G-2h","A-2h","skip4","C-1h","D-1h","skip5","F-1h","G-1h","A-1h","skip6","Ch","Dh","skip7","Fh","Gh","Ah","skip8","C1h","D1h","skip9","F1h","G1h","A1h","skip10","C2h","D2h","skip11","F2h","G2h","A2h","skip12","C3h","D3h","skip13","F3h","G3h","A3h"]),[]);return(0,l.useEffect)((()=>{if(e)return window.addEventListener("mouseup",x,!1),window.addEventListener("touchend",x,!1),()=>{window.removeEventListener("mouseup",x,!1),window.removeEventListener("touchend",x,!1)}}),[e,x]),(0,t.jsxs)("div",{className:"Piano",children:[(0,t.jsx)("ul",{className:"Piano__whites",children:C.map((e=>{const a=g[e],o=i.includes(a)&&!p.includes(a),s=c.includes(a)&&!h.includes(a),l=o||s,u=l||X.includes(a);return(0,t.jsx)("li",{className:"Piano__keyboard"+(r[a]||u?" -active":""),children:(0,t.jsx)("button",{type:"button","aria-pressed":r[a]||l,"data-pitch":e,"data-index":g[e],onMouseDown:b,onTouchStart:b,onKeyDown:b,onMouseUp:v,onTouchEnd:v,onMouseOver:b,onTouchMove:b,onMouseOut:v,onKeyUp:v,onFocus:b,onBlur:v,children:e})},e)}))}),(0,t.jsx)("ul",{className:"Piano__blacks",children:k.map(((e,a)=>{switch(a%7){case 1:case 4:return(0,t.jsx)("li",{className:"Piano__keyboard -skip","aria-label":"skip"},e)}const o=g[e],s=i.includes(o)&&!p.includes(o),l=c.includes(o)&&!h.includes(o),u=s||l,m=u||X.includes(o);return(0,t.jsx)("li",{className:"Piano__keyboard"+(r[o]||m?" -active":""),children:(0,t.jsx)("button",{type:"button","aria-pressed":r[o]||u,"data-pitch":e,"data-index":g[e],onMouseDown:b,onTouchStart:b,onKeyDown:b,onMouseUp:v,onTouchEnd:v,onMouseOver:b,onTouchMove:b,onMouseOut:v,onKeyUp:v,onFocus:b,onBlur:v,children:e})},e)}))})]})},Ee=()=>{const[e,a]=(0,l.useState)(-1),[r,o]=(0,l.useState)(""),[s,m]=(0,l.useState)(!1),[d,n]=(0,l.useState)(!1),[i,c]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),X=(0,l.useMemo)((()=>B()),[]),b=(0,l.useMemo)((()=>X.recorder?.channel||2),[X]),v=(0,l.useMemo)((()=>X.recorder?.bit||16),[X]),x=(0,l.useMemo)((()=>X.recorder?.type||"objectURL"),[X]),g=(0,l.useMemo)((()=>s||""===r),[s,r]),C=(0,l.useCallback)((()=>{-1!==(0,u.X)("mixer").module("recorder").get()||-1!==(0,u.X)("oneshot").module("recorder").get()||-1!==(0,u.X)("audio").module("recorder").get()||-1!==(0,u.X)("noise").module("recorder").get()?((0,u.X)("mixer").module("recorder").stop(),(0,u.X)("oneshot").module("recorder").stop(),(0,u.X)("audio").module("recorder").stop(),(0,u.X)("noise").module("recorder").stop(),m(!1)):((0,u.X)("mixer").module("recorder").ready(e),(0,u.X)("oneshot").module("recorder").ready(e),(0,u.X)("audio").module("recorder").ready(e),(0,u.X)("noise").module("recorder").ready(e),m(!0)),-1!==(0,u.X)("stream").module("recorder").get()?((0,u.X)("stream").module("recorder").stop(),m(!1)):((0,u.X)("stream").module("recorder").ready(e),(0,u.X)("stream").start(),(0,u.X)("stream").module("recorder").start(),m(!0)),h((0,u.X)("mixer").module("recorder").has(-1,-1)||(0,u.X)("oneshot").module("recorder").has(-1,-1)||(0,u.X)("audio").module("recorder").has(-1,-1)||(0,u.X)("stream").module("recorder").has(-1,-1)||(0,u.X)("noise").module("recorder").has(-1,-1))}),[e]),k=(0,l.useCallback)((()=>{if(m(!1),(0,u.X)("mixer").module("recorder").has(-1,-1)){n(!0);const e=(0,u.X)("mixer").module("recorder").create(-1,b,v,x);if("string"==typeof e){const a=new Audio(e);return a.controls=!1,a.play(),o(e),void n(!1)}n(!1)}if((0,u.X)("oneshot").module("recorder").has(-1,-1)){n(!0);const e=(0,u.X)("oneshot").module("recorder").create(-1,b,v,x);if("string"==typeof e){const a=new Audio(e);return a.controls=!1,a.play(),o(e),void n(!1)}n(!1)}if((0,u.X)("audio").module("recorder").has(-1,-1)){n(!0);const e=(0,u.X)("audio").module("recorder").create(-1,b,v,x);if("string"==typeof e){const a=new Audio(e);return a.controls=!1,a.play(),o(e),void n(!1)}n(!1)}if((0,u.X)("stream").module("recorder").has(-1,-1)){n(!0);const e=(0,u.X)("stream").module("recorder").create(-1,b,v,x);if("string"==typeof e){const a=new Audio(e);return a.controls=!1,a.play(),o(e),void n(!1)}n(!1)}if((0,u.X)("noise").module("recorder").has(-1,-1)){n(!0);const e=(0,u.X)("noise").module("recorder").create(-1,b,v,x);if("string"==typeof e){const a=new Audio(e);return a.controls=!1,a.play(),o(e),void n(!1)}n(!1)}}),[b,v,x]),f=(0,l.useCallback)((e=>{r&&!s||e.preventDefault()}),[r,s]),E=(0,l.useCallback)((()=>{s||c(!0)}),[s]),R=(0,l.useCallback)((()=>{(0,u.X)("mixer").module("recorder").clear(e),(0,u.X)("oneshot").module("recorder").clear(e),(0,u.X)("audio").module("recorder").clear(e),(0,u.X)("stream").module("recorder").clear(e),(0,u.X)("noise").module("recorder").clear(e),h((0,u.X)("mixer").module("recorder").has(-1,-1)||(0,u.X)("oneshot").module("recorder").has(-1,-1)||(0,u.X)("audio").module("recorder").has(-1,-1)||(0,u.X)("stream").module("recorder").has(-1,-1)||(0,u.X)("noise").module("recorder").has(-1,-1)),c(!1)}),[e]),A=(0,l.useCallback)((()=>{c(!1)}),[]),y=(0,l.useCallback)((e=>{if(s)return;const r=Number(e.currentTarget.value);(0,u.X)("stream").stop(),(0,u.X)("stream").module("recorder").stop(),a(r)}),[s]),N=(0,l.useCallback)((e=>{(0,u.X)("mixer").module("recorder").param({0:e.currentTarget.valueAsNumber}),(0,u.X)("oneshot").module("recorder").param({0:e.currentTarget.valueAsNumber}),(0,u.X)("audio").module("recorder").param({0:e.currentTarget.valueAsNumber}),(0,u.X)("stream").module("recorder").param({0:e.currentTarget.valueAsNumber}),(0,u.X)("noise").module("recorder").param({0:e.currentTarget.valueAsNumber})}),[]),T=(0,l.useCallback)((e=>{(0,u.X)("mixer").module("recorder").param({1:e.currentTarget.valueAsNumber}),(0,u.X)("oneshot").module("recorder").param({1:e.currentTarget.valueAsNumber}),(0,u.X)("audio").module("recorder").param({1:e.currentTarget.valueAsNumber}),(0,u.X)("stream").module("recorder").param({1:e.currentTarget.valueAsNumber}),(0,u.X)("noise").module("recorder").param({1:e.currentTarget.valueAsNumber})}),[]);return(0,t.jsxs)("div",{className:"RecorderFieldset",children:[(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:"Recorder"}),(0,t.jsx)(U,{label:"Select Track",values:["0","1","2","3"],texts:["track 1","track 2","track 3","track 4"],disabled:s,onChange:y}),(0,t.jsx)(z,{label:"Left Channel",autoupdate:!1,defaultValue:1,min:0,max:1,step:.05,onChange:N}),(0,t.jsx)(z,{label:"Right Channel",autoupdate:!1,defaultValue:1,min:0,max:1,step:.05,onChange:T}),(0,t.jsxs)("div",{className:"RecorderFieldset__buttons",children:[(0,t.jsx)("button",{type:"button","aria-label":s?"Stop Recording":"Start Recording",className:"RecorderFieldset__controller"+(s?" -active":""),onClick:C}),(0,t.jsx)("button",{type:"button",disabled:s||!p,"aria-label":d?"Now creating WAVE file":"Create WAVE file",className:"RecorderFieldset__creator"+(d?" -active":""),onClick:k}),g?(0,t.jsx)("button",{type:"button",disabled:!0,className:"RecorderFieldset__download",children:"There is not recorded WAVE file"}):(0,t.jsx)("a",{href:r,download:L("record-","wav"),className:"RecorderFieldset__download",onClick:f,children:"Download"}),(0,t.jsx)("button",{type:"button",disabled:s,"aria-label":"Clear Track",className:"RecorderFieldset__clear",onClick:E})]})]}),(0,t.jsx)(he,{hasOverlay:!0,isShow:i,title:"Confirmation",first:{label:"Cancel",action:A},second:{label:"OK",action:R},onClose:A,children:(0,t.jsxs)("p",{children:["Clear Track ",e+1,". OK ?"]})})]})},Re=e=>{const{label:a,values:r,texts:o,groups:s,defaultValue:u,onChange:m}=e,d=(0,l.useId)();return(0,t.jsxs)("div",{className:"GroupSelect",children:[(0,t.jsx)("label",{htmlFor:d,children:a}),(0,t.jsx)("select",{id:d,defaultValue:u,onChange:m,children:s.map(((e,a)=>(0,t.jsx)("optgroup",{label:e,children:r[e].map(((a,r)=>(0,t.jsx)("option",{value:a,children:o[e][r]},a)))},a)))})]})},Ae=e=>{const{rirDescriptors:a}=e,[r,o]=(0,l.useState)(!1),s=[],m={},d={};a.forEach((e=>{const{value:a,label:r,group:t}=e;s.includes(t)||s.push(t),Array.isArray(m[t])?m[t].push(a.toString(10)):m[t]=[a.toString(10)],Array.isArray(d[t])?d[t].push(r):d[t]=[r]}));const n=(0,l.useCallback)((e=>{const a=e.currentTarget.checked;a?((0,u.X)("mixer").module("reverb").activate(),(0,u.X)("oneshot").module("reverb").activate(),(0,u.X)("audio").module("reverb").activate(),(0,u.X)("stream").module("reverb").activate(),(0,u.X)("noise").module("reverb").activate()):((0,u.X)("mixer").module("reverb").deactivate(),(0,u.X)("oneshot").module("reverb").deactivate(),(0,u.X)("audio").module("reverb").deactivate(),(0,u.X)("stream").module("reverb").deactivate(),(0,u.X)("noise").module("reverb").deactivate()),o(a)}),[]),i=(0,l.useCallback)((e=>{const a=Number(e.currentTarget.value);(0,u.X)("mixer").module("reverb").param({buffer:a}),(0,u.X)("oneshot").module("reverb").param({buffer:a}),(0,u.X)("audio").module("reverb").param({buffer:a}),(0,u.X)("stream").module("reverb").param({buffer:a}),(0,u.X)("noise").module("reverb").param({buffer:a})}),[]),c=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("reverb").param({dry:a}),(0,u.X)("oneshot").module("reverb").param({dry:a}),(0,u.X)("audio").module("reverb").param({dry:a}),(0,u.X)("stream").module("reverb").param({dry:a}),(0,u.X)("noise").module("reverb").param({dry:a})}),[]),p=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("reverb").param({wet:a}),(0,u.X)("oneshot").module("reverb").param({wet:a}),(0,u.X)("audio").module("reverb").param({wet:a}),(0,u.X)("stream").module("reverb").param({wet:a}),(0,u.X)("noise").module("reverb").param({wet:a})}),[]),h=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("reverb").param({tone:a}),(0,u.X)("oneshot").module("reverb").param({tone:a}),(0,u.X)("audio").module("reverb").param({tone:a}),(0,u.X)("stream").module("reverb").param({tone:a}),(0,u.X)("noise").module("reverb").param({tone:a})}),[]);return(0,t.jsx)("div",{className:"ReverbFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Reverb",checked:r,labelAsText:!1,onChange:n})}),(0,t.jsx)(Re,{label:"Select Reverb",groups:s,values:m,texts:d,onChange:i}),(0,t.jsx)(z,{label:"Dry",autoupdate:!1,defaultValue:1,min:0,max:1,step:.05,onChange:c}),(0,t.jsx)(z,{label:"Wet",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:p}),(0,t.jsx)(z,{label:"Tone",autoupdate:!1,defaultValue:4e3,min:20,max:8e3,step:1,onChange:h}),(0,t.jsx)("aside",{children:(0,t.jsx)(ie,{href:"http://legacy.spa.aalto.fi/projects/poririrs/",text:"This website enables to get RIR (Room Impulse Response) files !",external:!0,lang:"en"})})]})})},ye=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("ringmodulator").activate(),(0,u.X)("oneshot").module("ringmodulator").activate(),(0,u.X)("audio").module("ringmodulator").activate(),(0,u.X)("stream").module("ringmodulator").activate(),(0,u.X)("noise").module("ringmodulator").activate()):((0,u.X)("mixer").module("ringmodulator").deactivate(),(0,u.X)("oneshot").module("ringmodulator").deactivate(),(0,u.X)("audio").module("ringmodulator").deactivate(),(0,u.X)("stream").module("ringmodulator").deactivate(),(0,u.X)("noise").module("ringmodulator").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("ringmodulator").param({depth:a}),(0,u.X)("oneshot").module("ringmodulator").param({depth:a}),(0,u.X)("audio").module("ringmodulator").param({depth:a}),(0,u.X)("stream").module("ringmodulator").param({depth:a}),(0,u.X)("noise").module("ringmodulator").param({depth:a})}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("ringmodulator").param({rate:a}),(0,u.X)("oneshot").module("ringmodulator").param({rate:a}),(0,u.X)("audio").module("ringmodulator").param({rate:a}),(0,u.X)("stream").module("ringmodulator").param({rate:a}),(0,u.X)("noise").module("ringmodulator").param({rate:a})}),[]);return(0,t.jsx)("div",{className:"RingModulatorFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Ring MOD.",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(z,{label:"Depth",autoupdate:!1,defaultValue:1,min:0,max:1,step:.05,onChange:o}),(0,t.jsx)(z,{label:"Rate",autoupdate:!1,defaultValue:1e3,min:0,max:4e3,step:100,onChange:s})]})})},Ne=({currentSoundSource:e})=>{const[a,r]=(0,l.useState)(""),[o,m]=(0,l.useState)(!1),[n,i]=(0,l.useState)(["default"]),[p,h]=(0,l.useState)(["Input Device"]),[X,b]=(0,l.useState)(["default"]),[x,g]=(0,l.useState)(["Output Device"]),C=(0,s.wA)(),E=(0,s.d4)((e=>e.mastervolume)),A=(0,s.d4)((e=>e.activeMIDIKeyboardIndexes)),y=(0,l.useMemo)((()=>B()),[]),N=(0,l.useMemo)((()=>y.constraints??{}),[y]),T=(0,l.useMemo)((()=>{switch(e){case"oscillator":return"oscillator";case"piano":case"guitar":case"electric-guitar":case"orgel":return"oneshot";default:return"noise"}}),[e]),j=(0,l.useMemo)((()=>{switch(e){case"oscillator":case"piano":default:return 0;case"guitar":return d;case"electric-guitar":return 176;case"orgel":return 264}}),[e]),_=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").param({mastervolume:a}),(0,u.X)("oneshot").param({mastervolume:a}),(0,u.X)("audio").param({mastervolume:a}),(0,u.X)("stream").param({mastervolume:a}),(0,u.X)("noise").param({mastervolume:a})}),[]),I=(0,l.useCallback)(((e,a)=>{if(e<21||e>108)return;if(a<0||a>127)return;const r=e-21,t=a/127,o=[...A];if(o.push(r),"noise"===T)(0,u.X)("noise").start(),(0,u.X)("noise").module("recorder").start();else if("oscillator"===T){for(let e=0,a=(0,u.X)("oscillator").length();e<a;e++)0!==e&&((0,u.X)("oscillator").get(e).activate(),window.clonedXSound("oscillator").get(e).activate()),(0,u.X)("oscillator").get(e).param({volume:t}),window.clonedXSound("oscillator").get(e).param({volume:t});(0,u.X)("oscillator").ready(0,0).start(u.X.toFrequencies(o)),window.clonedXSound("oscillator").ready(0,0).start(u.X.toFrequencies(o)),(0,u.X)("mixer").start([(0,u.X)("oscillator"),window.clonedXSound("oscillator")],[t,t]),(0,u.X)("mixer").module("recorder").start()}else(0,u.X)("oneshot").reset(r,"volume",t).ready(0,0).start(o.map((e=>e+j))),(0,u.X)("oneshot").module("recorder").start();C(k(o))}),[C,T,A,j]),O=(0,l.useCallback)(((e,a)=>{if(e<21||e>108)return;if(a<0||a>127)return;const r=e-21,t=[...A],o=t.indexOf(r);if(-1!==o&&t.splice(o,1),"noise"===T)(0,u.X)("noise").stop(),(0,u.X)("noise").module("recorder").start();else if("oscillator"===T){(0,u.X)("oscillator").stop(),window.clonedXSound("oscillator").stop();for(let e=0,a=(0,u.X)("oscillator").length();e<a;e++)0!==e&&((0,u.X)("oscillator").get(e).deactivate(),window.clonedXSound("oscillator").get(e).deactivate())}else(0,u.X)("oneshot").stop(t.map((e=>e+j))).reset(r,"volume",1);C(f(r))}),[C,T,A,j]),F=(0,l.useCallback)(((e,a,r)=>{a[0]&&(a[0].onmidimessage=e=>{if(null!==e.data)switch(240&e.data[0]){case 144:I(e.data[1],e.data[2]);break;case 128:O(e.data[1],e.data[2])}}),r.length}),[I,O]),w=(0,l.useCallback)((a=>{(0,u.X)("stream").setup(a).ready().then((()=>{(0,u.X)("stream").devices().then((a=>{if(!a)return;const r=a.filter((e=>"audioinput"===e.kind)).map((e=>{const{label:a,groupId:r,deviceId:t}=e;return{label:a,groupId:r,deviceId:t}})),t=a.filter((e=>"audiooutput"===e.kind)).map((e=>{const{label:a,groupId:r,deviceId:t}=e;return{label:a,groupId:r,deviceId:t}}));i(r.map((e=>e.deviceId))),h(r.map((e=>e.label))),b(t.map((e=>e.deviceId))),g(t.map((e=>e.label))),"stream"===e&&(0,u.X)("stream").start()})).catch((e=>{}))})).catch((e=>{}))}),[e]),S=(0,l.useCallback)((e=>{(0,u.X)("mixer").module("analyser").stop("time").domain("time").clear(),(0,u.X)("mixer").module("analyser").stop("fft").domain("fft").clear(),(0,u.X)("oneshot").module("analyser").stop("time").domain("time").clear(),(0,u.X)("oneshot").module("analyser").stop("fft").domain("fft").clear(),(0,u.X)("audio").module("analyser").stop("time").domain("time").clear(),(0,u.X)("audio").module("analyser").stop("fft").domain("fft").clear(),(0,u.X)("stream").module("analyser").stop("time").domain("time").clear(),(0,u.X)("stream").module("analyser").stop("fft").domain("fft").clear();const a=e.currentTarget.value;switch(a){case"oscillator":case"piano":case"guitar":case"electric-guitar":case"orgel":case"whitenoise":case"pinknoise":case"browniannoise":case"stream":case"midi":break;default:return}switch(a.endsWith("noise")||((0,u.X)("noise").module("analyser").stop("time").domain("time").clear(),(0,u.X)("noise").module("analyser").stop("fft").domain("fft").clear()),C(R(a)),(0,u.X)("stream").clear(),a){case"stream":w({...c,...N});break;case"midi":(0,u.X)("midi").setup({options:{sysex:!0},successCallback:(e,a,r)=>{F(e,a,r)},errorCallback:()=>{r("Cannot use Web MIDI API."),m(!0)}})}}),[C,F,N,w]),Q=(0,l.useCallback)((async a=>{(0,u.X)("stream").clearAudioDevices();const r=a.currentTarget.value;(0,u.X)("stream").setInputDeviceId(r),await(0,u.X)("stream").ready(),"stream"===e&&(0,u.X)("stream").start()}),[e]),Y=(0,l.useCallback)((e=>{const a=e.currentTarget.value;""===a||"default"===a?(0,u.X)("stream").audioDestination():(0,u.X)("stream").streamDestination({sinkId:a,successCallback:()=>{},errorCallback:e=>{}})}),[]),M=(0,l.useCallback)((()=>{r(""),m(!1)}),[]);return(0,l.useEffect)((()=>{null!==(0,u.X)("stream")&&w(c)}),[w]),(0,t.jsxs)("div",{className:"SoundSourceFieldset",children:[(0,t.jsx)(z,{label:"Master Volume",autoupdate:!0,defaultValue:E,min:0,max:1,step:.05,onChange:_}),(0,t.jsx)(U,{label:"Select Sound Source",values:["oscillator","piano","guitar","electric-guitar","orgel","whitenoise","pinknoise","browniannoise","stream","midi"],texts:["oscillator","piano","A. guitar","E. guitar","orgel (music box)","white noise","pink noise","brownian noise","microphone","MIDI"],disabled:!1,onChange:S}),(0,t.jsx)(U,{label:"Select Input Device",values:n,texts:p,disabled:"stream"!==e,onChange:Q}),(0,t.jsx)(U,{label:"Select Output Device",values:X,texts:x,disabled:!1,onChange:Y}),(0,t.jsx)(v,{isShow:o,title:"Error",hasOverlay:!0,asAlert:!0,onClose:M,children:a})]})},Te=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("tremolo").activate(),(0,u.X)("oneshot").module("tremolo").activate(),(0,u.X)("audio").module("tremolo").activate(),(0,u.X)("stream").module("tremolo").activate(),(0,u.X)("noise").module("tremolo").activate()):((0,u.X)("mixer").module("tremolo").deactivate(),(0,u.X)("oneshot").module("tremolo").deactivate(),(0,u.X)("audio").module("tremolo").deactivate(),(0,u.X)("stream").module("tremolo").deactivate(),(0,u.X)("noise").module("tremolo").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("tremolo").param({depth:a}),(0,u.X)("oneshot").module("tremolo").param({depth:a}),(0,u.X)("audio").module("tremolo").param({depth:a}),(0,u.X)("stream").module("tremolo").param({depth:a}),(0,u.X)("noise").module("tremolo").param({depth:a})}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("tremolo").param({rate:a}),(0,u.X)("oneshot").module("tremolo").param({rate:a}),(0,u.X)("audio").module("tremolo").param({rate:a}),(0,u.X)("stream").module("tremolo").param({rate:a}),(0,u.X)("noise").module("tremolo").param({rate:a})}),[]);return(0,t.jsx)("div",{className:"TremoloFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Tremolo",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(z,{label:"Depth",autoupdate:!1,defaultValue:0,min:0,max:1,step:.05,onChange:o}),(0,t.jsx)(z,{label:"Rate",autoupdate:!1,defaultValue:0,min:0,max:25,step:.05,onChange:s})]})})},je=()=>{const[e,a]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{const r=e.currentTarget.checked;r?((0,u.X)("mixer").module("wah").activate(),(0,u.X)("oneshot").module("wah").activate(),(0,u.X)("audio").module("wah").activate(),(0,u.X)("stream").module("wah").activate(),(0,u.X)("noise").module("wah").activate()):((0,u.X)("mixer").module("wah").deactivate(),(0,u.X)("oneshot").module("wah").deactivate(),(0,u.X)("audio").module("wah").deactivate(),(0,u.X)("stream").module("wah").deactivate(),(0,u.X)("noise").module("wah").deactivate()),a(r)}),[]),o=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("wah").param({cutoff:a}),(0,u.X)("oneshot").module("wah").param({cutoff:a}),(0,u.X)("audio").module("wah").param({cutoff:a}),(0,u.X)("stream").module("wah").param({cutoff:a}),(0,u.X)("noise").module("wah").param({cutoff:a})}),[]),s=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("wah").param({depth:a}),(0,u.X)("oneshot").module("wah").param({depth:a}),(0,u.X)("audio").module("wah").param({depth:a}),(0,u.X)("stream").module("wah").param({depth:a}),(0,u.X)("noise").module("wah").param({depth:a})}),[]),m=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("wah").param({rate:a}),(0,u.X)("oneshot").module("wah").param({rate:a}),(0,u.X)("audio").module("wah").param({rate:a}),(0,u.X)("stream").module("wah").param({rate:a}),(0,u.X)("noise").module("wah").param({rate:a})}),[]),d=(0,l.useCallback)((e=>{const a=e.currentTarget.valueAsNumber;(0,u.X)("mixer").module("wah").param({resonance:a}),(0,u.X)("oneshot").module("wah").param({resonance:a}),(0,u.X)("audio").module("wah").param({resonance:a}),(0,u.X)("stream").module("wah").param({resonance:a}),(0,u.X)("noise").module("wah").param({resonance:a})}),[]);return(0,t.jsx)("div",{className:"WahFieldset",children:(0,t.jsxs)(F,{children:[(0,t.jsx)(w,{children:(0,t.jsx)(S,{label:"Wah",checked:e,labelAsText:!1,onChange:r})}),(0,t.jsx)(z,{label:"Cutoff",autoupdate:!1,defaultValue:350,min:350,max:8e3,step:1,onChange:o}),(0,t.jsx)(z,{label:"Depth",autoupdate:!1,defaultValue:0,min:0,max:.9,step:.01,onChange:s}),(0,t.jsx)(z,{label:"Rate",autoupdate:!1,defaultValue:0,min:0,max:10,step:.05,onChange:m}),(0,t.jsx)(z,{label:"Resonance",autoupdate:!1,defaultValue:1,min:1,max:20,step:1,onChange:d})]})})},_e=(0,g.U1)({reducer:O}),Ie=document.getElementById("app");(0,o.createRoot)(Ie).render((0,t.jsx)(s.Kq,{store:_e,children:(0,t.jsx)((()=>{const[e,a]=(0,l.useState)(0),[r,o]=(0,l.useState)(""),[n,i]=(0,l.useState)(!1),[c,h]=(0,l.useState)(!1),X=(0,s.d4)((e=>e.currentSoundSource)),b=(0,l.useMemo)((()=>e>=100),[e]),g=(0,l.useMemo)((()=>[`${m}/one-shots/piano/C.mp3`,`${m}/one-shots/piano/D.mp3`,`${m}/one-shots/piano/E.mp3`,`${m}/one-shots/piano/F.mp3`,`${m}/one-shots/piano/G.mp3`,`${m}/one-shots/piano/A.mp3`,`${m}/one-shots/piano/B.mp3`,`${m}/one-shots/guitar/C.mp3`,`${m}/one-shots/e-guitar/C.mp3`,`${m}/one-shots/orgel/C.mp3`]),[]),C=(0,l.useMemo)((()=>[{url:`${m}/impulse-responses/s1_r1_c.mp3`,value:1,label:"1 - 1",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s1_r2_c.mp3`,value:2,label:"1 - 2",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s1_r3_c.mp3`,value:3,label:"1 - 3",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s1_r4_c.mp3`,value:4,label:"1 - 4",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s2_r1_c.mp3`,value:5,label:"2 - 1",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s2_r2_c.mp3`,value:6,label:"2 - 2",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s2_r3_c.mp3`,value:7,label:"2 - 3",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s2_r4_c.mp3`,value:8,label:"2 - 4",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s3_r1_c.mp3`,value:9,label:"3 - 1",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s3_r2_c.mp3`,value:10,label:"3 - 2",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s3_r3_c.mp3`,value:11,label:"3 - 3",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s3_r4_c.mp3`,value:12,label:"3 - 4",group:"Sideways pointed cardioid measurements in the audience area"},{url:`${m}/impulse-responses/s1_r1_o.mp3`,value:13,label:"1 - 1",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s1_r2_o.mp3`,value:14,label:"1 - 2",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s1_r3_o.mp3`,value:15,label:"1 - 3",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s1_r4_o.mp3`,value:16,label:"1 - 4",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s2_r1_o.mp3`,value:17,label:"2 - 1",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s2_r2_o.mp3`,value:18,label:"2 - 2",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s2_r3_o.mp3`,value:19,label:"2 - 3",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s2_r4_o.mp3`,value:20,label:"2 - 4",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s3_r1_o.mp3`,value:21,label:"3 - 1",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s3_r2_o.mp3`,value:22,label:"3 - 2",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s3_r3_o.mp3`,value:23,label:"3 - 3",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s3_r4_o.mp3`,value:24,label:"3 - 4",group:"Omnidirectional measurements in the audience area"},{url:`${m}/impulse-responses/s1_p1_o.mp3`,value:25,label:"1 - 1",group:"Omnidirectional measurements on the stage"},{url:`${m}/impulse-responses/s1_p2_o.mp3`,value:26,label:"1 - 2",group:"Omnidirectional measurements on the stage"},{url:`${m}/impulse-responses/s1_p3_o.mp3`,value:27,label:"1 - 3",group:"Omnidirectional measurements on the stage"},{url:`${m}/impulse-responses/s2_p1_o.mp3`,value:28,label:"2 - 1",group:"Omnidirectional measurements on the stage"},{url:`${m}/impulse-responses/s2_p2_o.mp3`,value:29,label:"2 - 2",group:"Omnidirectional measurements on the stage"},{url:`${m}/impulse-responses/s2_p3_o.mp3`,value:30,label:"2 - 3",group:"Omnidirectional measurements on the stage"},{url:`${m}/impulse-responses/s3_p1_o.mp3`,value:31,label:"3 - 1",group:"Omnidirectional measurements on the stage"},{url:`${m}/impulse-responses/s3_p2_o.mp3`,value:32,label:"3 - 2",group:"Omnidirectional measurements on the stage"},{url:`${m}/impulse-responses/s3_p3_o.mp3`,value:33,label:"3 - 3",group:"Omnidirectional measurements on the stage"}]),[]),k=(0,l.useCallback)((e=>{switch(Math.trunc((e+9)%u.X.EQUAL_TEMPERAMENT)){case 0:case 1:return 0;case 2:case 3:return 1;case 4:return 2;case 5:case 6:return 3;case 7:case 8:return 4;case 9:case 10:return 5;case 11:return 6;default:return-1}}),[]),f=(0,l.useCallback)((e=>{let a=0;return e>=0&&e<=2?a=.0625:e>=3&&e<=14?a=.125:e>=15&&e<=26?a=.25:e>=27&&e<=38?a=.5:e>=39&&e<=50?a=1:e>=51&&e<=62?a=2:e>=63&&e<=74?a=4:e>=75&&e<=86?a=8:e>=87&&e<=98&&(a=16),[1,4,6,9,11,13,16,18,21,23,25,28,30,33,35,37,40,42,45,47,49,52,54,57,59,61,64,66,69,71,73,76,78,81,83,85].includes(e)&&(a*=u.X.FREQUENCY_RATIO),a}),[]),E=(0,l.useCallback)((e=>{let a=0;switch(e-d){case 0:a=1*u.X.FREQUENCY_RATIO**-39;break;case 1:a=1*u.X.FREQUENCY_RATIO**-38;break;case 2:a=1*u.X.FREQUENCY_RATIO**-37;break;case 3:a=1*u.X.FREQUENCY_RATIO**-36;break;case 4:a=1*u.X.FREQUENCY_RATIO**-35;break;case 5:a=1*u.X.FREQUENCY_RATIO**-34;break;case 6:a=1*u.X.FREQUENCY_RATIO**-33;break;case 7:a=1*u.X.FREQUENCY_RATIO**-32;break;case 8:a=1*u.X.FREQUENCY_RATIO**-31;break;case 9:a=1*u.X.FREQUENCY_RATIO**-30;break;case 10:a=1*u.X.FREQUENCY_RATIO**-29;break;case 11:a=1*u.X.FREQUENCY_RATIO**-28;break;case 12:a=1*u.X.FREQUENCY_RATIO**-27;break;case 13:a=1*u.X.FREQUENCY_RATIO**-26;break;case 14:a=1*u.X.FREQUENCY_RATIO**-25;break;case 15:a=1*u.X.FREQUENCY_RATIO**-24;break;case 16:a=1*u.X.FREQUENCY_RATIO**-23;break;case 17:a=1*u.X.FREQUENCY_RATIO**-22;break;case 18:a=1*u.X.FREQUENCY_RATIO**-21;break;case 19:a=1*u.X.FREQUENCY_RATIO**-20;break;case 20:a=1*u.X.FREQUENCY_RATIO**-19;break;case 21:a=1*u.X.FREQUENCY_RATIO**-18;break;case 22:a=1*u.X.FREQUENCY_RATIO**-17;break;case 23:a=1*u.X.FREQUENCY_RATIO**-16;break;case 24:a=1*u.X.FREQUENCY_RATIO**-15;break;case 25:a=1*u.X.FREQUENCY_RATIO**-14;break;case 26:a=1*u.X.FREQUENCY_RATIO**-13;break;case 27:a=1*u.X.FREQUENCY_RATIO**-12;break;case 28:a=1*u.X.FREQUENCY_RATIO**-11;break;case 29:a=1*u.X.FREQUENCY_RATIO**-10;break;case 30:a=1*u.X.FREQUENCY_RATIO**-9;break;case 31:a=1*u.X.FREQUENCY_RATIO**-8;break;case 32:a=1*u.X.FREQUENCY_RATIO**-7;break;case 33:a=1*u.X.FREQUENCY_RATIO**-6;break;case 34:a=1*u.X.FREQUENCY_RATIO**-5;break;case 35:a=1*u.X.FREQUENCY_RATIO**-4;break;case 36:a=1*u.X.FREQUENCY_RATIO**-3;break;case 37:a=1*u.X.FREQUENCY_RATIO**-2;break;case 38:a=1*u.X.FREQUENCY_RATIO**-1;break;case 39:a=1;break;case 40:a=1*u.X.FREQUENCY_RATIO**1;break;case 41:a=1*u.X.FREQUENCY_RATIO**2;break;case 42:a=1*u.X.FREQUENCY_RATIO**3;break;case 43:a=1*u.X.FREQUENCY_RATIO**4;break;case 44:a=1*u.X.FREQUENCY_RATIO**5;break;case 45:a=1*u.X.FREQUENCY_RATIO**6;break;case 46:a=1*u.X.FREQUENCY_RATIO**7;break;case 47:a=1*u.X.FREQUENCY_RATIO**8;break;case 48:a=1*u.X.FREQUENCY_RATIO**9;break;case 49:a=1*u.X.FREQUENCY_RATIO**10;break;case 50:a=1*u.X.FREQUENCY_RATIO**11;break;case 51:a=1*u.X.FREQUENCY_RATIO**12;break;case 52:a=1*u.X.FREQUENCY_RATIO**13;break;case 53:a=1*u.X.FREQUENCY_RATIO**14;break;case 54:a=1*u.X.FREQUENCY_RATIO**15;break;case 55:a=1*u.X.FREQUENCY_RATIO**16;break;case 56:a=1*u.X.FREQUENCY_RATIO**17;break;case 57:a=1*u.X.FREQUENCY_RATIO**18;break;case 58:a=1*u.X.FREQUENCY_RATIO**19;break;case 59:a=1*u.X.FREQUENCY_RATIO**20;break;case 60:a=1*u.X.FREQUENCY_RATIO**21;break;case 61:a=1*u.X.FREQUENCY_RATIO**22;break;case 62:a=1*u.X.FREQUENCY_RATIO**23;break;case 63:a=1*u.X.FREQUENCY_RATIO**24;break;case 64:a=1*u.X.FREQUENCY_RATIO**25;break;case 65:a=1*u.X.FREQUENCY_RATIO**26;break;case 66:a=1*u.X.FREQUENCY_RATIO**27;break;case 67:a=1*u.X.FREQUENCY_RATIO**28;break;case 68:a=1*u.X.FREQUENCY_RATIO**29;break;case 69:a=1*u.X.FREQUENCY_RATIO**30;break;case 70:a=1*u.X.FREQUENCY_RATIO**31;break;case 71:a=1*u.X.FREQUENCY_RATIO**33;break;case 77:a=1*u.X.FREQUENCY_RATIO**34;break;case 78:a=1*u.X.FREQUENCY_RATIO**35;break;case 79:a=1*u.X.FREQUENCY_RATIO**36;break;case 80:a=1*u.X.FREQUENCY_RATIO**37;break;case 81:a=1*u.X.FREQUENCY_RATIO**38;break;case 82:a=1*u.X.FREQUENCY_RATIO**39;break;case 83:a=1*u.X.FREQUENCY_RATIO**40;break;case 84:a=1*u.X.FREQUENCY_RATIO**41;break;case 85:a=1*u.X.FREQUENCY_RATIO**42;break;case 86:a=1*u.X.FREQUENCY_RATIO**43;break;case 87:a=1*u.X.FREQUENCY_RATIO**44;break;case 88:a=1*u.X.FREQUENCY_RATIO**45}return a}),[]),R=(0,l.useCallback)((e=>{let a=0;switch(e-d-d){case 0:a=1*u.X.FREQUENCY_RATIO**-39;break;case 1:a=1*u.X.FREQUENCY_RATIO**-38;break;case 2:a=1*u.X.FREQUENCY_RATIO**-37;break;case 3:a=1*u.X.FREQUENCY_RATIO**-36;break;case 4:a=1*u.X.FREQUENCY_RATIO**-35;break;case 5:a=1*u.X.FREQUENCY_RATIO**-34;break;case 6:a=1*u.X.FREQUENCY_RATIO**-33;break;case 7:a=1*u.X.FREQUENCY_RATIO**-32;break;case 8:a=1*u.X.FREQUENCY_RATIO**-31;break;case 9:a=1*u.X.FREQUENCY_RATIO**-30;break;case 10:a=1*u.X.FREQUENCY_RATIO**-29;break;case 11:a=1*u.X.FREQUENCY_RATIO**-28;break;case 12:a=1*u.X.FREQUENCY_RATIO**-27;break;case 13:a=1*u.X.FREQUENCY_RATIO**-26;break;case 14:a=1*u.X.FREQUENCY_RATIO**-25;break;case 15:a=1*u.X.FREQUENCY_RATIO**-24;break;case 16:a=1*u.X.FREQUENCY_RATIO**-23;break;case 17:a=1*u.X.FREQUENCY_RATIO**-22;break;case 18:a=1*u.X.FREQUENCY_RATIO**-21;break;case 19:a=1*u.X.FREQUENCY_RATIO**-20;break;case 20:a=1*u.X.FREQUENCY_RATIO**-19;break;case 21:a=1*u.X.FREQUENCY_RATIO**-18;break;case 22:a=1*u.X.FREQUENCY_RATIO**-17;break;case 23:a=1*u.X.FREQUENCY_RATIO**-16;break;case 24:a=1*u.X.FREQUENCY_RATIO**-15;break;case 25:a=1*u.X.FREQUENCY_RATIO**-14;break;case 26:a=1*u.X.FREQUENCY_RATIO**-13;break;case 27:a=1*u.X.FREQUENCY_RATIO**-12;break;case 28:a=1*u.X.FREQUENCY_RATIO**-11;break;case 29:a=1*u.X.FREQUENCY_RATIO**-10;break;case 30:a=1*u.X.FREQUENCY_RATIO**-9;break;case 31:a=1*u.X.FREQUENCY_RATIO**-8;break;case 32:a=1*u.X.FREQUENCY_RATIO**-7;break;case 33:a=1*u.X.FREQUENCY_RATIO**-6;break;case 34:a=1*u.X.FREQUENCY_RATIO**-5;break;case 35:a=1*u.X.FREQUENCY_RATIO**-4;break;case 36:a=1*u.X.FREQUENCY_RATIO**-3;break;case 37:a=1*u.X.FREQUENCY_RATIO**-2;break;case 38:a=1*u.X.FREQUENCY_RATIO**-1;break;case 39:a=1;break;case 40:a=1*u.X.FREQUENCY_RATIO**1;break;case 41:a=1*u.X.FREQUENCY_RATIO**2;break;case 42:a=1*u.X.FREQUENCY_RATIO**3;break;case 43:a=1*u.X.FREQUENCY_RATIO**4;break;case 44:a=1*u.X.FREQUENCY_RATIO**5;break;case 45:a=1*u.X.FREQUENCY_RATIO**6;break;case 46:a=1*u.X.FREQUENCY_RATIO**7;break;case 47:a=1*u.X.FREQUENCY_RATIO**8;break;case 48:a=1*u.X.FREQUENCY_RATIO**9;break;case 49:a=1*u.X.FREQUENCY_RATIO**10;break;case 50:a=1*u.X.FREQUENCY_RATIO**11;break;case 51:a=1*u.X.FREQUENCY_RATIO**12;break;case 52:a=1*u.X.FREQUENCY_RATIO**13;break;case 53:a=1*u.X.FREQUENCY_RATIO**14;break;case 54:a=1*u.X.FREQUENCY_RATIO**15;break;case 55:a=1*u.X.FREQUENCY_RATIO**16;break;case 56:a=1*u.X.FREQUENCY_RATIO**17;break;case 57:a=1*u.X.FREQUENCY_RATIO**18;break;case 58:a=1*u.X.FREQUENCY_RATIO**19;break;case 59:a=1*u.X.FREQUENCY_RATIO**20;break;case 60:a=1*u.X.FREQUENCY_RATIO**21;break;case 61:a=1*u.X.FREQUENCY_RATIO**22;break;case 62:a=1*u.X.FREQUENCY_RATIO**23;break;case 63:a=1*u.X.FREQUENCY_RATIO**24;break;case 64:a=1*u.X.FREQUENCY_RATIO**25;break;case 65:a=1*u.X.FREQUENCY_RATIO**26;break;case 66:a=1*u.X.FREQUENCY_RATIO**27;break;case 67:a=1*u.X.FREQUENCY_RATIO**28;break;case 68:a=1*u.X.FREQUENCY_RATIO**29;break;case 69:a=1*u.X.FREQUENCY_RATIO**30;break;case 70:a=1*u.X.FREQUENCY_RATIO**31;break;case 71:a=1*u.X.FREQUENCY_RATIO**33;break;case 77:a=1*u.X.FREQUENCY_RATIO**34;break;case 78:a=1*u.X.FREQUENCY_RATIO**35;break;case 79:a=1*u.X.FREQUENCY_RATIO**36;break;case 80:a=1*u.X.FREQUENCY_RATIO**37;break;case 81:a=1*u.X.FREQUENCY_RATIO**38;break;case 82:a=1*u.X.FREQUENCY_RATIO**39;break;case 83:a=1*u.X.FREQUENCY_RATIO**40;break;case 84:a=1*u.X.FREQUENCY_RATIO**41;break;case 85:a=1*u.X.FREQUENCY_RATIO**42;break;case 86:a=1*u.X.FREQUENCY_RATIO**43;break;case 87:a=1*u.X.FREQUENCY_RATIO**44;break;case 88:a=1*u.X.FREQUENCY_RATIO**45}return a}),[]),A=(0,l.useCallback)((e=>{let a=0;switch(e-d-d-d){case 0:a=1*u.X.FREQUENCY_RATIO**-39;break;case 1:a=1*u.X.FREQUENCY_RATIO**-38;break;case 2:a=1*u.X.FREQUENCY_RATIO**-37;break;case 3:a=1*u.X.FREQUENCY_RATIO**-36;break;case 4:a=1*u.X.FREQUENCY_RATIO**-35;break;case 5:a=1*u.X.FREQUENCY_RATIO**-34;break;case 6:a=1*u.X.FREQUENCY_RATIO**-33;break;case 7:a=1*u.X.FREQUENCY_RATIO**-32;break;case 8:a=1*u.X.FREQUENCY_RATIO**-31;break;case 9:a=1*u.X.FREQUENCY_RATIO**-30;break;case 10:a=1*u.X.FREQUENCY_RATIO**-29;break;case 11:a=1*u.X.FREQUENCY_RATIO**-28;break;case 12:a=1*u.X.FREQUENCY_RATIO**-27;break;case 13:a=1*u.X.FREQUENCY_RATIO**-26;break;case 14:a=1*u.X.FREQUENCY_RATIO**-25;break;case 15:a=1*u.X.FREQUENCY_RATIO**-24;break;case 16:a=1*u.X.FREQUENCY_RATIO**-23;break;case 17:a=1*u.X.FREQUENCY_RATIO**-22;break;case 18:a=1*u.X.FREQUENCY_RATIO**-21;break;case 19:a=1*u.X.FREQUENCY_RATIO**-20;break;case 20:a=1*u.X.FREQUENCY_RATIO**-19;break;case 21:a=1*u.X.FREQUENCY_RATIO**-18;break;case 22:a=1*u.X.FREQUENCY_RATIO**-17;break;case 23:a=1*u.X.FREQUENCY_RATIO**-16;break;case 24:a=1*u.X.FREQUENCY_RATIO**-15;break;case 25:a=1*u.X.FREQUENCY_RATIO**-14;break;case 26:a=1*u.X.FREQUENCY_RATIO**-13;break;case 27:a=1*u.X.FREQUENCY_RATIO**-12;break;case 28:a=1*u.X.FREQUENCY_RATIO**-11;break;case 29:a=1*u.X.FREQUENCY_RATIO**-10;break;case 30:a=1*u.X.FREQUENCY_RATIO**-9;break;case 31:a=1*u.X.FREQUENCY_RATIO**-8;break;case 32:a=1*u.X.FREQUENCY_RATIO**-7;break;case 33:a=1*u.X.FREQUENCY_RATIO**-6;break;case 34:a=1*u.X.FREQUENCY_RATIO**-5;break;case 35:a=1*u.X.FREQUENCY_RATIO**-4;break;case 36:a=1*u.X.FREQUENCY_RATIO**-3;break;case 37:a=1*u.X.FREQUENCY_RATIO**-2;break;case 38:a=1*u.X.FREQUENCY_RATIO**-1;break;case 39:a=1;break;case 40:a=1*u.X.FREQUENCY_RATIO**1;break;case 41:a=1*u.X.FREQUENCY_RATIO**2;break;case 42:a=1*u.X.FREQUENCY_RATIO**3;break;case 43:a=1*u.X.FREQUENCY_RATIO**4;break;case 44:a=1*u.X.FREQUENCY_RATIO**5;break;case 45:a=1*u.X.FREQUENCY_RATIO**6;break;case 46:a=1*u.X.FREQUENCY_RATIO**7;break;case 47:a=1*u.X.FREQUENCY_RATIO**8;break;case 48:a=1*u.X.FREQUENCY_RATIO**9;break;case 49:a=1*u.X.FREQUENCY_RATIO**10;break;case 50:a=1*u.X.FREQUENCY_RATIO**11;break;case 51:a=1*u.X.FREQUENCY_RATIO**12;break;case 52:a=1*u.X.FREQUENCY_RATIO**13;break;case 53:a=1*u.X.FREQUENCY_RATIO**14;break;case 54:a=1*u.X.FREQUENCY_RATIO**15;break;case 55:a=1*u.X.FREQUENCY_RATIO**16;break;case 56:a=1*u.X.FREQUENCY_RATIO**17;break;case 57:a=1*u.X.FREQUENCY_RATIO**18;break;case 58:a=1*u.X.FREQUENCY_RATIO**19;break;case 59:a=1*u.X.FREQUENCY_RATIO**20;break;case 60:a=1*u.X.FREQUENCY_RATIO**21;break;case 61:a=1*u.X.FREQUENCY_RATIO**22;break;case 62:a=1*u.X.FREQUENCY_RATIO**23;break;case 63:a=1*u.X.FREQUENCY_RATIO**24;break;case 64:a=1*u.X.FREQUENCY_RATIO**25;break;case 65:a=1*u.X.FREQUENCY_RATIO**26;break;case 66:a=1*u.X.FREQUENCY_RATIO**27;break;case 67:a=1*u.X.FREQUENCY_RATIO**28;break;case 68:a=1*u.X.FREQUENCY_RATIO**29;break;case 69:a=1*u.X.FREQUENCY_RATIO**30;break;case 70:a=1*u.X.FREQUENCY_RATIO**31;break;case 71:a=1*u.X.FREQUENCY_RATIO**33;break;case 77:a=1*u.X.FREQUENCY_RATIO**34;break;case 78:a=1*u.X.FREQUENCY_RATIO**35;break;case 79:a=1*u.X.FREQUENCY_RATIO**36;break;case 80:a=1*u.X.FREQUENCY_RATIO**37;break;case 81:a=1*u.X.FREQUENCY_RATIO**38;break;case 82:a=1*u.X.FREQUENCY_RATIO**39;break;case 83:a=1*u.X.FREQUENCY_RATIO**40;break;case 84:a=1*u.X.FREQUENCY_RATIO**41;break;case 85:a=1*u.X.FREQUENCY_RATIO**42;break;case 86:a=1*u.X.FREQUENCY_RATIO**43;break;case 87:a=1*u.X.FREQUENCY_RATIO**44;break;case 88:a=1*u.X.FREQUENCY_RATIO**45}return a}),[]),y=(0,l.useCallback)((()=>{const e=[];for(let a=0;a<d;a++){const r={bufferIndex:0,playbackRate:1,loop:!1,loopStart:0,loopEnd:0,volume:1};r.bufferIndex=k(a),r.playbackRate=f(a),e[a]=r}for(let a=d;a<176;a++){const r={bufferIndex:7,playbackRate:1,loop:!1,loopStart:0,loopEnd:0,volume:1};r.playbackRate=E(a),e[a]=r}for(let a=176;a<264;a++){const r={bufferIndex:8,playbackRate:1,loop:!1,loopStart:0,loopEnd:0,volume:1};r.playbackRate=R(a),e[a]=r}for(let a=264;a<352;a++){const r={bufferIndex:9,playbackRate:1,loop:!1,loopStart:0,loopEnd:0,volume:1};r.playbackRate=A(a),e[a]=r}return e}),[k,f,E,R,A]),N=(0,l.useCallback)((()=>{o(""),i(!1)}),[]),T=(0,l.useCallback)((()=>{o(""),h(!1)}),[]),j=(0,l.useCallback)((async()=>{await u.X.promise();const e=u.X.clone();u.X.free([(0,u.X)("media")]),e.free([e("oneshot"),e("audio"),e("media"),e("stream"),e("mixer"),e("midi")]),(0,u.X)("oneshot").edit([(0,u.X)("oneshot").module("compressor"),(0,u.X)("oneshot").module("wah"),(0,u.X)("oneshot").module("bitcrusher"),(0,u.X)("oneshot").module("overdrive"),(0,u.X)("oneshot").module("fuzz"),(0,u.X)("oneshot").module("preamp"),(0,u.X)("oneshot").module("filter"),(0,u.X)("oneshot").module("equalizer"),(0,u.X)("oneshot").module("tremolo"),(0,u.X)("oneshot").module("ringmodulator"),(0,u.X)("oneshot").module("phaser"),(0,u.X)("oneshot").module("chorus"),(0,u.X)("oneshot").module("flanger"),(0,u.X)("oneshot").module("stereo"),(0,u.X)("oneshot").module("delay"),(0,u.X)("oneshot").module("reverb"),(0,u.X)("oneshot").module("autopanner")]),(0,u.X)("mixer").edit([(0,u.X)("mixer").module("compressor"),(0,u.X)("mixer").module("wah"),(0,u.X)("mixer").module("bitcrusher"),(0,u.X)("mixer").module("overdrive"),(0,u.X)("mixer").module("fuzz"),(0,u.X)("mixer").module("preamp"),(0,u.X)("mixer").module("noisesuppressor"),(0,u.X)("mixer").module("filter"),(0,u.X)("mixer").module("equalizer"),(0,u.X)("mixer").module("tremolo"),(0,u.X)("mixer").module("ringmodulator"),(0,u.X)("mixer").module("phaser"),(0,u.X)("mixer").module("chorus"),(0,u.X)("mixer").module("flanger"),(0,u.X)("mixer").module("stereo"),(0,u.X)("mixer").module("delay"),(0,u.X)("mixer").module("reverb"),(0,u.X)("mixer").module("autopanner")]),(0,u.X)("audio").edit([(0,u.X)("audio").module("pitchshifter"),(0,u.X)("audio").module("compressor"),(0,u.X)("audio").module("wah"),(0,u.X)("audio").module("bitcrusher"),(0,u.X)("audio").module("overdrive"),(0,u.X)("audio").module("fuzz"),(0,u.X)("audio").module("preamp"),(0,u.X)("audio").module("noisesuppressor"),(0,u.X)("audio").module("filter"),(0,u.X)("audio").module("equalizer"),(0,u.X)("audio").module("tremolo"),(0,u.X)("audio").module("ringmodulator"),(0,u.X)("audio").module("phaser"),(0,u.X)("audio").module("chorus"),(0,u.X)("audio").module("flanger"),(0,u.X)("audio").module("stereo"),(0,u.X)("audio").module("delay"),(0,u.X)("audio").module("reverb"),(0,u.X)("audio").module("vocalcanceler"),(0,u.X)("audio").module("autopanner")]),(0,u.X)("stream").edit([(0,u.X)("stream").module("pitchshifter"),(0,u.X)("stream").module("compressor"),(0,u.X)("stream").module("wah"),(0,u.X)("stream").module("bitcrusher"),(0,u.X)("stream").module("overdrive"),(0,u.X)("stream").module("fuzz"),(0,u.X)("stream").module("preamp"),(0,u.X)("stream").module("noisesuppressor"),(0,u.X)("stream").module("filter"),(0,u.X)("stream").module("equalizer"),(0,u.X)("stream").module("tremolo"),(0,u.X)("stream").module("ringmodulator"),(0,u.X)("stream").module("phaser"),(0,u.X)("stream").module("chorus"),(0,u.X)("stream").module("flanger"),(0,u.X)("stream").module("delay"),(0,u.X)("stream").module("reverb")]),(0,u.X)("noise").edit([(0,u.X)("noise").module("compressor"),(0,u.X)("noise").module("wah"),(0,u.X)("noise").module("bitcrusher"),(0,u.X)("noise").module("overdrive"),(0,u.X)("noise").module("fuzz"),(0,u.X)("noise").module("preamp"),(0,u.X)("noise").module("noisesuppressor"),(0,u.X)("noise").module("filter"),(0,u.X)("noise").module("equalizer"),(0,u.X)("noise").module("tremolo"),(0,u.X)("noise").module("ringmodulator"),(0,u.X)("noise").module("phaser"),(0,u.X)("noise").module("chorus"),(0,u.X)("noise").module("flanger"),(0,u.X)("noise").module("delay"),(0,u.X)("noise").module("reverb"),(0,u.X)("noise").module("autopanner")]),(0,u.X)("oscillator").edit([(0,u.X)("oscillator").module("compressor"),(0,u.X)("oscillator").module("wah"),(0,u.X)("oscillator").module("bitcrusher"),(0,u.X)("oscillator").module("overdrive"),(0,u.X)("oscillator").module("fuzz"),(0,u.X)("oscillator").module("preamp"),(0,u.X)("oscillator").module("noisesuppressor"),(0,u.X)("oscillator").module("filter"),(0,u.X)("oscillator").module("equalizer"),(0,u.X)("oscillator").module("tremolo"),(0,u.X)("oscillator").module("ringmodulator"),(0,u.X)("oscillator").module("phaser"),(0,u.X)("oscillator").module("chorus"),(0,u.X)("oscillator").module("flanger"),(0,u.X)("oscillator").module("delay"),(0,u.X)("oscillator").module("reverb")]),e("oscillator").edit([(0,u.X)("oscillator").module("compressor"),(0,u.X)("oscillator").module("wah"),(0,u.X)("oscillator").module("bitcrusher"),(0,u.X)("oscillator").module("overdrive"),(0,u.X)("oscillator").module("fuzz"),(0,u.X)("oscillator").module("preamp"),(0,u.X)("oscillator").module("noisesuppressor"),(0,u.X)("oscillator").module("filter"),(0,u.X)("oscillator").module("equalizer"),(0,u.X)("oscillator").module("tremolo"),(0,u.X)("oscillator").module("ringmodulator"),(0,u.X)("oscillator").module("phaser"),(0,u.X)("oscillator").module("chorus"),(0,u.X)("oscillator").module("flanger"),(0,u.X)("oscillator").module("delay"),(0,u.X)("oscillator").module("reverb")]),(0,u.X)("oscillator").setup([!0,!1,!1,!1]),e("oscillator").setup([!1,!1,!1,!1]),(0,u.X)("audio").module("wah").param({auto:!0}),(0,u.X)("audio").module("pitchshifter").activate(),(0,u.X)("stream").module("pitchshifter").activate();const r={type:"marshall",preamp:{state:!0,samples:8192,pre:{state:!0,gain:.5,lead:.5},post:{state:!0},cabinet:{state:!0}}};(0,u.X)("mixer").module("preamp").param(r),(0,u.X)("mixer").module("chorus").param({tone:4e3}),(0,u.X)("mixer").module("flanger").param({tone:4e3}),(0,u.X)("mixer").module("delay").param({tone:4e3}),(0,u.X)("mixer").module("reverb").param({tone:4e3}),(0,u.X)("mixer").module("filter").param({frequency:8e3}),(0,u.X)("mixer").module("noisesuppressor").deactivate(),(0,u.X)("mixer").module("ringmodulator").param({depth:1,rate:1e3}),(0,u.X)("mixer").module("bitcrusher").param({bits:1}),(0,u.X)("oneshot").module("preamp").param(r),(0,u.X)("oneshot").module("chorus").param({tone:4e3}),(0,u.X)("oneshot").module("flanger").param({tone:4e3}),(0,u.X)("oneshot").module("delay").param({tone:4e3}),(0,u.X)("oneshot").module("reverb").param({tone:4e3}),(0,u.X)("oneshot").module("filter").param({frequency:8e3}),(0,u.X)("oneshot").module("ringmodulator").param({depth:1,rate:1e3}),(0,u.X)("oneshot").module("bitcrusher").param({bits:1}),(0,u.X)("audio").module("preamp").param(r),(0,u.X)("audio").module("chorus").param({tone:4e3}),(0,u.X)("audio").module("flanger").param({tone:4e3}),(0,u.X)("audio").module("delay").param({tone:4e3}),(0,u.X)("audio").module("reverb").param({tone:4e3}),(0,u.X)("audio").module("filter").param({frequency:8e3}),(0,u.X)("audio").module("noisesuppressor").deactivate(),(0,u.X)("audio").module("ringmodulator").param({depth:1,rate:1e3}),(0,u.X)("audio").module("vocalcanceler").param({algorithm:"spectrum"}),(0,u.X)("audio").module("bitcrusher").param({bits:1}),(0,u.X)("stream").module("preamp").param(r),(0,u.X)("stream").module("chorus").param({tone:4e3}),(0,u.X)("stream").module("flanger").param({tone:4e3}),(0,u.X)("stream").module("delay").param({tone:4e3}),(0,u.X)("stream").module("reverb").param({tone:4e3}),(0,u.X)("stream").module("filter").param({frequency:8e3}),(0,u.X)("stream").module("noisesuppressor").deactivate(),(0,u.X)("stream").module("ringmodulator").param({depth:1,rate:1e3}),(0,u.X)("stream").module("bitcrusher").param({bits:1}),(0,u.X)("noise").module("preamp").param(r),(0,u.X)("noise").module("chorus").param({tone:4e3}),(0,u.X)("noise").module("flanger").param({tone:4e3}),(0,u.X)("noise").module("delay").param({tone:4e3}),(0,u.X)("noise").module("reverb").param({tone:4e3}),(0,u.X)("noise").module("filter").param({frequency:8e3}),(0,u.X)("noise").module("noisesuppressor").deactivate(),(0,u.X)("noise").module("ringmodulator").param({depth:1,rate:1e3}),(0,u.X)("noise").module("bitcrusher").param({bits:1}),(0,u.X)("oscillator").module("preamp").param(r),(0,u.X)("oscillator").module("chorus").param({tone:4e3}),(0,u.X)("oscillator").module("flanger").param({tone:4e3}),(0,u.X)("oscillator").module("delay").param({tone:4e3}),(0,u.X)("oscillator").module("reverb").param({tone:4e3}),(0,u.X)("oscillator").module("filter").param({frequency:8e3}),(0,u.X)("oscillator").module("noisesuppressor").deactivate(),(0,u.X)("oscillator").module("ringmodulator").param({depth:1,rate:1e3}),(0,u.X)("oscillator").module("bitcrusher").param({bits:1}),e("oscillator").module("preamp").param(r),e("oscillator").module("chorus").param({tone:4e3}),e("oscillator").module("flanger").param({tone:4e3}),e("oscillator").module("delay").param({tone:4e3}),e("oscillator").module("reverb").param({tone:4e3}),e("oscillator").module("filter").param({frequency:8e3}),e("oscillator").module("noisesuppressor").deactivate(),e("oscillator").module("ringmodulator").param({depth:1,rate:1e3}),e("oscillator").module("bitcrusher").param({bits:1});for(let a=0,r=(0,u.X)("oscillator").length();a<r;a++)(0,u.X)("oscillator").get(a).param({type:"sawtooth"}),e("oscillator").get(a).param({type:"sawtooth"});(0,u.X)("stream").clearAudioDevices(),(0,u.X)("oneshot").setup({resources:g,settings:y(),timeout:6e4,successCallback:()=>{if(0!==C.length){const r=[];C.forEach((t=>{u.X.ajax({url:t.url,type:"arraybuffer",timeout:6e4,successCallback:(t,s)=>{u.X.decode(u.X.get(),s,(t=>{r.push(t);const o=Math.trunc(r.length/C.length*100);r.length===C.length?a(100):((0,u.X)("mixer").module("reverb").preset({rirs:r}),(0,u.X)("oneshot").module("reverb").preset({rirs:r}),(0,u.X)("audio").module("reverb").preset({rirs:r}),(0,u.X)("stream").module("reverb").preset({rirs:r}),(0,u.X)("noise").module("reverb").preset({rirs:r}),(0,u.X)("oscillator").module("reverb").preset({rirs:r}),e("oscillator").module("reverb").preset({rirs:r}),a(o))}),(()=>{o("Decode error."),i(!0)}))},errorCallback:()=>{o("The loading of RIRs failed."),i(!0)}})}))}},errorCallback:()=>{o("The loading of audio files failed."),i(!0)}}),(0,u.X)("mixer").module("recorder").setup(2,4),(0,u.X)("oneshot").module("recorder").setup(2,4),(0,u.X)("audio").module("recorder").setup(2,4),(0,u.X)("stream").module("recorder").setup(2,4),(0,u.X)("noise").module("recorder").setup(2,4),window.globalXSound=u.X,window.clonedXSound=e}),[g,C,y]);return(0,t.jsxs)(l.Fragment,{children:[(0,t.jsx)(pe,{rate:e,onClickSetupCallback:j}),(0,t.jsxs)("main",{children:[(0,t.jsxs)(p,{numberOfItems:5,children:[(0,t.jsx)(x,{children:(0,t.jsx)(Ce,{oscillatorNumber:0,label:"Oscillator - 1",radioName:"oscillator-type-0"})}),(0,t.jsx)(x,{children:(0,t.jsx)(Ce,{oscillatorNumber:1,label:"Oscillator - 2",radioName:"oscillator-type-1"})}),(0,t.jsx)(x,{children:(0,t.jsx)(ue,{})}),(0,t.jsx)(x,{children:(0,t.jsx)(Ee,{})}),(0,t.jsx)(x,{children:(0,t.jsx)(ee,{})})]}),(0,t.jsx)(H,{}),(0,t.jsx)(ve,{loadedApp:b,currentSoundSource:X}),(0,t.jsx)(Ne,{currentSoundSource:X}),(0,t.jsx)(re,{}),(0,t.jsx)(fe,{loadedApp:b,currentSoundSource:X}),(0,t.jsxs)(p,{numberOfItems:6,children:[(0,t.jsxs)(x,{children:[(0,t.jsx)(se,{}),(0,t.jsx)(je,{})]}),(0,t.jsxs)(x,{children:[(0,t.jsx)(te,{}),(0,t.jsx)(M,{}),(0,t.jsx)(xe,{})]}),(0,t.jsxs)(x,{children:[(0,t.jsx)(de,{}),(0,t.jsx)(me,{})]}),(0,t.jsxs)(x,{children:[(0,t.jsx)(Te,{}),(0,t.jsx)(ye,{}),(0,t.jsx)(ke,{})]}),(0,t.jsxs)(x,{children:[(0,t.jsx)(oe,{}),(0,t.jsx)(ne,{})]}),(0,t.jsxs)(x,{children:[(0,t.jsx)(le,{}),(0,t.jsx)(Ae,{rirDescriptors:C}),(0,t.jsx)(ae,{})]})]})]}),(0,t.jsx)(ce,{}),(0,t.jsx)(v,{isShow:n,title:"Error",hasOverlay:!0,asAlert:!0,onClose:N,children:r}),(0,t.jsx)(v,{isShow:c,title:"Error",hasOverlay:!0,asAlert:!0,onClose:T,children:r})]})}),{})}))},364:()=>{}},r={};function t(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}};return a[e](s,s.exports,t),s.exports}t.m=a,e=[],t.O=(a,r,o,s)=>{if(!r){var l=1/0;for(n=0;n<e.length;n++){for(var[r,o,s]=e[n],u=!0,m=0;m<r.length;m++)(!1&s||l>=s)&&Object.keys(t.O).every((e=>t.O[e](r[m])))?r.splice(m--,1):(u=!1,s<l&&(l=s));if(u){e.splice(n--,1);var d=o();void 0!==d&&(a=d)}}return a}s=s||0;for(var n=e.length;n>0&&e[n-1][2]>s;n--)e[n]=e[n-1];e[n]=[r,o,s]},t.d=(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={524:0};t.O.j=a=>0===e[a];var a=(a,r)=>{var o,s,[l,u,m]=r,d=0;if(l.some((a=>0!==e[a]))){for(o in u)t.o(u,o)&&(t.m[o]=u[o]);if(m)var n=m(t)}for(a&&a(r);d<l.length;d++)s=l[d],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(n)},r=this.webpackChunkxsound_app=this.webpackChunkxsound_app||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})(),t.O(void 0,[121],(()=>t(53)));var o=t.O(void 0,[121],(()=>t(364)));o=t.O(o)})();
//# sourceMappingURL=app.js.map